(this.webpackJsonpRhyme=this.webpackJsonpRhyme||[]).push([[8],{1001:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return H}));var i,r=n(11),o=n(55),a=n(4),s=n(14),c=n(351),l=n(36),u=n(37),d=n(112),p=n.n(d),h=n(13),f=n(3),b=n(179),v=n(60),m=n(995),y=n(1),j=n(994),g=n(996),O=n(0),x=n(354),w=n(16),k=n.n(w),C=n(25),_=n(150),A=function(e){return function(t){if(t.seekable&&Number.isFinite(t.duration)){var n=Object(_.a)(0,t.duration,t.currentTime+e);t.currentTime=n}}},S=function(e){var t=document,n=t.fullscreenElement,i=t.webkitFullscreenElement;return n===e||i===e},P=function(e){return e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.requestFullscreen()},E=function(){var e=Object(C.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S(t)){e.next=4;break}return e.next=3,P(t);case 3:return e.abrupt("return",!0);case 4:return e.next=6,document.webkitExitFullscreen?document.webkitExitFullscreen():document.exitFullscreen();case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=n(169),D=n(1011),I=n(268),M=n(347),V=n(1019),T=n(1021),N=n(1022),L=(n(1100),n(10)),z=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={current:void 0},e._leftOn=!1,e._ref=void 0,e}return Object(s.a)(n,[{key:"onMouseEvent",value:function(e){this.setState({current:e})}},{key:"render",value:function(){var e=this;if(!this.state.current)return null;var t=this.state.current,n=t.x,i=t.y,r=t.left,o=this.props.scale;return r&&this._leftOn!==r&&this._playRipple(n*o,i*o),this._leftOn=r,Object(L.jsx)("div",{ref:function(t){return e._ref=t},className:"cursor-player cursor"})}},{key:"_playRipple",value:function(e,t){if(this._ref){var n=document.createElement("div");n.className="ripple ripple-effect",this._ref.appendChild(n),n.style.left=e-n.offsetHeight/2+"px",n.style.top=t-n.offsetWidth/2+"px",n.addEventListener("animationend",(function(){var e=n.parentElement;e&&e.removeChild(n)}))}}}]),n}(f.Component),F=Object(f.memo)((function(e){var t=Object(v.d)(),n=Object(f.useRef)(null);return Object(f.useEffect)((function(){e.default&&t(new y.bb(null))}),[t,e.url,e.default]),Object(f.useEffect)((function(){if(n.current&&e.default){return n.current.addEventListener("cuechange",(function(){var e,i,r,o=(null===(e=n.current)||void 0===e||null===(i=e.track)||void 0===i||null===(r=i.activeCues)||void 0===r?void 0:r[0])||null;(null===o||o instanceof VTTCue)&&t(new y.bb(o))})),t(new y.zb(n.current)),function(){t(new y.zb(null))}}}),[t,e.default]),Object(L.jsx)("track",{ref:n,kind:e.kind||"metadata",srcLang:e.srcLang,default:!1!==e.default,src:e.url})}));n(1101);!function(e){e.x025="0.25",e.x050="0.5",e.x075="0.75",e.x100="1",e.x125="1.25",e.x150="1.5",e.x200="2"}(i||(i={}));var B={zoomPointerCenter:{x:0,y:0},videoSize:{width:0,height:0},videoDimm:{width:0,height:0},videoPlayable:!1,windowBlured:!1,failedUrls:new Set},U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e)).state=B,r._video=void 0,r._videoWrapper=void 0,r._inputPlayer=void 0,r._annotationsPlayer=void 0,r._expandModePlayer=void 0,r._cursor=void 0,r._lastSync=NaN,r._resizeObserver=void 0,r._mouseDownTimestamp=0,r._playbackRate=i.x100,r._screenshotCanvas=void 0,r._canPlayTimeout=null,r._moveZoomPointerCenter=void 0,r._resetZoomPointerMovementHistory=void 0,r._keyboardActionHandlers={"video.toggleFullscreen":r._withVideoRef(E),"video.forward":r._withVideoRef(A(T.a)),"video.backward":r._withVideoRef(A(-T.a))},r.onVideoRef=function(e){var t,n;r._video=e,null===(t=(n=r.props).onVideoElementRef)||void 0===t||t.call(n,e),e&&(e.playbackRate=parseFloat(r._playbackRate),e.oncanplay=function(){r._obtainDimmensions(e),r._canPlayTimeout=setTimeout((function(){r.setState({videoPlayable:!0},(function(){var e,t;return null===(e=(t=r.props).onCanPlay)||void 0===e?void 0:e.call(t,!0)}))}),500),e.oncanplay=null},e.onplaying=function(){e.onplaying=null})},r.onLoadedData=function(){var e,t;r._video&&r._video.readyState>=1&&(null===(e=(t=r.props).onReadyMetadata)||void 0===e||e.call(t))},r._onSourceError=function(e){var t=e.target;t.src&&r.setState({videoPlayable:!1,failedUrls:new Set([].concat(Object(o.a)(r.state.failedUrls),[t.src]))})},r._onClick=function(){var e,t;Date.now()-r._mouseDownTimestamp<=500&&(null===(e=(t=r.props).onClick)||void 0===e||e.call(t))},r._onWrapperRef=function(e){e&&(r._videoWrapper=e,r._resizeObserver&&r._resizeObserver.disconnect(),r._resizeObserver=new m.a((function(){if(r._video){var e={width:r._video.clientWidth,height:r._video.clientHeight};r.setState({videoSize:e})}})),r._resizeObserver.observe(r._videoWrapper))},r._onMediaPlay=function(){if(r._inputPlayer){r.props.dispatch(new y.W),r._annotationsPlayer&&r._annotationsPlayer.play(r.currentTimeInMs),r._expandModePlayer&&r._expandModePlayer.play(r.currentTimeInMs);var e=r._inputPlayer.play(r.currentTimeInMs);r._playMouseEvent(e.mouse)}},r._onSeeked=function(){if(r._video&&r._inputPlayer){r._resetZoomPointerMovementHistory();var e=r._inputPlayer.getKeyframeAt(r.currentTimeInMs);r._playMouseEvent(e.mouse)}},r._onMediaPause=function(){r._inputPlayer&&(r._inputPlayer.pause(),r._annotationsPlayer&&r._annotationsPlayer.pause(),r._expandModePlayer&&r._expandModePlayer.pause())},r._frameHandler=function(e){e.type===g.a.Mouse?r._playMouseEvent(e):r._playKeyboardEvent(e)},r._onLoadedMetadata=function(e){var t=e.target;t.duration===1/0&&(t.currentTime=1e101,t.ontimeupdate=function(){t.currentTime=.1,t.ontimeupdate=null})},r._syncInput=function(){if(r._video&&r._inputPlayer){var e=Date.now();!r._video.paused&&(isNaN(r._lastSync)||e-r._lastSync>500)&&(r._lastSync=e,r._inputPlayer.sync(r.currentTimeInMs))}},r._onWindowFocus=function(){r.setState({windowBlured:!1},(function(){var e,t;r.play(),null===(e=(t=r.props).onCanPlay)||void 0===e||e.call(t,!0)})),window.removeEventListener("focus",r._onWindowFocus)},r._onWindowBlur=function(){r.playing&&!Object(R.b)("playVideoInBackground")&&(r.pause(),r.setState({windowBlured:!0},(function(){var e,t;return null===(e=(t=r.props).onCanPlay)||void 0===e?void 0:e.call(t,!1)})),window.addEventListener("focus",r._onWindowFocus))},r._tryInitInputPlayer(e),r._tryInitAnnotationsPlayer(e),r._tryInitExpandModePlayer(e),r._screenshotCanvas=document.createElement("canvas");var s=Object(D.b)(Object(c.a)(r));return r._moveZoomPointerCenter=s.moveCenter,r._resetZoomPointerMovementHistory=s.resetHistory,r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("blur",this._onWindowBlur)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.input,i=t.expandModeData;n&&n!==e.input&&this._tryInitInputPlayer(this.props),!n&&this._inputPlayer&&(this._inputPlayer.pause(),this._inputPlayer=void 0),i&&i!==e.expandModeData&&this._tryInitExpandModePlayer(this.props),!i&&this._expandModePlayer&&(this._expandModePlayer.pause(),this._expandModePlayer=void 0),this._handleNewUrlProps(e),this._tryInitAnnotationsPlayer(this.props)}},{key:"componentWillUnmount",value:function(){this._inputPlayer&&this._inputPlayer.pause(),this._annotationsPlayer&&this._annotationsPlayer.destroy(),this._expandModePlayer&&this._expandModePlayer.destroy(),this._canPlayTimeout&&clearTimeout(this._canPlayTimeout),window.removeEventListener("blur",this._onWindowBlur),window.removeEventListener("focus",this._onWindowFocus)}},{key:"playing",get:function(){return!!this._video&&!this._video.paused}},{key:"playbackRate",get:function(){return this._playbackRate}},{key:"canPlay",get:function(){return this.state.videoPlayable&&!this.state.windowBlured}},{key:"zoomPointerDimensions",get:function(){return this.props.viewboxSize||{height:0,width:0}}},{key:"play",value:function(){return this._inputPlayer&&this._video&&this.canPlay?(this.props.dispatch(new y.W),this._video.play()):Promise.reject()}},{key:"pause",value:function(){this._inputPlayer&&this._video&&this.canPlay&&(window.removeEventListener("focus",this._onWindowFocus),this._video.pause())}},{key:"changePlaybackRate",value:function(e){if(this._video&&this._inputPlayer){this._playbackRate=e;var t=parseFloat(this._playbackRate);this._video.playbackRate=t,this._inputPlayer.setPlaybackRate(t),this._annotationsPlayer&&this._annotationsPlayer.setPlaybackRate(t,this.currentTimeInMs),this._expandModePlayer&&this._expandModePlayer.setPlaybackRate(t,this.currentTimeInMs)}}},{key:"toggleViewbox",value:function(){if(this.props.onViewboxToggle)return this.props.onViewboxToggle(!this.props.showViewbox),!this.props.showViewbox}},{key:"setCurrentTime",value:function(e){this._video&&(this.props.dispatch(new y.W),e&&!isNaN(e)||(e=0),this._video.currentTime=e)}},{key:"learnerChangedSidebarMode",value:function(){this._expandModePlayer&&this._expandModePlayer.learnerChangedSidebarMode(this.currentTimeInMs)}},{key:"currentTime",get:function(){return this._video?this._video.currentTime:0}},{key:"currentTimeInMs",get:function(){return Math.round(1e3*this.currentTime)}},{key:"duration",get:function(){return this._video?this._video.duration:0}},{key:"takeScreenshot",value:function(){if(!this._video)return null;var e=this._video,t=e.videoWidth,n=e.videoHeight;this._screenshotCanvas.width=t,this._screenshotCanvas.height=n,this._screenshotCanvas.getContext("2d").drawImage(this._video,0,0,t,n);var i=this._screenshotCanvas.toDataURL("image/png");return new Blob([j.a.toArrayBuffer(i)],{type:"image/png"})}},{key:"render",value:function(){var e=this,t=p()("vm-player",this.props.className);return this.props.sources.isEmpty()?Object(L.jsx)("div",{className:t,children:Object(L.jsx)("div",{className:"video-placeholder"})}):Object(L.jsxs)("div",{className:t,children:[Object(L.jsx)(I.c,{handlers:this._keyboardActionHandlers}),Object(L.jsxs)("div",{className:"video-wrapper",ref:this._onWrapperRef,children:[Object(L.jsxs)("video",{autoPlay:this.props.autoPlay,onTimeUpdate:this._syncInput,onSeeked:this._onSeeked,ref:this.onVideoRef,onLoadedMetadata:this._onLoadedMetadata,onLoadedData:this.onLoadedData,controls:!this.props.sources.isEmpty()&&this.props.controls,onPlaying:this._onMediaPlay,onPause:this._onMediaPause,onMouseDown:function(){return e._mouseDownTimestamp=Date.now()},onMouseUp:this._onClick,crossOrigin:"anonymous",onError:this._onSourceError,tabIndex:-1,children:[this.props.sources.map((function(e){return Object(L.jsx)("source",{type:Object(N.b)(e),src:e},e)})),(this.props.subtitles||Object(h.Map)()).filter(x.b).map((function(t,n,i){return Object(L.jsx)(F,{url:t.url,srcLang:Object(x.c)(t.language),default:t.language===e.props.subtitleLang||1===i.size},t.url)})).toList()]},this.props.sources.join()),this.props.mouse?Object(L.jsx)(z,{ref:function(t){return e._cursor=t},scale:this.scale}):null,this.renderViewbox(),this.props.errorContainer?b.createPortal(this.renderSourceSplash(),this.props.errorContainer):this.renderSourceSplash()]})]})}},{key:"renderViewbox",value:function(){var e=this.props,t=e.showViewbox,n=e.viewboxSize,i=this.state,r=i.videoSize,o=i.videoDimm,a=i.zoomPointerCenter;if(!t||!n)return null;var s=r.width/o.width,c=a.x,l=a.y;return Object(L.jsx)("div",{className:"zoom-wrapper",children:Object(L.jsx)(V.a,{isExpanded:this.props.isViewExpanded||!1,width:n.width*s,height:n.height*s,maxWidth:r.width,maxHeight:r.height,x:c*s,y:l*s})})}},{key:"renderSourceSplash",value:function(){var e=this.state,t=e.videoPlayable,n=e.windowBlured,i=e.failedUrls;if(t||n)return null;var r=i.size>0&&i.size>=this.props.sources.count();return r&&console.error("Could load any of the video sources: ".concat(this.props.sources.join())),Object(L.jsx)("div",{className:"source-splash",children:r?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("p",{children:"We are sorry, but we were not able to load the video. :("}),Object(L.jsx)("p",{children:"Please, try again later."})]}):Object(L.jsx)(M.a,{description:"Loading the video..."})})}},{key:"scale",get:function(){if(!this._video)return 1;var e=this._video.getBoundingClientRect(),t=e.width,n=e.height,i=this.state.videoDimm.width/this.state.videoDimm.height;return Math.min(t,n*i)/this.state.videoDimm.width}},{key:"_tryInitInputPlayer",value:function(e){this._inputPlayer&&this._inputPlayer.pause(),e.input&&(this._inputPlayer=new g.f(e.input),this._inputPlayer.onFrame(this._frameHandler),this._inputPlayer.setPlaybackRate(parseFloat(this._playbackRate)))}},{key:"_tryInitAnnotationsPlayer",value:function(e){!this._annotationsPlayer&&e.annotations&&e.annotations.size&&(this._annotationsPlayer=Object(g.j)(this),this._annotationsPlayer.setPlaybackRate(parseFloat(this._playbackRate),this.currentTimeInMs))}},{key:"_tryInitExpandModePlayer",value:function(e){this._expandModePlayer&&this._expandModePlayer.destroy(),e.expandModeData&&(this._expandModePlayer=new g.b(e.expandModeData),this._expandModePlayer.setPlaybackRate(parseFloat(this._playbackRate),this.currentTimeInMs),this.props.onExpandModeChange&&this._expandModePlayer.onExpandModeChange(this.props.onExpandModeChange))}},{key:"_playMouseEvent",value:function(e){this._cursor&&this._cursor.onMouseEvent(e),this._moveZoomPointerCenter(e),this.props.onMouseFrame&&this.props.onMouseFrame(e)}},{key:"_playKeyboardEvent",value:function(e){this.props.dispatch(new y.i(e)),this.props.onKeyboardFrame&&this.props.onKeyboardFrame(e)}},{key:"_obtainDimmensions",value:function(e){this.setState({videoDimm:{width:e.videoWidth,height:e.videoHeight}}),this.props.onVideoDimmensions&&this.props.onVideoDimmensions(e.videoWidth,e.videoHeight)}},{key:"_withVideoRef",value:function(e){var t=this;return function(){var n;return t._video&&!(null===(n=document.activeElement)||void 0===n?void 0:n.classList.contains("layout-splitter"))?e(t._video):void 0}}},{key:"_handleNewUrlProps",value:function(e){var t,n;this.props.sources.equals(e.sources)||(this.setState({videoPlayable:!1,failedUrls:new Set}),null===(t=(n=this.props).onCanPlay)||void 0===t||t.call(n,!1))}}]),n}(f.Component);U.defaultProps={subtitleLang:O.cb.enUS};var H=Object(f.forwardRef)((function(e,t){var n=Object(v.d)(),i=Object(f.useCallback)((function(e){return n(new y.Cb(e))}),[n]);return Object(L.jsx)(U,Object(r.a)({},Object(r.a)(Object(r.a)({},e),{},{onVideoElementRef:i,ref:t,dispatch:n})))}))},1005:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return v})),n.d(t,"c",(function(){return m}));var i,r,o=n(4),a=n(14),s=n(36),c=n(37),l=n(5),u=n(65),d=n.n(u),p=n(3),h=n(10);!function(e){e.Fit="Fit",e.P50="50%",e.P75="75%",e.P100="100%",e.P125="125%",e.P150="150%"}(r||(r={}));var f=(i={},Object(l.a)(i,r.Fit,1),Object(l.a)(i,r.P50,.5),Object(l.a)(i,r.P75,.75),Object(l.a)(i,r.P100,1),Object(l.a)(i,r.P125,1.25),Object(l.a)(i,r.P150,1.5),i),b=function(e){return f[e]},v=Object(p.createContext)({zoomLevel:r.Fit,fitValue:f[r.Fit],update:d.a}),m=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).update=function(t){t.fitValue&&(f[r.Fit]=t.fitValue),e.setState(t)},e.state={zoomLevel:e.props.zoomLevel||r.Fit,fitValue:e.props.fitValue||f[r.Fit],update:e.update},e}return Object(a.a)(n,[{key:"render",value:function(){return Object(h.jsx)(v.Provider,{value:this.state,children:this.props.children})}}]),n}(p.Component)},1006:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var i=0;function r(){return i++}function o(e,t,n){return e+(t-e)*n}},1011:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b}));var i=n(115),r=n(11),o=n(55),a=n(4),s=n(14),c=n(1005),l=function(e,t,n,i){return{left:e,top:t,right:n,bottom:i}},u=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((function(e,t){var n=t.x,i=t.y;return l(Math.min(e.left,n),Math.min(e.top,i),Math.max(e.right,n),Math.max(e.bottom,i))}),l(e.x,e.y,e.x,e.y))},d=function(e,t){return l(Math.max(e.left,t.left),Math.max(e.top,t.top),Math.min(e.right,t.right),Math.min(e.bottom,t.bottom))},p=function(e,t){var n=t.x,i=t.y,r=n-e.left,o=n-e.right,a=i-e.top,s=i-e.bottom;return{x:r<0?r:o>0?o:0,y:a<0?a:s>0?s:0}},h=function(){function e(t){Object(a.a)(this,e),this.minRectWidth=100,this.minRectHeight=100,this.keepHistoryFor=5e3,this.positions=[],this.center={x:0,y:0},this.now=Date.now,Object.assign(this,t)}return Object(s.a)(e,[{key:"update",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.center,s=a.x,c=a.y,l=u.apply(void 0,[{x:s-this.minRectWidth/2,y:c-this.minRectHeight/2},{x:s+this.minRectWidth/2,y:c+this.minRectHeight/2}].concat(Object(o.a)(this.positions))),h=i?d(i,l):l,f=p(h,t),b=this.now(),v=this.positions.filter((function(e){return b-e.ts<n.keepHistoryFor})),m=[].concat(Object(o.a)(v),[Object(r.a)(Object(r.a)({},t),{},{ts:b})]),y=f.x||f.y?{x:s+f.x,y:c+f.y}:this.center;return new e({positions:m,center:y})}}]),e}();h.empty=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h(e)};var f=function(e){var t=h.empty();return function(n){var r=n.x,o=n.y,a=e.padding,s=void 0===a?20:a,u=Object(c.d)(e.zoomLevel),d={x:u*r,y:u*o},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!e||!t)return null;var i=e.getBoundingClientRect(),r=t.getBoundingClientRect(),o=r.left-i.left,a=r.top-i.top;return l(o+n,a+n,o+r.width-n,a+r.height-n)}(e.vmContainer,e.vmKeyhole,s),h=t.update(d,p);if(h.center!==t.center){var f,b=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.minSmoothDist,r=void 0===i?10:i,o=n.maxIntermediatePoints,a=void 0===o?8:o,s=t.x-e.x,c=t.y-e.y,l=Math.max(Math.abs(s),Math.abs(c)),u=Math.ceil(l/r),d=Math.min(a,u);return Array.from({length:d},(function(t,n){var i=(n+1)/d;return{x:e.x+i*s,y:e.y+i*c}}))}(t.center,h.center),v=Object(i.a)(b);try{for(v.s();!(f=v.n()).done;){var m=f.value;e.setState({keyholeCenter:m})}}catch(y){v.e(y)}finally{v.f()}}t=h}},b=function(e){var t=h.empty();return{moveCenter:function(n){var i=e.zoomPointerDimensions,r=i.width,o=i.height,a=e.padding,s=void 0===a?20:a,c=r/2,l=o/2,u=t.center,d={left:u.x-c+s,top:u.y-l+s,right:u.x+c-s,bottom:u.y+l-s},p=t.update(n,d);p.center!==t.center&&e.setState({zoomPointerCenter:p.center}),t=p},resetHistory:function(){return t=h.empty()}}}},1012:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return j}));var i,r=n(31),o=n(4),a=n(14),s=n(36),c=n(37),l=n(345),u=n(3),d=n(346),p=n.n(d),h=n(1042),f=n(26),b=n(1039),v=(n(1085),n(10)),m=600,y=500,j=(i=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var i;return Object(o.a)(this,n),(i=t.call(this,e))._leftResolver=void 0,i._rightResolver=void 0,i._leftPromise=new Promise((function(e){return i._leftResolver=e})),i._rightPromise=new Promise((function(e){return i._rightResolver=e})),i._resizeEntry=void 0,i._rightPanelSize=void 0,i.state={resizing:!1},i.props.onPanelsRefs&&Promise.all([i._leftPromise,i._rightPromise]).then((function(e){var t=Object(r.a)(e,2),n=t[0],o=t[1];return i.props.onPanelsRefs(n,o)})),i}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._resizeEntry=b.a.create({delay:0},(function(){e._onResize(e._rightPanelSize)}))}},{key:"componentWillUnmount",value:function(){b.a.destroy(this._resizeEntry)}},{key:"onResizeStart",value:function(){this.setState({resizing:!0}),this.props.onResizeStart&&this.props.onResizeStart()}},{key:"onResizeEnd",value:function(){this.setState({resizing:!1}),this.props.onResizeEnd&&this.props.onResizeEnd()}},{key:"onResize",value:function(e){this._rightPanelSize=e,this._onResize(this._rightPanelSize)}},{key:"render",value:function(){var e=this.props.children;return Object(v.jsxs)(h.a,{onDragStart:this.onResizeStart,onSecondaryPaneSizeChange:this.onResize,onDragEnd:this.onResizeEnd,primaryMinSize:m,secondaryInitialSize:this.props.rightPanelInitialSize,customClassName:"split-view "+(this.props.className||""),handle:Object(v.jsxs)("div",{className:"dot-wrapper",children:[Object(v.jsx)("i",{className:"fa fa-circle"}),Object(v.jsx)("i",{className:"fa fa-circle"}),Object(v.jsx)("i",{className:"fa fa-circle"})]}),children:[e&&e[0]?Object(v.jsxs)("section",{className:"left-panel",ref:this._leftResolver,children:[this.state.resizing?Object(v.jsx)("div",{className:"overlay"}):null,e[0]]}):null,e&&e[1]?Object(v.jsx)("section",{className:"right-panel",ref:this._rightResolver,children:e[1]}):null]})}},{key:"_onResize",value:function(e){if(this.props.onResize){var t=window.innerWidth-e-f.a.SplitterWidth;this.props.onResize(t,e)}}}]),n}(u.Component),Object(l.a)(i.prototype,"onResizeStart",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"onResizeStart"),i.prototype),Object(l.a)(i.prototype,"onResizeEnd",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"onResizeEnd"),i.prototype),Object(l.a)(i.prototype,"onResize",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"onResize"),i.prototype),i)},1013:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var i=n(16),r=n.n(i),o=n(11),a=n(25),s=function(e){return e.replace(/[\\\/]+/g,"_")},c=function(e,t){var n=Object.assign(document.createElement("a"),{href:URL.createObjectURL(e),download:t,target:"_blank"});n.click(),URL.revokeObjectURL(n.href)},l=function(){var e=Object(a.a)(r.a.mark((function e(t,n,i){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,Object(o.a)(Object(o.a)({method:"GET"},i),{},{mode:"cors"}));case 2:return a=e.sent,e.next=5,a.blob();case 5:s=e.sent,c(s,n);case 7:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}()},1018:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(11),r=n(4),o=n(14),a=n(36),s=n(37),c=n(3),l=(n(1080),n(10)),u=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).wrapperRef=Object(c.createRef)(),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.forceUpdate()}))}},{key:"render",value:function(){var e=this.props.children,t=this.scale,n=t.scaleX,r=t.scaleY,o=t.width,a=t.height,s={WebkitTransform:"scale(".concat(n,", ").concat(r,")"),msTransform:"scale(".concat(n,", ").concat(r,")"),transform:"scale(".concat(n,", ").concat(r,")"),WebkitTransformOrigin:"0 0 0",msTransformOrigin:"0 0 0",transformOrigin:"0 0 0"};return Object(l.jsx)("div",{ref:this.wrapperRef,style:Object(i.a)({width:o,height:a},this.props.style),className:"scalable-component",children:Object(c.cloneElement)(e,{style:s})})}},{key:"scale",get:function(){var e={scaleX:1,scaleY:1,width:0,height:0},t=this.wrapperRef.current;if(t&&t.children[0]){var n=this.props.scaledWidth;(void 0===n||isNaN(n))&&(n=t.parentElement.clientWidth),e.scaleX=n/this.props.originalWidth;var i=n/(this.props.originalWidth/this.props.originalHeight);e.scaleY=i/this.props.originalHeight,e.height=i,e.width=n}return!isNaN(e.width)&&!isNaN(e.height)&&isFinite(e.scaleX)&&isFinite(e.scaleY)?e:{scaleX:1,scaleY:1,width:0,height:0}}}]),n}(c.Component)},1019:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(1082);var i=n(10),r=function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=t-(r=isNaN(r)?0:r)/2,s=n-(o=isNaN(o)?0:o)/2;a=Math.max(a,0),s=Math.max(s,0);var c={width:r,height:o,left:a=Math.min(a,e.maxWidth-r)||0,top:s=Math.min(s,e.maxHeight-o)||0};return Object(i.jsx)("div",{className:"sc-zoom-pointer"+(e.isExpanded?" expanded":""),style:c})}},1020:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i,r=n(4),o=n(14),a=n(36),s=n(37),c=n(345),l=n(346),u=n.n(l),d=n(3),p=n(995),h=n(1012),f=function(e){return parseInt(e.replace("px","")||"0",10)},b=(i=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._leftCont=void 0,e._initialLayoutPerformed=!1,e._resizeObserver=void 0,e}return Object(o.a)(n,[{key:"_horizontalPadding",get:function(){return 35}},{key:"_verticalPadding",get:function(){return 35}},{key:"componentWillUnmount",value:function(){this._leftCont&&this._resizeObserver.unobserve(this._leftCont)}},{key:"onLeftContRef",value:function(e){e&&e instanceof Element&&(this._leftCont=e,this._resizeObserver=new p.a(this.adjustLayout),this._resizeObserver.observe(e))}},{key:"adjustLayout",value:function(){if(this._leftCont){var e=window.getComputedStyle(this._leftCont),t=f(e.width||"")-this._horizontalPadding,n=f(e.height||"")-this._verticalPadding,i=t/n,r=this._screenWidth/this._screenHeight,o=0,a=0;i<r?a=(o=Math.max(t,0*r))/r:o=(a=Math.max(n,0))*r;var s=o/this._screenWidth;this.setState({width:o,height:a,scaleX:s,scaleY:s}),this._initialLayoutPerformed||(this._initialLayoutPerformed=!0)}}},{key:"rightPanelSize",get:function(){if(this._initialLayoutPerformed)return 0;var e=window.document.body,t=e.clientWidth,n=e.clientHeight;if(t-h.b<h.a)return t-h.a;var i=Math.max(n,0)*(this._screenWidth/this._screenHeight)-70+10;return Math.max(h.b,t-i)}}]),n}(d.PureComponent),Object(c.a)(i.prototype,"onLeftContRef",[u.a],Object.getOwnPropertyDescriptor(i.prototype,"onLeftContRef"),i.prototype),Object(c.a)(i.prototype,"adjustLayout",[u.a],Object.getOwnPropertyDescriptor(i.prototype,"adjustLayout"),i.prototype),i)},1021:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=15},1022:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var i=n(13),r=n(519),o=n.n(r)()((function(e){var t=[e.cdnMp4Url,e.mp4Url,e.cdnWebmUrl,e.webmUrl].filter(Boolean);return Object(i.List)(t)})),a=function(e){return e.endsWith(".mp4")?"video/mp4":e.endsWith(".webm")?"video/webm":void 0}},1024:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return w}));var i=n(11),r=n(4),o=n(14),a=n(36),s=n(37),c=n(3),l=n(112),u=n.n(l),d=(n(1087),n(348)),p=n(216),h=n(1008),f=n(984),b=n(1006),v=n(351),m=n(10),y=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).ref=Object(c.createRef)(),e.onMouseEnter=function(){e.props.onOptionMouseEnter&&e.props.onOptionMouseEnter(Object(v.a)(e))},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){e.highlighted!==this.props.highlighted&&this.ref.current&&this.props.highlighted&&this.ref.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.disabled,i=e.selected,r=e.highlighted,o=e.deleted,a=e.text,s=e.children,c=e.ariaLabel,l=e.tooltip;return Object(m.jsxs)("li",{className:u()(p.a,this.props.className),ref:this.ref,"data-value":t,"data-disabled":n,"data-selected":i,"data-highlighted":r,"data-deleted":o,"data-text":a,onMouseEnter:this.onMouseEnter,title:l,role:"option","aria-selected":r,tabIndex:-1,children:[Object(m.jsx)("span",{className:"a11y-visually-hidden",children:c}),Object(m.jsx)("span",{"aria-hidden":"true",children:s})]})}}]),n}(c.Component),j=n(347),g=n(373),O=function(e,t){return e===t||!!e&&!!t&&e.props.value===t.props.value},x=function(e,t){return e.find((function(e){return e.props.value===t}))||null},w=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).contextType=void 0,e.state={opened:!1,highlighted:x(e.props.children,e.props.value),selected:x(e.props.children,e.props.value),useTrimmedLabel:!1},e.listBoxId="v3-select-listbox-"+Object(b.a)(),e.listRef=Object(c.createRef)(),e.wrapperRef=Object(c.createRef)(),e.buttonRef=Object(c.createRef)(),e.onItemClick=function(t){for(var n=t.target;n&&!n.hasAttribute("data-value");)n=n.parentElement;if(n){var i=n.getAttribute("data-value");if(null===i)return;var r=x(e.props.children,i);r&&e.updateSelected(r)}},e.toggleOptions=function(){if(e.state.opened||!e.disabled){var t=!e.state.opened;e.setState(Object(i.a)(Object(i.a)({},t?{highlighted:x(e.props.children,e.props.value)}:null),{},{opened:t})),window[t?"addEventListener":"removeEventListener"]("click",e.onWindowClick);var n=e.buttonRef.current;n&&!t&&n.focus()}},e.onBlur=function(){e.props.onBlur&&e.props.onBlur()},e.onFocus=function(){e.state.useTrimmedLabel&&e.setState({useTrimmedLabel:!1}),e.disabled||e.props.onFocus&&e.props.onFocus()},e.onKeyDown=function(t){[f.c,f.b,f.e,f.j].includes(t.keyCode)&&e.handleKnownKeyEvent(t)},e.onKeyUp=function(t){[f.i,f.f].includes(t.keyCode)&&e.handleKnownKeyEvent(t)},e.onOptionMouseEnter=function(t){e.setState({highlighted:t})},e.onWindowClick=function(t){e.wrapperRef.current&&t.target instanceof Node&&(e.wrapperRef.current.contains(t.target)||e.setState({opened:!1}))},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n;(this.state.opened&&!t.opened&&this.props.value&&(this.scrollToOption(this.props.value),this.props.onShowOptions&&this.props.onShowOptions()),this.props.children!==e.children&&this.setState({selected:x(this.props.children,this.props.value)}),this.props.isLoading!==e.isLoading)&&this.setState({useTrimmedLabel:!(null===(n=this.wrapperRef.current)||void 0===n?void 0:n.contains(document.activeElement))})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.onWindowClick)}},{key:"render",value:function(){var e,t,n=this.updateChildrenProps(),r=this.renderSelected(),o="".concat(this.props.ariaLabel+". "||!1).concat((null===(e=this.state.selected)||void 0===e||null===(t=e.props)||void 0===t?void 0:t.ariaLabel)||"").concat(this.state.useTrimmedLabel?"":" Use Enter or Space to toggle the list. Use Up or Down to select another option.");return Object(m.jsxs)("div",{"aria-disabled":this.disabled,"aria-expanded":this.state.opened,ref:this.wrapperRef,id:this.props.id,className:u()("rhyme-select__v3",this.props.type,this.props.className&&this.props.className,this.state.opened&&"opened",this.disabled&&"disabled"),"data-value":r,onFocus:this.onFocus,onBlur:this.onBlur,children:[Object(m.jsx)("button",Object(i.a)(Object(i.a)({className:u()("selected",p.a),onClick:this.toggleOptions,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"aria-controls":this.listBoxId,ref:this.buttonRef,"aria-haspopup":"listbox",disabled:this.context.isDisabled||this.props.disabled},this.props.id&&{id:"".concat(this.props.id,"-button")}),{},{children:this.props.selectedElement||Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:"a11y-visually-hidden",children:this.props.isLoading?this.props.loadingText:o}),Object(m.jsx)("div",{className:"value","aria-hidden":"true",children:r}),Object(m.jsx)("div",{className:"arrow",onClick:this.toggleOptions})]})})),Object(m.jsx)("ul",{tabIndex:-1,ref:this.listRef,id:this.listBoxId,className:"options",role:"listbox",onClick:this.onItemClick,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"aria-label":"".concat(this.props.ariaLabel||""),children:n}),this.props.isLoading&&Object(m.jsx)(j.a,{theme:"dark"}),this.props.isAsync&&Object(m.jsx)(g.a,{children:o})]})}},{key:"disabled",get:function(){return this.context.isDisabled||this.props.disabled||this.props.isLoading}},{key:"renderSelected",value:function(){var e=this.props.selectedFilter?this.props.selectedFilter:function(e){return e};return this.state.selected?e(this.state.selected.props.children):this.props.deletedOnMissingOption?"- Deleted -":this.props.value?e(this.props.value):this.props.placeholder?this.props.placeholder:""}},{key:"scrollToOption",value:function(e){if(this.listRef.current){var t=this.listRef.current.querySelector('li[data-value="'.concat(e,'"]'));if(t){var n=t?t.offsetTop:0;this.listRef.current.scrollTop=n}}}},{key:"updateSelected",value:function(e){var t=this;e.props.disabled||(this.props.onChange(e.props.value),this.setState({highlighted:e},(function(){t.toggleOptions()})))}},{key:"handleKnownKeyEvent",value:function(e){if(e.keyCode!==f.j&&e.preventDefault(),!this.disabled){var t=this.state.highlighted,n=this.props.children;switch(e.keyCode){case f.b:if(!this.state.opened){this.toggleOptions();break}var i=Object(h.a)(n,t,0,n.length-1,O);this.setState({highlighted:i});break;case f.c:if(!this.state.opened){this.toggleOptions();break}this.setState({highlighted:Object(h.a)(n,t,n.length-1,0,O)});break;case f.e:case f.i:this.state.opened&&t?this.updateSelected(t):this.toggleOptions();break;case f.f:this.state.opened&&this.toggleOptions();break;case f.j:this.setState({opened:!1})}}}},{key:"updateChildrenProps",value:function(){var e=this;return c.Children.map(this.props.children,(function(t){var n=Object(i.a)(Object(i.a)({},t.props),{},{highlighted:e.state.opened&&O(t,e.state.highlighted),selected:e.state.opened&&O(t,e.state.selected),onOptionMouseEnter:e.onOptionMouseEnter});return Object(c.cloneElement)(t,n)}))}}]),n}(c.Component);w.defaultProps={type:"default"},w.contextType=d.a},1034:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(16),r=n.n(i),o=n(31),a=n(25),s=n(54),c=n(91),l=n(363),u=n(307),d=function(e){return new Promise((function(t,n){return e.onstatechange=function(e){switch(e){case c.a.Connected:return t();case c.a.Disconnecting:case c.a.Disconnected:return n(new Error("Client could not connect. State ".concat(e)))}}}))},p=function(e){return new Promise((function(t){return e.onfilesystem=function(e,n){return t(new l.a(e,n))}}))},h=function(){var e=Object(a.a)(r.a.mark((function e(t){var n,i,a,c,l,h,f,b,v=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=v.length>1&&void 0!==v[1]?v[1]:0,i=v.length>2&&void 0!==v[2]?v[2]:0,e.next=4,Object(u.a)(t);case 4:return a=e.sent,c=new s.WebSocketTunnel(Object(u.b)(t,a,n,i)),(l=new s.Client(c)).connect(),e.next=10,Promise.all([d(l),p(l)]);case 10:return h=e.sent,f=Object(o.a)(h,2),b=f[1],e.abrupt("return",{client:l,tunnel:c,token:a,filesystem:b});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},1035:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(11),r=n(4),o=n(14),a=n(36),s=n(37),c=n(112),l=n.n(c),u=n(3),d=(n(1093),n(10)),p=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"progress",get:function(){return this.props.progress<1?this.props.progress:1}},{key:"render",value:function(){var e={width:100*this.progress+"%",backgroundColor:this.props.color},t=Math.floor(100*this.progress);return Object(d.jsx)("div",Object(i.a)(Object(i.a)({className:l()("progress-bar-wrapper",this.props.type,this.props.className),role:"progressbar","aria-valuemin":0,"aria-valuenow":t,"aria-valuemax":100,"aria-live":"assertive","aria-atomic":"true"},this.props.htmlAttributes),{},{children:Object(d.jsx)("div",{style:e,className:"progress-bar-progress","aria-hidden":!0})}))}}]),n}(u.Component);p.defaultProps={type:"regular"}},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var i,r,o,a=n(4),s=n(14),c=n(36),l=n(37),u=n(345),d=n(346),p=n.n(d),h=n(3),f=n(112),b=n.n(f),v=n(348),m=n(268),y=n(79),j=n(72),g=n(1021),O=(n(1097),n(10)),x=(o=r=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).contextType=void 0,i._track=void 0,i._trackRect={left:0,width:0},i._docMouseMove=void 0,i._docMouseUp=void 0,i.computeElapsedTime=function(e){return e/i.props.duration*100},i.computeRoundedElapsedTime=function(e){return Math.round(i.computeElapsedTime(e))},i.composeVideoDurationLabel=function(e){return"".concat(Object(j.f)(1e3*e)," of ").concat(Object(j.f)(1e3*i.props.duration))},i.onKeyDown=function(e){i.disabled||("ArrowDown"===e.key||"Down"===e.key||"PageDown"===e.key?i.props.onSeek(Math.max(i.props.currentTime-g.a,0)):"ArrowUp"!==e.key&&"Up"!==e.key&&"PageUp"!==e.key||i.props.onSeek(Math.min(i.props.currentTime+g.a,i.props.duration)),["ArrowUp","ArrowDown","Down","Up","PageUp","PageDown"].forEach((function(t){t===e.key&&(e.preventDefault(),e.stopPropagation(),setTimeout((function(){var e=i.composeVideoDurationLabel(i.props.currentTime);y.b.say("Skipping video to ".concat(e,"."),y.a.Assertive)}),100))})))},i.state={tooltipVisible:!1,tooltipTimestamp:0,tipHold:!1},i}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this._onMouseMove(),this._onTipRelease()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousemove",this._docMouseMove),document.removeEventListener("mouseup",this._docMouseUp)}},{key:"onProgressClick",value:function(e){var t=e.clientX;if(this._track&&isFinite(this.props.duration)){var n=this._track.getBoundingClientRect(),i=n.left,r=n.width,o=t-i;this._onSeek(this.props.duration*(o/r))}}},{key:"onMouseEnter",value:function(e){var t=e.clientX;this._trackRect=this._getTrackRect(),this.setState({tooltipVisible:!0,tooltipTimestamp:this._calculateTooltipTimestamp(t)})}},{key:"onMouseLeave",value:function(){this.state.tipHold||this.setState({tooltipVisible:!1})}},{key:"onTipHold",value:function(){this.setState({tipHold:!0}),this._trackRect=this._getTrackRect(),document.body.style.cursor="grabbing"}},{key:"render",value:function(){var e=this;return Object(O.jsxs)("div",{className:b()("video-progress-bar ",m.b,this.props.className),tabIndex:this.disabled?-1:0,onKeyDown:this.onKeyDown,"aria-label":"Video progress bar. Press Up or Down arrows to skip forwards or backwards. You can use Page Up and Page Down keys as well",role:"slider","aria-valuemin":0,"aria-valuenow":this.computeRoundedElapsedTime(this.props.currentTime),"aria-valuemax":100,"aria-valuetext":this.composeVideoDurationLabel(this.props.currentTime),children:[Object(O.jsx)("div",{className:"tooltip"+(this.state.tooltipVisible?" visible":""),style:{left:this._durationPerc(this.state.tooltipTimestamp)},"aria-hidden":"true",children:Object(j.d)(this.state.tooltipTimestamp*j.a.Sec)}),Object(O.jsx)("div",{className:"track-cont",children:Object(O.jsx)("div",{className:"track",ref:function(t){return e._track=t},onClick:this.onProgressClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:Object(O.jsx)("div",{style:{width:this._durationPerc(this.props.currentTime)},className:"progress",children:Object(O.jsx)("div",{className:"tip"+(this.state.tipHold?" hold":""),onMouseDown:this.onTipHold})})})})]})}},{key:"disabled",get:function(){return this.context.isDisabled||this.props.disabled}},{key:"_durationPerc",value:function(e){return this.computeElapsedTime(e)+"%"}},{key:"_calculateTooltipTimestamp",value:function(e){if(this._track){var t=this._track.clientWidth,n=this._trackRect.left,i=Math.max(e-n,0)/t;return Math.round(this.props.duration*i*1e3)/1e3}return 0}},{key:"_onMouseMove",value:function(){var e=this;document.addEventListener("mousemove",this._docMouseMove=function(t){var n=t.clientX;if(e.state.tipHold){var i=e._trackRect,r=(n-i.left)/i.width,o=e.props.duration*r;0<=o&&o<=e.props.duration&&(e.props.onDrag(),e._onSeek(o))}e.state.tooltipVisible&&e.setState({tooltipTimestamp:e._calculateTooltipTimestamp(n)})})}},{key:"_onTipRelease",value:function(){var e=this;document.addEventListener("mouseup",this._docMouseUp=function(){e.setState({tipHold:!1,tooltipVisible:!1}),document.body.style.cursor="default",e.props.onRelease()})}},{key:"_getTrackRect",value:function(){if(this._track){var e=this._track.getBoundingClientRect();return{left:e.left,width:e.width}}return{left:0,width:0}}},{key:"_onSeek",value:function(e){this.disabled||this.props.onSeek(e)}}]),n}(h.PureComponent),r.contextType=v.a,i=o,Object(u.a)(i.prototype,"onProgressClick",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"onProgressClick"),i.prototype),Object(u.a)(i.prototype,"onMouseEnter",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"onMouseEnter"),i.prototype),Object(u.a)(i.prototype,"onMouseLeave",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"onMouseLeave"),i.prototype),Object(u.a)(i.prototype,"onTipHold",[p.a],Object.getOwnPropertyDescriptor(i.prototype,"onTipHold"),i.prototype),i)},1038:function(e,t,n){"use strict";n.d(t,"a",(function(){return Q}));var i,r,o,a=n(1081),s=n(11),c=n(4),l=n(14),u=n(351),d=n(36),p=n(37),h=n(345),f=n(346),b=n.n(f),v=n(112),m=n.n(v),y=n(54),j=n(3),g=n(181),O=n(1),x=n(56),w=n(994),k=n(183),C=n(141),_=n(0),A=n(359),S=n(91),P=n(144),E=n(1011),R=n(347),D=n(79),I=n(1019),M=n(115),V=n(27),T=n(60),N=n(268),L=n(10),z={position:"fixed",height:"0",width:"0",opacity:0},F=Object(j.memo)(Object(j.forwardRef)((function(e,t){var n=Object(j.useRef)(null);return function(e){Object(j.useLayoutEffect)((function(){var t=e.current;if(t){var n,i=Object(M.a)(["keydown","keyup","keypress"]);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.addEventListener(r,(function(e){(e.isComposing||"~"===e.key[0]&&e.key.length>0)&&e.stopImmediatePropagation()}),{capture:!0})}}catch(o){i.e(o)}finally{i.f()}/safari/i.test(navigator.userAgent)&&t.addEventListener("input",(function(e){"insertCompositionText"===e.inputType&&e.stopImmediatePropagation()})),t.addEventListener("keypress",(function(){t.value=""})),t.addEventListener("compositionend",(function(e){e.data&&(t.value="")})),t.addEventListener("input",(function(e){e.data&&!e.isComposing&&(t.value="")})),t.addEventListener("focus",(function(){window.setTimeout((function(){t.click(),t.select()}))}))}}),[e.current])}(n),function(e){var t=Object(T.e)(V.p);Object(j.useEffect)((function(){var n,i=document.activeElement===e.current;if(t&&!i)null===(n=e.current)||void 0===n||n.focus();else if(!t&&i){var r;null===(r=e.current)||void 0===r||r.blur()}}),[t,e.current])}(n),function(){var e=Object(T.d)();Object(N.f)("cloudDesktop.loseFocus",Object(j.useCallback)((function(){e(new O.Fb(_.sb.KeyboardFocused))}),[e]))}(),Object(j.useLayoutEffect)((function(){t.current=n.current}),[n.current,t]),Object(L.jsx)("textarea",Object(s.a)({"aria-hidden":"true",tabIndex:-1,style:z,ref:n},Object(N.e)("ctrl","ctrl ctrl")))}))),B=["title","titleId"];function U(){return U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},U.apply(this,arguments)}function H(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W(e,t){var n=e.title,a=e.titleId,s=H(e,B);return j.createElement("svg",U({width:98,height:98,viewBox:"0 0 98 98",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?j.createElement("title",{id:a},n):null,i||(i=j.createElement("path",{d:"M28.747 68.437h27.91a20.703 20.703 0 0020.58-22.928A25.766 25.766 0 0049.47 22.622l-5.043.408A30.277 30.277 0 0016.68 53.206v3.164a12.046 12.046 0 0012.067 12.067z",fill:"#0056D2"})),r||(r=j.createElement("path",{d:"M49 14.761L88.139 83.24H9.86L49 14.76zM49 39.22v22.826",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})),o||(o=j.createElement("path",{d:"M49 73.46a3.267 3.267 0 100-6.534 3.267 3.267 0 000 6.533z",stroke:"#fff",strokeWidth:.81,strokeLinejoin:"round"})))}var K,X,q,Y=j.forwardRef(W),Q=(n.p,n(1083),q=X=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).wrapper=void 0,e.body=void 0,e.displayScale=1,e.client=void 0,e.state={loading:!e.props.vmAccessLimitReached,zoomPointerCenter:{x:0,y:0}},e.sinkRef=Object(j.createRef)(),e._controlsBound=!1,e._disconnectHandler=void 0,e._connectHandler=void 0,e._screenshotCanvas=document.createElement("canvas"),e._moveZoomPointerCenter=Object(E.b)(Object(u.a)(e)).moveCenter,e.onMouseEnter=function(){e.props.dispatch(new O.Fb(_.sb.MouseActive)),e._controlsBound||e.state.loading||e._bindControls()},e.onMouseLeave=function(){var t;e.props.dispatch(new O.Fb(_.sb.MouseFocused)),null===(t=e.client)||void 0===t||t.releasePressedKeys()},e._changeVMResolution=function(t,n){return e.props.dispatch(x.a.changeVMResolution(t,n))},e}return Object(l.a)(n,[{key:"isBroadcastingCamera",get:function(){return!!this.props.cameraStream}},{key:"isVmStarting",get:function(){return!this.props.vmAccessLimitReached&&this.props.vm.stateChangeReason!==_.pb.OtherVmRequested&&(Object(P.a)(this.props.vm.state)||Object(P.b)(this.props.vm.state))}},{key:"userRequestedExcessiveVMs",get:function(){return this.props.vm.stateChangeReason===_.pb.OtherVmRequested&&Object(P.b)(this.props.vm.state)}},{key:"zoomPointerDimensions",get:function(){if(!this.props.viewboxSize)return{width:0,height:0};var e=this.props.width/this.props.viewboxSize.width,t=this.props.height/this.props.viewboxSize.height;return{width:this.props.vm.width/e,height:this.props.vm.height/t}}},{key:"componentDidMount",value:function(){this.props.vm.state===_.ob.Ready&&this._initClient(this.props)}},{key:"componentDidUpdate",value:function(e){e.vm.connection.connectionId!==this.props.vm.connection.connectionId&&this.props.vm.state===_.ob.Ready&&this._initClient(this.props),this.props.cameraStream===e.cameraStream&&this.props.width===e.width&&this.props.height===e.height||this._handleCamera(),e.readOnly===this.props.readOnly&&e.active===this.props.active||(this.props.readOnly?this._unbindControls():this.props.active&&this._bindControls());var t=!Object(P.b)(e.vm.state)&&Object(P.b)(this.props.vm.state),n=!Object(P.c)(e.vm.state)&&Object(P.c)(this.props.vm.state);!t&&!n||this.props.vmAccessLimitReached||(this._removeScreenContent(),this._destroyCurrentClient(),this.setState({loading:!0}))}},{key:"componentWillUnmount",value:function(){this._destroyCurrentClient()}},{key:"isScreenActive",value:function(){return this._controlsBound}},{key:"getBodyRef",value:function(e){e&&(this.body=e)}},{key:"takeScreenshot",value:function(){if(!this.body)return null;var e=null;if(this.isBroadcastingCamera){var t=this.body.getElementsByTagName("video")[0];if(t)this._screenshotCanvas.width=this.props.width,this._screenshotCanvas.height=this.props.height,this._screenshotCanvas.getContext("2d").drawImage(t,0,0,this.props.width,this.props.height),e=this._screenshotCanvas.toDataURL("image/png")}else{var n=Object(C.a)().getRemoteClient(this.props.vm.id);n&&(e=n.toDataURL("image/png",1,this.props.width,this.props.height,!1))}var i=null;return e&&(i=new Blob([w.a.toArrayBuffer(e)],{type:"image/png"})),i}},{key:"render",value:function(){var e=this,t=this.props.showViewbox&&!this.props.readOnly,n=this.props.vm.id&&this.props.vm.state===_.ob.Ready,i=m()("sc-screen",!this.isScreenActive()&&"sc-screen-no-cursor",this.state.loading&&"loading"),r=Object.assign({},this.props.style,{width:this.props.width,height:this.props.height}),o=m()((this.state.loading||t||this.props.vmAccessLimitReached)&&"sc-screen-overlay",this.state.loading&&n&&"loading",(!n||this.props.vmAccessLimitReached)&&"pending"),a=m()("screen-wrapper",this.props.readOnly&&"read-only"),s=n&&t&&this.props.viewboxSize?this._renderViewbox():null;return Object(L.jsxs)("div",{className:a,style:r,ref:function(t){return e.wrapper=t},onClick:this.props.onClick,children:[Object(L.jsxs)("div",{className:o,children:[this.userRequestedExcessiveVMs&&this.props.template&&this.props.template.os!==_.J.Docker&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("p",{children:"Cloud Workspace is unavailable"}),Object(L.jsx)("p",{className:"overlay-body",children:"We've detected multiple Cloud Workspaces activated under your account. A new Workspace will become available in 20 minutes. You still have full access to the instructional videos."})]}),this.isVmStarting&&Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(R.a,{}),Object(L.jsx)("p",{children:"Starting your cloud workspace"}),Object(L.jsx)("p",{children:"Please wait!"})]}),this.props.vmAccessLimitReached?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(Y,{}),Object(L.jsx)("p",{children:"Your session timed out"}),Object(L.jsxs)("p",{className:"overlay-body",children:["Your cloud workspace has been unassigned but you can still",Object(L.jsx)("br",{})," watch the instructor\u2019s videos"]})]}):Object(P.c)(this.props.vm.state)?Object(L.jsx)("p",{children:"Your cloud workspace has been terminated"}):null]}),Object(L.jsx)(F,{ref:this.sinkRef}),Object(L.jsx)("div",{ref:this.getBodyRef,className:i}),s,this.props.children]})}},{key:"_renderViewbox",value:function(){return Object(L.jsx)(I.a,Object(s.a)(Object(s.a)({isExpanded:this.props.isViewExpanded||!1,maxWidth:this.props.width,maxHeight:this.props.height},this.zoomPointerDimensions),this.state.zoomPointerCenter))}},{key:"_bindControls",value:function(){this.client?this.isBroadcastingCamera||this.props.readOnly||this._controlsBound||(this._bindMouseHandler(),this.client.unlockMouse(),this.isBroadcastingCamera||(this._bindKeyboardHandler(),this.client.unlockKeyboard()),this._controlsBound=!0):console.error("Failed to set control of client input")}},{key:"_unbindControls",value:function(){this.client?(this._unbindMouseHandler(),this._unbindKeyboardHandler(),this.client.lockMouse(),this.client.lockKeyboard(),this._controlsBound=!1):console.error("Failed to unset control of client input")}},{key:"_destroyCurrentClient",value:function(){this._unbindControls(),Object(C.a)().releaseClient(this.props.vm.id),this.client&&(this.client.off(k.b,this._disconnectHandler),this.client.off(k.a,this._connectHandler),this.client.disconnect(),this.client=null)}},{key:"_initClient",value:function(e){var t=this;if(e.vm){this.client&&this._destroyCurrentClient();var n=e.vm.connection;if(n.connectionId){var i=Object(C.a)();this.client=i.createRemoteClient(e.vm.id,n,this.sinkRef.current);var r=function(){t.client&&(t.props.dispatch(new A.a(S.a.Disconnected,y.Tunnel.State.CLOSED)),t.props.dispatch(new A.b(t.props.vm.id,t.client)))};this.client.on(k.a,this._connectHandler=function(){var n,i;t.props.dispatch(new O.b(e.vm.connection)),D.b.say("Cloud workspace is connected. But ".concat(Object(g.a)({newSentence:!1})," You can also slow down automatic notification hiding and automatic video progress in the settings panel."),D.a.Assertive),null===(n=e.onConnect)||void 0===n||n.call(e,t.client),t._attachScreen(t.client),t._handleCamera(),t.setState({loading:!1},(function(){return t._bindControls()})),null===(i=t.client)||void 0===i||i.once(k.b,r)}),this.client.on(k.b,this._disconnectHandler=function(){var n;console.log("DISCONNECTED event fired"),D.b.say("Cloud workspace is disconnected.",D.a.Assertive),null===(n=e.onDisconnect)||void 0===n||n.call(e),t.setState({loading:!0}),t._unbindControls()}),this.client.connected()?console.log("Client already connected"):(this.client.connect(),new Promise((function(e,n){var i;null===(i=t.client)||void 0===i||i.once(k.a,e),setTimeout(n,1e4)})).catch(r),this.client.on(k.j,(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.props.dispatch(Object(a.a)(A.a,n))})),this.setState({loading:!0}))}}else console.error("No cloud workspace data")}},{key:"_attachScreen",value:function(e){if(this.body&&this.wrapper){for(var t=this.body,n=Array.prototype.slice.call(t.children);n.length;){var i=n.pop();i.parentNode.removeChild(i)}this.wrapper.onmouseenter=this.onMouseEnter,this.wrapper.onmouseleave=this.onMouseLeave;var r=e.getDisplay();if(r){var o=this.props.width/this.props.vm.width;r.scale(o),this.displayScale=r.getScale(),r.onresize=this._updateResolution;var a=r.getWidth(),s=r.getHeight();this._updateResolution(a,s);var c=r.getElement();this._removeScreenContent(),t.appendChild(c)}}else console.error("Failed to obtain reference of body and/or wrapper")}},{key:"_handleCamera",value:function(){if(this.body)if(this.isBroadcastingCamera){var e=this.body.getElementsByTagName("video")[0],t=e?e.parentElement:null;e&&t&&t.removeChild(e);var n=this._createVideoElement(),i=n?this.body.getElementsByTagName("canvas")[0]:null,r=i?i.parentElement:null;r&&n&&(n.width=this.props.width,n.height=this.props.height,r.appendChild(n)),this.client&&this._unbindControls()}else{var o=this.body.getElementsByTagName("video")[0],a=o?o.parentElement:null;a&&o&&a.removeChild(o),this.client&&this._bindControls()}}},{key:"_createVideoElement",value:function(){if(!this.props.cameraStream)return null;var e=document.createElement("video");return e.autoplay=!0,e.srcObject=this.props.cameraStream,e}},{key:"_bindKeyboardHandler",value:function(){this.client?(this.client.on(k.d,this._onKeyDown),this.client.on(k.e,this._onKeyUp),console.log("Bind keyboard handler")):console.error("Failed to bind keyboard handler to null remote client")}},{key:"_unbindKeyboardHandler",value:function(){this.client?(this.client.off(k.d,this._onKeyDown),this.client.off(k.e,this._onKeyUp),console.log("Unbind keyboard handler")):console.warn("Failed to unbind keyboard handler from a null remote client")}},{key:"_bindMouseHandler",value:function(){this.client?(this.client.on(k.f,this._mouseHandler),this.client.on(k.h,this._mouseHandler),this.client.on(k.g,this._mouseHandler)):console.error("Failed to bind mouse handler to null remote client")}},{key:"_unbindMouseHandler",value:function(){this.client?(this.client.off(k.f,this._mouseHandler),this.client.off(k.h,this._mouseHandler),this.client.off(k.g,this._mouseHandler)):console.warn("Failed to unbind mouse handler from a null remote client")}},{key:"_updateResolution",value:function(e,t){this.props.vm.id&&this.props.dispatch(new O.Wb(this.props.vm.id,e,t))}},{key:"_onKeyDown",value:function(e){this.props.onKeyDown&&this.props.onKeyDown(e),this._onKey(!0,e)}},{key:"_onKeyUp",value:function(e){this.props.onKeyUp&&this.props.onKeyUp(e),this._onKey(!1,e)}},{key:"_onKey",value:function(e,t){if((this.props.disableKeys||[]).indexOf(t)>=0)console.log("Key is disabled",t);else if(this.client){var n=this.client.getKeyboard();if(n)if((n.modifiers.ctrl||n.modifiers.meta)&&n.modifiers.shift&&65505===t)console.log("HOTKEY detected (pressed: ".concat(e,")"));else if(!n.modifiers.alt||65289!==t&&96!==t){var i=[65511,65512].includes(t)?65507:t;this.client.sendKeyEvent(e,i)}else console.log("SWITCH TAB combination (pressed: ".concat(e,")"));else console.log("Guac keyboard is not defined")}else console.error("Failed to send key over null client (pressed: ".concat(e,")"),t)}},{key:"_mouseHandler",value:function(e){if(this.props.onMouseEvent&&this.props.onMouseEvent(e),this.props.mouseDisabled)console.log("Mouse is disabled. Skip send mouse event");else if(this.client){var t=Object.assign({x:1,y:1},e);this.isBroadcastingCamera&&(t.left=!1,t.right=!1,t.middle=!1);var n=this.client.getDisplay(),i=n?n.getScale():1,r=i,o=i;this.props.scaleRatio&&(r=this.props.scaleRatio.scaleX,o=this.props.scaleRatio.scaleY),this.client.scaleX=r,this.client.scaleY=o,t.x/=r,t.y/=o,this.props.showViewbox&&this._moveZoomPointerCenter(t),t.x>this.props.width||t.y>this.props.height||t.x<0||t.y<0||this.client.sendMouseState(t)}else console.error("Failed to send mouse state over null client")}},{key:"_removeScreenContent",value:function(){if(this.body)for(var e=0;e<this.body.children.length;e+=1)this.body.removeChild(this.body.children[e])}}]),n}(j.Component),X.defaultProps={disableKeys:[],cursorScale:1,mouseDisabled:!1},K=q,Object(h.a)(K.prototype,"getBodyRef",[b.a],Object.getOwnPropertyDescriptor(K.prototype,"getBodyRef"),K.prototype),Object(h.a)(K.prototype,"_updateResolution",[b.a],Object.getOwnPropertyDescriptor(K.prototype,"_updateResolution"),K.prototype),Object(h.a)(K.prototype,"_onKeyDown",[b.a],Object.getOwnPropertyDescriptor(K.prototype,"_onKeyDown"),K.prototype),Object(h.a)(K.prototype,"_onKeyUp",[b.a],Object.getOwnPropertyDescriptor(K.prototype,"_onKeyUp"),K.prototype),Object(h.a)(K.prototype,"_mouseHandler",[b.a],Object.getOwnPropertyDescriptor(K.prototype,"_mouseHandler"),K.prototype),K)},1039:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(4),r=n(14),o=n(36),a=n(37),s=n(71),c=n(57),l=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this))._handleConfig(e),r}return Object(r.a)(n,[{key:"destroy",value:function(){Object(s.a)(Object(c.a)(n.prototype),"removeAllListeners",this).call(this)}}]),n}(n(94).EventEmitter),u=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e,r){var o;return Object(i.a)(this,n),(o=t.call(this,e))._eventSymbol=r,o._delay=void 0,o._timeout=void 0,o}return Object(r.a)(n,[{key:"execute",value:function(){var e=this;this._timeout&&clearTimeout(this._timeout),this._delay>0?this._timeout=setTimeout((function(){return e.emit(e._eventSymbol)}),this._delay):this.emit(this._eventSymbol)}},{key:"_handleConfig",value:function(e){this._delay=100,void 0!==e.delay&&null!==e.delay&&(this._delay=e.delay)}}]),n}(l),d=new(function(){function e(){Object(i.a)(this,e),this._instances=[],this._init()}return Object(r.a)(e,[{key:"create",value:function(e,t){var n=Symbol("WindowResize"),i=new u(e,n);return i.addListener(n,t),this._instances.push(i),i}},{key:"destroy",value:function(e){var t=this._instances.indexOf(e);t>-1&&(e.destroy(),this._instances.splice(t,1))}},{key:"_init",value:function(){var e=this;window.addEventListener("resize",(function(){e._instances.forEach((function(e){return e.execute()}))}))}}]),e}())},1040:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var i=n(11),r=n(31),o=n(3),a=n(179),s=n(112),c=n.n(s),l=n(984),u=(n(1090),n(10)),d=Object(o.memo)((function(e){var t=e.id,n=e.children,s=Object(r.a)(n,2),d=s[0],p=s[1],h=Object(o.useRef)(null),f=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(o.useCallback)((function(){return i(!0)}),[]),s=Object(o.useCallback)((function(){return i(!1)}),[]),c=Object(o.useCallback)((function(e){l.f===e.keyCode&&s()}),[s]);return Object(o.useEffect)((function(){return document.addEventListener("keydown",c),function(){document.removeEventListener("keydown",c)}}),[c]),{isOpen:n,close:s,props:{onMouseEnter:a,onMouseLeave:s,onFocus:a,onBlur:s}}}(),b=f.isOpen,v=f.close,m=f.props,y="string"===typeof d.props.children,j=Array.from({length:o.Children.count(d.props.children)},(function(e,n){return"".concat(t,"-").concat(n)})),g=Object(i.a)({tabIndex:0},y?{"aria-label":d.props.children}:{"aria-describedby":b?j.join(" "):null});return Object(o.useEffect)((function(){return v()}),[v,p]),Object(u.jsxs)("div",Object(i.a)(Object(i.a)({ref:h,className:c()("interactive-tooltip-container",b&&"open")},m),{},{children:[Object(o.cloneElement)(p,g),b&&a.createPortal(Object(o.cloneElement)(d,Object(i.a)({parentRef:h},!y&&{id:t})),document.body)]}))})),p=n(150),h=(n(1091),Object(o.memo)((function(e){var t,n,i,a=e.id,s=e.children,l=e.parentRef,d=e.size,h=void 0===d?"medium":d,f=e.theme,b=void 0===f?"light":f,v=Object(o.useState)(0),m=Object(r.a)(v,2),y=m[0],j=m[1],g=function(e,t){var n={min:0,max:window.innerWidth},i=Object(o.useState)(0),a=Object(r.a)(i,2),s=a[0],c=a[1],l=Object(o.useState)(0),u=Object(r.a)(l,2),d=u[0],h=u[1],f=Object(o.useState)(0),b=Object(r.a)(f,2),v=b[0],m=b[1],y=Object(o.useCallback)((function(){var i=t.left-e/2+t.width/2;if(i<=n.min)i=t.left-(t.left-n.min)/2;else if(i+e>=n.max){var r=t.left-e+t.width;i=r+(n.max-(r+e))/2}return i}),[t.left,t.width,n.min,n.max,e]);return Object(o.useLayoutEffect)((function(){var n=Object(p.a)(0,e);m(t.bottom),h(Math.max(0,y())),c(n(t.left+t.width/2-d))}),[t.left,t.width,t.bottom,d,e,s,y]),{tooltipXPos:d,tooltipYPos:v,caretXPos:s}}(y,{bottom:(null===l||void 0===l||null===(t=l.current)||void 0===t?void 0:t.getBoundingClientRect().bottom)||0,left:(null===l||void 0===l||null===(n=l.current)||void 0===n?void 0:n.getBoundingClientRect().left)||0,width:(null===l||void 0===l||null===(i=l.current)||void 0===i?void 0:i.getBoundingClientRect().width)||0}),O=g.tooltipXPos,x=g.tooltipYPos,w=g.caretXPos,k=Object(o.useCallback)((function(e){return e&&j(e.getBoundingClientRect().width)}),[]);return Object(u.jsx)("div",{ref:k,style:{"--tooltip-top":"".concat(x,"px"),"--tooltip-left":"".concat(O,"px"),"--caret-left":"".concat(w,"px")},className:c()("interactive-tooltip","interactive-tooltip--".concat(h),"interactive-tooltip--".concat(b)),role:"tooltip",children:a?o.Children.map(s,(function(e,t){return Object(o.cloneElement)(e,{id:"".concat(a,"-").concat(t)})})):s})})))},1042:function(e,t,n){"use strict";var i=n(31),r=n(5),o=n(4),a=n(14),s=n(36),c=n(37),l=n(3),u=n(10),d=function(e){var t=e.primary,n=void 0!==t&&t,i=e.vertical,r=void 0!==i&&i,o=e.percentage,a=void 0!==o&&o,s=e.size,c=void 0===s?0:s,l=e.children,d=a?"%":"px",p="layout-pane",h={};return n?p+=" layout-pane-primary":r?h.height="".concat(c).concat(d):h.width="".concat(c).concat(d),Object(u.jsx)("div",{className:p,style:h,children:l})},p=(n(1084),{primaryPaneSize:0,secondaryPaneSize:0,secondaryPaneInitialSize:0,splitterPos:0,resizing:!1,collapsedPane:null});function h(){var e=document;if(e.body.createTextRange){var t=e.body.createTextRange();t.collapse(),t.select()}else if(window.getSelection){var n,i,r;if(null===(n=window.getSelection())||void 0===n?void 0:n.empty)null===(r=window.getSelection())||void 0===r||r.empty();else if(null===(i=window.getSelection())||void 0===i?void 0:i.removeAllRanges){var o;null===(o=window.getSelection())||void 0===o||o.removeAllRanges()}}else e.selection&&e.selection.empty()}var f=20,b={ArrowUp:"ArrowUp",ArrowRight:"ArrowRight",ArrowDown:"ArrowDown",ArrowLeft:"ArrowLeft",Enter:"Enter"},v=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=p,e.container=void 0,e.splitter=void 0,e.getSecondaryPaneSize=function(t,n,i,r){var o,a,s,c;e.props.vertical?(o=t.height,a=n.height,s=i.top-t.top):(o=t.width,a=n.width,s=i.left-t.left),r&&(s-=a/2),s<0?s=0:s>o-a&&(s=o-a);var l=o-a-(c=1===e.props.primaryIndex?s:o-a-s);return e.props.percentage&&(c=100*c/o,l=100*l/o,a=100*a/o,o=100),l<e.props.primaryMinSize?c=Math.max(c-(e.props.primaryMinSize-l),0):c<e.props.secondaryMinSize&&(c=Math.min(o-a-e.props.primaryMinSize,e.props.secondaryMinSize)),c},e.handleResize=function(){if(e.splitter&&e.container&&!e.props.percentage){var t=e.container.getBoundingClientRect(),n=e.splitter.getBoundingClientRect(),i=e.getSecondaryPaneSize(t,n,{left:n.left,top:n.top},!1);e.setState({secondaryPaneSize:i})}},e.handleMouseMove=function(t){if(e.state.resizing&&e.splitter&&e.container){var n=e.container.getBoundingClientRect(),i=e.splitter.getBoundingClientRect(),r=e.getSecondaryPaneSize(n,i,{left:t.clientX,top:t.clientY},!0);h(),e.setState({secondaryPaneSize:r})}},e.handleTouchMove=function(t){e.handleMouseMove(t.changedTouches[0])},e.handleSplitterMouseDown=function(){h(),e.setState({resizing:!0})},e.handleResizeEnd=function(){e.setState((function(e){return e.resizing?{resizing:!1}:null}))},e.handleDragStart=function(){null!==e.state.collapsedPane&&e.setState({collapsedPane:null}),e.props.onDragStart&&e.props.onDragStart()},e.handleDragEnd=function(){if(e.splitter&&e.container){var t=e.splitter.getBoundingClientRect(),n=e.container.getBoundingClientRect(),i=e.props.vertical?t.top:t.left,r=e.getSplitterMinMaxPositions(n,t),o=r[0];i>=r[1]?e.setState({collapsedPane:1}):i===o&&e.setState({collapsedPane:0}),e.setState((function(t){return{primaryPaneSize:e.computePrimaryPaneSize(t.secondaryPaneSize)}})),e.props.onDragEnd&&e.props.onDragEnd()}},e.handleKeyDown=function(t){var n=t.nativeEvent;n.stopPropagation(),Object.values(b).includes(n.code)&&(e.setState({resizing:!0}),n.code!==b.Enter?e.resizePane(n):e.togglePane(e.state.collapsedPane!==e.props.primaryIndex?e.props.primaryIndex:null))},e.resizePane=function(t){var n;if(t.preventDefault(),e.splitter&&e.container){var i=b.ArrowUp,o=b.ArrowDown,a=b.ArrowLeft,s=b.ArrowRight,c=e.splitter.getBoundingClientRect(),l=e.container.getBoundingClientRect(),u=e.props.vertical&&[i,o].includes(t.code),d=!e.props.vertical&&[a,s].includes(t.code),p=(n={},Object(r.a)(n,i,Math.max(c.top-f,0)),Object(r.a)(n,o,Math.min(c.top+f,l.bottom)),Object(r.a)(n,a,Math.max(c.left-f,0)),Object(r.a)(n,s,Math.min(c.left+f,l.right)),n),v=e.getSecondaryPaneSize(l,c,{left:d?p[t.code]:c.left,top:u?p[t.code]:c.top},!1);h(),e.setState({secondaryPaneSize:v,splitterPos:e.props.vertical?c.top:c.left})}},e.togglePane=function(t){if(e.splitter&&e.container){var n=e.splitter.getBoundingClientRect(),i=e.container.getBoundingClientRect(),r=e.getSplitterMinMaxPositions(i,n),o=null===t?e.state.splitterPos:r[t],a=e.getSecondaryPaneSize(i,n,{left:!e.props.vertical&&o?o:n.left,top:e.props.vertical&&o?o:n.top},!1),s=r[0],c=r[1],l=null===t&&(e.state.splitterPos===s||e.state.splitterPos>=c);h(),e.setState((function(i){return{collapsedPane:t,splitterPos:e.props.vertical?n.top:n.left,secondaryPaneSize:l?i.secondaryPaneInitialSize:a,primaryPaneSize:e.computePrimaryPaneSize(l?i.secondaryPaneInitialSize:a)}}))}},e.getSplitterMinMaxPositions=function(t,n){var r=0===e.props.primaryIndex?[e.props.primaryMinSize,e.props.secondaryMinSize]:[e.props.secondaryMinSize,e.props.primaryMinSize],o=Object(i.a)(r,2),a=o[0],s=o[1];return{0:e.props.vertical?a||t.top:a||t.left,1:e.props.vertical?t.bottom-n.height-s:t.right-n.width-s}},e.computePrimaryPaneSize=function(t){var n=!e.props.percentage&&e.container?100*t/e.container.clientWidth:t;return Math.floor(100-n)},e.composePrimaryPaneLabel=function(){var t=e.props,n=t.vertical,i=t.primaryIndex;return"".concat({0:n?"Top":"Left",1:n?"Bottom":"Right"}[i]," pane occupying ").concat(e.state.primaryPaneSize,"% area")},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e;if(window.addEventListener("resize",this.handleResize),document.addEventListener("mouseup",this.handleResizeEnd),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchend",this.handleResizeEnd),document.addEventListener("touchmove",this.handleTouchMove),"undefined"!==typeof this.props.secondaryInitialSize)e=this.props.secondaryInitialSize;else{if(!this.container)return;var t,n=this.container.getBoundingClientRect();t=this.splitter?this.splitter.getBoundingClientRect():{width:4,height:4},e=this.getSecondaryPaneSize(n,t,{left:n.left+(n.width-t.width)/2,top:n.top+(n.height-t.height)/2},!1)}this.setState({secondaryPaneSize:e,secondaryPaneInitialSize:e,primaryPaneSize:this.computePrimaryPaneSize(e)})}},{key:"componentDidUpdate",value:function(e,t){t.secondaryPaneSize!==this.state.secondaryPaneSize&&this.props.onSecondaryPaneSizeChange&&this.props.onSecondaryPaneSizeChange(this.state.secondaryPaneSize),t.resizing!==this.state.resizing&&(this.state.resizing?this.handleDragStart():this.handleDragEnd()),e.collapsed===this.props.collapsed||t.collapsedPane===this.props.collapsed||this.state.resizing||this.togglePane(0===this.props.collapsed||1===this.props.collapsed?this.props.collapsed:null)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),document.removeEventListener("mouseup",this.handleResizeEnd),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("touchend",this.handleResizeEnd),document.removeEventListener("touchmove",this.handleTouchMove)}},{key:"render",value:function(){var e=this,t="splitter-layout";this.props.customClassName&&(t+=" ".concat(this.props.customClassName)),this.props.vertical&&(t+=" splitter-layout-vertical"),this.state.resizing&&(t+=" layout-changing");var n=l.Children.toArray(this.props.children).slice(0,2);0===n.length&&n.push(Object(u.jsx)("div",{}));for(var i=[],r=0!==this.props.primaryIndex&&1!==this.props.primaryIndex?0:this.props.primaryIndex,o=0;o<n.length;++o){var a=!0,s=null;n.length>1&&o!==r&&(a=!1,s=this.state.secondaryPaneSize),i.push(Object(u.jsx)(d,{vertical:this.props.vertical,percentage:this.props.percentage,primary:a,size:s,children:n[o]}))}var c=this.props.vertical?"vertical":"horizontal";return Object(u.jsxs)("div",{className:t,ref:function(t){e.container=t},children:[Object(u.jsx)("span",{className:"sr-only","aria-live":"polite","aria-atomic":"true",children:this.composePrimaryPaneLabel()}),i[0],i.length>1&&Object(u.jsx)("div",{tabIndex:0,role:"slider","aria-label":"Window Splitter","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":this.state.primaryPaneSize,"aria-orientation":c,"aria-roledescription":"".concat(c," splitter"),className:"layout-splitter",ref:function(t){e.splitter=t},onMouseDown:this.handleSplitterMouseDown,onTouchStart:this.handleSplitterMouseDown,onKeyDown:this.handleKeyDown,onKeyUp:this.handleResizeEnd,children:this.props.handle}),i.length>1&&i[1]]})}}]),n}(l.Component);v.defaultProps={customClassName:"",vertical:!1,percentage:!1,primaryIndex:0,primaryMinSize:0,secondaryInitialSize:void 0,secondaryMinSize:0,children:[]};t.a=v},1080:function(e,t,n){},1082:function(e,t,n){},1083:function(e,t,n){},1084:function(e,t,n){},1085:function(e,t,n){},1086:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var i=n(4),r=n(14),o=n(36),a=n(37),s=n(112),c=n.n(s),l=n(3),u=n(60),d=n(26),p=n(0),h=n(27),f=n(1024),b=n(56),v=(n(1088),n(10)),m=[{width:800,height:600},{width:1024,height:768},{width:1280,height:960},{width:1400,height:1050},{width:1600,height:1200}],y=[{width:800,height:600},{width:1024,height:768},{width:1280,height:960}],j=function(e,t){return e.width===t.width&&e.height===t.height},g=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={updatingResolution:!1,selectedValue:e._getSelectedValue()},e._responseTimeout=void 0,e._changeResolution=function(t){if(t!==e.state.selectedValue){var n=Number(t),i=e.resolutions[n];e.setState({updatingResolution:!0}),e._responseTimeout=setTimeout((function(){return e.setState({updatingResolution:!1})}),3e4);var r=e.props;(0,r.changeVmResolution)(r.vm,i).catch(e._stopUpdating)}},e}return Object(r.a)(n,[{key:"resolutions",get:function(){switch(this.props.template.os){case p.J.Win:return m;case p.J.Linux:default:return y}}},{key:"componentDidUpdate",value:function(e){j(this.props.vm,e.vm)||(this.state.updatingResolution&&this._stopUpdating(),this.setState({selectedValue:this._getSelectedValue()}))}},{key:"componentWillUnmount",value:function(){clearTimeout(this._responseTimeout)}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:c()("vm-resolution-controls",this.state.updatingResolution&&"updating"),children:[Object(v.jsx)("span",{className:"visible-title","aria-disabled":this.props.disabled,children:"Resolution:"}),Object(v.jsx)(f.b,{value:this.state.selectedValue,ariaLabel:"Cloud workspace resolution",onChange:this._changeResolution,disabled:this.props.disabled,isAsync:!0,isLoading:this.state.updatingResolution,loadingText:"Loading the resolution...",children:this.resolutions.map((function(t,n){var i="Resolution: ".concat(e._getDisplayedValue({resolution:t,forVoiceOver:!0}),".");return Object(v.jsx)(f.a,{value:"".concat(n),ariaLabel:i,children:e._getDisplayedValue({resolution:t,forVoiceOver:!1})},n)}))})]})}},{key:"_getDisplayedValue",value:function(e){var t=e.resolution,n=e.forVoiceOver;return"".concat(t.width," ").concat(n?"by":"x"," ").concat(t.height)}},{key:"_getSelectedValue",value:function(){var e=this.props.vm,t=this.resolutions.findIndex((function(t){return j(t,e)}));return-1===t&&(t=this._getDefaultScreenResolutionIndex()),"".concat(t)}},{key:"_getDefaultScreenResolutionIndex",value:function(){return this.resolutions.findIndex((function(e){return e.width===d.a.DefaultScreenWidth&&e.height===d.a.DefaultScreenHeight}))||0}},{key:"_stopUpdating",value:function(){clearTimeout(this._responseTimeout),this.setState({updatingResolution:!1})}}]),n}(l.PureComponent),O=Object(l.memo)((function(e){var t=Object(u.e)((function(t){return t.templates.get(e.vm.templateId)})),n=function(e){return Object(u.e)(h.B)||e.disabled}(e),i=Object(u.d)(),r=Object(l.useCallback)((function(e,t){return i(b.a.changeVMResolution(e,t))}),[i]);return t&&t.os!==p.J.Docker?Object(v.jsx)(g,{vm:e.vm,template:t,disabled:n,changeVmResolution:r}):null}))},1087:function(e,t,n){},1088:function(e,t,n){},1089:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var i=n(31),r=n(3),o=n(60),a=n(112),s=n.n(a),c=n(999),l=n(0),u=n(1040),d=n(215),p=(n(1092),n(10)),h=Object(r.memo)((function(e){var t=function(){var e=Object(o.e)((function(e){return e.connectionQuality.state})),t=Object(r.useState)(l.s.Unknown),n=Object(i.a)(t,2),a=n[0],s=n[1];return Object(r.useEffect)((function(){if(a===l.s.Unstable&&e===l.s.Good){var t=setTimeout((function(){return s(e)}),2e3);return function(){return clearTimeout(t)}}s(e)}),[e]),a}(),n=function(){var e=Object(o.e)((function(e){return e.connectionQuality})),t=e.state,n=e.nextReconnectAt,a=Object(r.useState)(void 0),s=Object(i.a)(a,2),c=s[0],u=s[1],d=t===l.s.Disconnected;return Object(r.useEffect)((function(){if(d&&void 0!==n){var e=Math.floor((n-Date.now())/1e3);u(e);var t=setInterval((function(){return u((function(e){return e?Math.max(0,e-1):e}))}),1e3);return function(){return clearTimeout(t)}}u(void 0)}),[n,d]),c}();return e.vm.state!==l.ob.Ready||t===l.s.Unknown?null:Object(p.jsxs)("div",{className:s()("connection-quality-indicator",t,e.className),children:[Object(p.jsxs)("span",{className:s()("label",l.s.Disconnected),children:["Connection lost. Reconnecting",void 0!==n?Object(p.jsxs)(p.Fragment,{children:[" ","in ",Object(p.jsxs)("time",{className:"time-to-reconnect",children:[n,"s"]})]}):null,"...",Object(p.jsx)(c.a,{className:"spinner"})]}),Object(p.jsxs)(u.a,{id:"unstable-connection-tooltip",children:[Object(p.jsxs)(u.b,{children:[Object(p.jsx)("p",{children:"Here are a few things you can try to improve your connection:"}),Object(p.jsxs)("ul",{className:"troubleshooting-list",children:[Object(p.jsx)("li",{children:"Move closer to the router"}),Object(p.jsx)("li",{children:"Switch to a stronger network"}),Object(p.jsx)("li",{children:"Try turning off other bandwidth-heavy apps (e.g. YouTube)"}),Object(p.jsx)("li",{children:"Try switching to a LAN connection"}),Object(p.jsx)("li",{children:"Try turning off VPNs/Proxies if possible"})]})]}),Object(p.jsx)(d.a,{className:s()("label",l.s.Unstable),disabled:t!==l.s.Unstable,children:"Unstable connection"})]}),Object(p.jsx)("span",{className:s()("label",l.s.Good),children:"Connected to Cloud Workspace"})]})}))},1090:function(e,t,n){},1091:function(e,t,n){},1092:function(e,t,n){},1093:function(e,t,n){},1094:function(e,t,n){},1096:function(e,t,n){},1097:function(e,t,n){},1098:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(3);function r(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){t.current=e}),[e]),t.current}},1099:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var i=n(4),r=n(14),o=n(36),a=n(37),s=n(3),c=n(1001),l=n(1022),u=(n(1102),n(10)),d=function(e){Object(o.a)(n,e);var t=Object(a.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e))._player=void 0,r.state={input:void 0,expandModeData:void 0,loading:!1},r}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.chapter,t=e.inputUrl,n=e.expandModeUrl;this._loadData(t,n)}},{key:"componentDidUpdate",value:function(e){this.props.chapter.inputUrl===e.chapter.inputUrl||this.props.chapter.expandModeUrl===e.chapter.expandModeUrl&&this.props.chapter.expandModeUrl||this._loadData(this.props.chapter.inputUrl,this.props.chapter.expandModeUrl)}},{key:"playing",get:function(){return!!this._player&&this._player.playing}},{key:"playbackRate",get:function(){return this._player?this._player.playbackRate:c.a.x100}},{key:"canPlay",get:function(){return!!this._player&&this._player.canPlay}},{key:"play",value:function(){return this._player?this._player.play():Promise.reject()}},{key:"pause",value:function(){this._player&&this._player.pause()}},{key:"changePlaybackRate",value:function(e){this._player&&this._player.changePlaybackRate(e)}},{key:"toggleViewbox",value:function(){if(this._player)return this._player.toggleViewbox()}},{key:"setCurrentTime",value:function(e){this._player&&this._player.setCurrentTime(e)}},{key:"learnerChangedSidebarMode",value:function(){this._player&&this._player.learnerChangedSidebarMode()}},{key:"currentTime",get:function(){return this._player?this._player.currentTime:0}},{key:"duration",get:function(){return this._player?this._player.duration:0}},{key:"takeScreenshot",value:function(){return this._player?this._player.takeScreenshot():null}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("div",{className:"chapter-player",children:[this.state.loading?this.renderLoading():null,Object(u.jsx)(c.b,{ref:function(t){return e._player=t},sources:Object(l.a)(this.props.chapter),onKeyboardFrame:this.props.onKeyboardFrame,onMouseFrame:this.props.onMouseFrame,mouse:this.props.mouse,autoPlay:this.props.autoPlay||!1,input:this.state.input,expandModeData:this.state.expandModeData,controls:this.props.controls,viewboxSize:this.props.viewboxSize,showViewbox:this.props.showViewbox,isViewExpanded:this.props.isViewExpanded,onViewboxToggle:this.props.onViewboxToggle,onCanPlay:this.props.onCanPlay,onReadyMetadata:this.props.onReadyMetadata,className:this.state.loading?"hidden":void 0,annotations:this.props.chapter.annotations,subtitles:this.props.chapter.subtitles,subtitleLang:this.props.language,onVideoDimmensions:this.props.onVideoDimmensions,onExpandModeChange:this.props.onExpandModeChange,errorContainer:this.props.errorContainer})]})}},{key:"renderLoading",value:function(){return"Buffering..."}},{key:"_loadData",value:function(e,t){var n=this;this.setState({loading:!0}),Promise.all([this._fetchResource(e),this._fetchResource(t)]).then((function(e){var t=e[0],i=e[1];n.setState({input:t,expandModeData:i,loading:!1})})).catch((function(){return n.setState({loading:!1})}))}},{key:"_fetchResource",value:function(e){return e?new Promise((function(t,n){var i=new XMLHttpRequest;i.responseType="arraybuffer",i.onreadystatechange=function(e){4===i.readyState&&(200===i.status?t(i.response):n())},i.open("get",e,!0),i.send()})):Promise.resolve(void 0)}}]),n}(s.PureComponent)},1100:function(e,t,n){},1101:function(e,t,n){},1102:function(e,t,n){},1103:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(149),r=n(112),o=n.n(r),a=(n(1104),n(10)),s=["hidden","autogenerated"],c=function(e){var t=e.hidden,n=e.autogenerated,r=Object(i.a)(e,s);return Object(a.jsxs)("div",{className:o()("cc-container",{hidden:t,autogenerated:n},r.className),"aria-hidden":"true",children:[r.children,"string"===typeof r.text?r.text&&Object(a.jsx)("span",{dir:r.dir||"ltr",className:"cc-text",children:r.text}):r.text]})}},1104:function(e,t,n){},1105:function(e,t,n){},1106:function(e,t,n){},1107:function(e,t,n){},1108:function(e,t,n){},1109:function(e,t,n){},1110:function(e,t,n){},1111:function(e,t,n){},1112:function(e,t,n){},1113:function(e,t,n){},1114:function(e,t,n){},1116:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ve})),n.d(t,"b",(function(){return Ue}));var i,r=n(4),o=n(14),a=n(36),s=n(37),c=n(112),l=n.n(c),u=n(3),d=n(72),p=n(60),h=n(1),f=n(268),b=n(215),v=(n(1105),n(10)),m=function(e){return e.captions.ccOn},y=Object(u.memo)((function(){var e=Object(p.e)((function(e){return Boolean(e.captions.track)})),t=Object(p.e)(m),n=Object(p.d)(),i=Object(u.useCallback)((function(){return n(new h.cb(!t))}),[t,n]);return e?Object(v.jsx)(f.c,{handlers:{"video.toggleCC":i},children:Object(v.jsx)(b.a,{"data-e2e":"cc-toggle-btn",className:"cc-toggle-button ".concat(t?"":"disabled"),title:t?"Turn off closed captions":"Turn on closed captions",onClick:i,children:Object(v.jsx)("span",{"aria-hidden":"true",children:"cc"})})}):null})),j=["title","titleId"];function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},g.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x(e,t){var n=e.title,r=e.titleId,o=O(e,j);return u.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 472.615 472.615",ref:t,"aria-labelledby":r},o),n?u.createElement("title",{id:r},n):null,i||(i=u.createElement("path",{d:"M332.955 266.833V0H139.662v266.833H30.525l205.783 205.782L442.09 266.833z"})))}var w,k=u.forwardRef(x),C=(n.p,n(27)),_=n(1013),A=(n(1106),Object(u.memo)((function(){var e=Object(p.e)((function(e){return e.captions.track})),t=Object(p.e)(C.f),n=Object(u.useCallback)((function(){var n;if((null===e||void 0===e||null===(n=e.track)||void 0===n?void 0:n.cues)&&(null===t||void 0===t?void 0:t.name)){var i=Array.from(e.track.cues,(function(e){return e.text})).join("\n"),r=new Blob([i],{type:"text/plain"}),o="".concat(Object(_.c)(t.name),"_transcript.txt");Object(_.a)(r,o)}}),[e,null===t||void 0===t?void 0:t.name]);return e&&t?Object(v.jsx)(b.a,{title:"Download video transcript",className:"download-cc-button",onClick:n,children:Object(v.jsx)(k,{})}):null}))),S=n(345),P=n(346),E=n.n(P),R=(n(1107),["title","titleId"]);function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},D.apply(this,arguments)}function I(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function M(e,t){var n=e.title,i=e.titleId,r=I(e,R);return u.createElement("svg",D({viewBox:"0 0 34 40",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,w||(w=u.createElement("path",{d:"M23.77 0h9.616v40H23.77V0zM0 0h9.617v40H0V0z"})))}var V,T=u.forwardRef(M),N=(n.p,["title","titleId"]);function L(){return L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},L.apply(this,arguments)}function z(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function F(e,t){var n=e.title,i=e.titleId,r=z(e,N);return u.createElement("svg",L({viewBox:"0 0 31 40",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,V||(V=u.createElement("path",{d:"M0 0v40l30.728-20z"})))}var B,U,H,W,K,X,q=u.forwardRef(F),Y=(n.p,B=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._keyboardActionHandlers={"video.togglePlay":e._onClick},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(v.jsxs)(b.a,{className:l()("play-pause-button",this.props.disabled&&"disabled",this.props.playing?"pause-btn":"play-btn"),onClick:this._onClick,"aria-label":this.props.playing?"Pause video":"Play video",children:[Object(v.jsx)(f.c,{handlers:this._keyboardActionHandlers}),this.props.playing?Object(v.jsx)(T,{}):Object(v.jsx)(q,{})]})}},{key:"_onClick",value:function(){this.props.disabled||this.props.onClick()}}]),n}(u.PureComponent),Object(S.a)(B.prototype,"_onClick",[E.a],Object.getOwnPropertyDescriptor(B.prototype,"_onClick"),B.prototype),B),Q=n(11),G=n(5),Z=n(348),J=n(1001),$=(n(1108),U={},Object(G.a)(U,J.a.x025,"0.2x"),Object(G.a)(U,J.a.x050,"0.5x"),Object(G.a)(U,J.a.x075,"0.7x"),Object(G.a)(U,J.a.x100,"1x"),Object(G.a)(U,J.a.x125,"1.2x"),Object(G.a)(U,J.a.x150,"1.5x"),Object(G.a)(U,J.a.x200,"2x"),U),ee=Object.values(J.a),te={opened:!1,highlightedRate:J.a.x025},ne=(K=W=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).contextType=void 0,e.state=Object(Q.a)(Object(Q.a)({},te),{},{highlightedRate:e.props.playbackRate}),e.keyboardActionHandlers={"video.speedUp":e.changePlaybackRate(1),"video.speedDown":e.changePlaybackRate(-1)},e.buttonRef=Object(u.createRef)(),e.onOptionMouseEnter=function(t){e.setState({highlightedRate:t})},e.onOptionClick=function(t){e.props.onPlaybackRateChange(t)},e.onKeyDown=function(t){["ArrowUp","ArrowDown","Enter"].includes(t.key)&&e.handleKnownKeyEvent(t)},e.onKeyUp=function(t){[" ","Escape"].includes(t.key)&&e.handleKnownKeyEvent(t)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{className:"playback-rate-button"+(this.props.hidden?" hidden":""),children:[Object(v.jsx)(f.c,{handlers:this.keyboardActionHandlers}),Object(v.jsx)("ul",{className:"list"+(this.state.opened?" visible":""),onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,role:"listbox","aria-label":"Video playback rate",children:ee.map((function(t){return Object(v.jsxs)(ie,{rate:t,onClick:e.onOptionClick,onMouseEnter:e.onOptionMouseEnter,highlighted:e.state.opened&&t===e.state.highlightedRate,children:[Object(v.jsx)("span",{className:"a11y-visually-hidden",children:"Video playback rate: ".concat($[t])}),Object(v.jsx)("span",{"aria-hidden":!0,children:$[t]})]},t)}))}),Object(v.jsx)("button",{className:l()("open",f.a),onClick:this.open,"aria-haspopup":"listbox","aria-expanded":this.state.opened,"aria-label":"Video playback rate dropdown: ".concat($[this.props.playbackRate],". Use Enter or Space to toggle the list. Use Up or Down to select another option."),onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,tabIndex:this.disabled?-1:0,ref:this.buttonRef,children:$[this.props.playbackRate]})]})}},{key:"disabled",get:function(){return this.context.isDisabled||this.props.hidden}},{key:"open",value:function(){var e=this;this.state.opened||this.setState({opened:!0},(function(){return document.addEventListener("click",e.close)}))}},{key:"close",value:function(){var e=this;this.state.opened&&(this.setState({opened:!1},(function(){return document.removeEventListener("click",e.close)})),this.buttonRef.current&&this.buttonRef.current.focus())}},{key:"changePlaybackRate",value:function(e){var t=this;return function(){var n=ee.findIndex((function(e){return parseFloat(e)===parseFloat(t.props.playbackRate)})),i=Math.max(0,Math.min(n+e,ee.length-1)),r=ee[i];r&&t.props.onPlaybackRateChange(r)}}},{key:"handleKnownKeyEvent",value:function(e){if(e.preventDefault(),e.stopPropagation(),!this.disabled){var t=this.state.highlightedRate;switch(e.key){case"ArrowDown":if(!this.state.opened){this.open();break}var n=ee.indexOf(t)+1;n>=ee.length&&(n=0),this.setState({highlightedRate:ee[n]});break;case"ArrowUp":if(!this.state.opened){this.open();break}var i=ee.indexOf(t)-1;i<0&&(i=ee.length-1),this.setState({highlightedRate:ee[i]});break;case"Enter":case" ":this.state.opened?(this.props.playbackRate!==t&&this.props.onPlaybackRateChange(t),this.close()):this.open();break;case"Escape":case"Tab":this.close()}}}}]),n}(u.PureComponent),W.contextType=Z.a,H=K,Object(S.a)(H.prototype,"open",[E.a],Object.getOwnPropertyDescriptor(H.prototype,"open"),H.prototype),Object(S.a)(H.prototype,"close",[E.a],Object.getOwnPropertyDescriptor(H.prototype,"close"),H.prototype),Object(S.a)(H.prototype,"changePlaybackRate",[E.a],Object.getOwnPropertyDescriptor(H.prototype,"changePlaybackRate"),H.prototype),H),ie=function(e){var t=e.htmlAttributes,n=e.rate,i=e.onClick,r=e.onMouseEnter,o=e.highlighted,a=e.children,s=Object(u.useCallback)((function(){return i(n)}),[n,i]),c=Object(u.useCallback)((function(){return r(n)}),[n,r]),d=Object(u.useRef)(null);return Object(u.useEffect)((function(){o&&d.current&&d.current.focus()}),[o]),Object(v.jsx)("li",Object(Q.a)(Object(Q.a)({},t),{},{ref:d,onClick:s,tabIndex:-1,className:l()(o&&"highlighted",f.a),onMouseEnter:c,"aria-selected":o,role:"option",children:a}))},re=["title","titleId"];function oe(){return oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},oe.apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function se(e,t){var n=e.title,i=e.titleId,r=ae(e,re);return u.createElement("svg",oe({viewBox:"0 0 40 27",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,X||(X=u.createElement("path",{d:"M35.71 0v13.278L15.304 0v9.96L0 0v26.878l15.305-9.963v9.963l20.404-13.28v13.28H40V0z"})))}var ce,le=u.forwardRef(se),ue=(n.p,n(1109),Object(u.memo)((function(e){var t=e.type,n=e.hidden,i=e.disabled,r=e.onClick;return Object(v.jsx)(b.a,{className:l()("prev-next-button",t,{disabled:i,hidden:n}),disabled:i,onClick:r,"aria-label":"next"===t?"Next video chapter":"Previous video chapter",children:Object(v.jsx)(le,{})})}))),de=["title","titleId"];function pe(){return pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},pe.apply(this,arguments)}function he(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fe(e,t){var n=e.title,i=e.titleId,r=he(e,de);return u.createElement("svg",pe({viewBox:"0 0 79.51 70.7",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,ce||(ce=u.createElement("path",{fill:"#fff",d:"M28.37 27.09L19 27.5a27 27 0 116.61 27.16A4 4 0 0020 60.31a35 35 0 10.07-49.5 36.35 36.35 0 00-9.43 16.47 1.37 1.37 0 00-.07.49l-7.71.35a2.93 2.93 0 00-2 .84 2.7 2.7 0 00-.71 1.13A3.06 3.06 0 001 33.35l13.27 12.18a3 3 0 004.24-.14l12.18-13.28a3.16 3.16 0 00.5-3.32 3 3 0 00-2.82-1.7z"})))}var be,ve=u.forwardRef(fe),me=(n.p,n(1110),function(e){return Object(v.jsx)(b.a,{className:"repeat-button","data-time":e.predefinedTime,onClick:e.onClick,"aria-label":"Rewind video back ".concat(e.predefinedTime," seconds"),children:Object(v.jsx)(ve,{"aria-hidden":!0})})}),ye=n(1036),je=["title","titleId"];function ge(){return ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ge.apply(this,arguments)}function Oe(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xe(e,t){var n=e.title,i=e.titleId,r=Oe(e,je);return u.createElement("svg",ge({viewBox:"0 0 1000 1000",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,be||(be=u.createElement("path",{d:"M419.7 57.6c26.2-26.2 47.6-17.3 47.6 19.7v845.3c0 37.1-21.4 45.9-47.6 19.7L173.3 696H10V304h163.3L419.7 57.6zM990 609.4V696h-86.6L794 586.6 684.6 696H598v-86.6L707.4 500 598 390.6V304h86.6L794 413.4 903.4 304H990v86.6L880.6 500 990 609.4z"})))}var we,ke=u.forwardRef(xe),Ce=(n.p,["title","titleId"]);function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},_e.apply(this,arguments)}function Ae(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Se(e,t){var n=e.title,i=e.titleId,r=Ae(e,Ce);return u.createElement("svg",_e({viewBox:"0 0 1000 1000",ref:t,"aria-labelledby":i},r),n?u.createElement("title",{id:i},n):null,we||(we=u.createElement("path",{d:"M811.3 855.8c-13.7 0-27.4-5.2-37.8-15.7-20.9-20.9-20.9-54.7 0-75.6 145.9-145.9 145.9-383.3 0-529.2-20.9-20.9-20.9-54.7 0-75.6 20.9-20.9 54.7-20.9 75.6 0C940 250.7 990 371.5 990 500s-50 249.3-140.9 340.2c-10.4 10.4-24.1 15.6-37.8 15.6zM621.4 755c-13.7 0-27.4-5.2-37.8-15.7-20.9-20.9-20.9-54.7 0-75.6 90.3-90.3 90.3-237.3 0-327.6-20.9-20.9-20.9-54.7 0-75.6 20.9-20.9 54.7-20.9 75.6 0 132 132 132 346.8 0 478.8-10.4 10.5-24.1 15.7-37.8 15.7zM456.9 17.4c28.6-28.6 52-18.9 52 21.5V961c0 40.4-23.4 50.1-52 21.5L188.2 713.8H10V286.2h178.2L456.9 17.4z"})))}var Pe,Ee=u.forwardRef(Se),Re=(n.p,n(1111),function(){var e=Object(p.d)(),t=Object(p.e)(C.C),n=Object(u.useCallback)((function(){return e(new h.Db(!t))}),[t,e]);Object(f.f)("video.toggleMute",n);var i=t?ke:Ee,r="".concat(t?"Unm":"M","ute");return Object(v.jsx)(b.a,{className:"mute-button","aria-label":r,onClick:n,children:Object(v.jsx)(i,{"aria-hidden":!0})})}),De=n(31),Ie=(n(1112),function(e){var t=Object(p.d)();Object(f.f)("video.volumeUp",Object(u.useCallback)((function(){return t(new h.Eb((function(e){return e+.1})))}),[t])),Object(f.f)("video.volumeDown",Object(u.useCallback)((function(){return t(new h.Eb((function(e){return e-.1})))}),[t]));var n=Object(p.e)(C.w),i=Object(p.e)(C.C)?0:n,r=Object(u.useCallback)((function(e){return t(new h.Eb(Number(e.target.value)/100))}),[t]),o="".concat(Math.floor(100*i),"%"),a="dark"===e.theme?["black","gray"]:["white","gray"],s=Object(De.a)(a,2),c=s[0],l=s[1],d="linear-gradient(to right, ".concat(c," ").concat(o,", ").concat(l," ").concat(o,")"),b="Volume ".concat(Math.round(100*i)," percent"),m=Object(u.useContext)(Z.a).isDisabled;return Object(v.jsxs)("label",{className:"volume-slider",children:[Object(v.jsx)("input",{disabled:m,style:{background:d},type:"range",min:0,max:100,step:4,value:100*i,"aria-valuetext":b,onChange:r}),Object(v.jsx)("div",{className:"focus-frame","aria-hidden":!0})]})}),Me=(n(1113),Object(u.memo)((function(e){return Object(v.jsxs)("div",{className:l()("volume-controls",e.theme),children:[Object(v.jsx)(Re,{}),Object(v.jsx)(Ie,{theme:e.theme})]})}))),Ve=(n(1114),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._draggingWhilePlaying=void 0,e.onPlay=function(){e.props.disableAll||e.props.onPlay()},e.onPause=function(){e.props.disableAll||e.props.onPause()},e.onPredefinedBackward=function(){e.props.onSeek(Math.max(e.props.currentTime-15,0))},e.onBackward=function(){e.props.backwardDisabled||e.props.navigationHidden||e.props.disableAll||e.props.onBackward()},e.onForward=function(){e.props.forwardDisabled||e.props.navigationHidden||e.props.disableAll||e.props.onForward()},e.onProgressDrag=function(){e.props.playing&&(e._draggingWhilePlaying=!0,e.props.onPause())},e.onProgressRelease=function(){e._draggingWhilePlaying&&(e._draggingWhilePlaying=!1,e.props.onPlay())},e.composeVideoDurationLabel=function(t){return"".concat(Object(d.f)(t*d.a.Sec)," of ").concat(Object(d.f)(e.props.duration*d.a.Sec))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=Object(d.d)(this.props.currentTime*d.a.Sec)+" / "+Object(d.d)(this.props.duration*d.a.Sec);return Object(v.jsxs)("div",{className:l()("video-controls",this.props.className,this.props.disableAll&&"disabled","dark"===this.props.theme&&"dark-theme"),children:[Object(v.jsx)(ye.a,{currentTime:this.props.currentTime,duration:this.props.duration,onSeek:this.props.onSeek,onDrag:this.onProgressDrag,onRelease:this.onProgressRelease,disabled:this.props.disableAll}),Object(v.jsxs)("div",{className:"buttons",children:[Object(v.jsxs)("div",{className:"video-nav",children:[Object(v.jsx)(Y,{playing:this.props.playing,onClick:this.props.playing?this.onPause:this.onPlay}),Object(v.jsx)(ue,{type:"prev",disabled:this.props.backwardDisabled,hidden:this.props.navigationHidden,onClick:this.onBackward}),Object(v.jsx)(me,{predefinedTime:15,onClick:this.onPredefinedBackward}),Object(v.jsx)(ue,{type:"next",disabled:this.props.forwardDisabled,hidden:this.props.navigationHidden,onClick:this.onForward}),Object(v.jsx)(Me,{theme:this.props.theme}),Object(v.jsx)("div",{className:"label",role:"progressbar","aria-valuemin":0,"aria-valuemax":this.props.duration,"aria-valuenow":this.props.currentTime,"aria-valuetext":"Video progress: ".concat(this.composeVideoDurationLabel(this.props.currentTime)),children:e})]}),Object(v.jsxs)("div",{className:"video-settings",children:[Object(v.jsx)(A,{}),Object(v.jsx)(y,{}),Object(v.jsx)(ne,{playbackRate:this.props.playbackRate,onPlaybackRateChange:this.props.onPlaybackRateChange})]})]})]})}}]),n}(u.PureComponent)),Te=n(94),Ne=n(13),Le=n(133),ze=Symbol("PlayerPlaying"),Fe=Symbol("PlayerTimeUpdated"),Be=Symbol("PlayerCompleted"),Ue=(Pe=function(){function e(t,n,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(r.a)(this,e),this._dispatch=t,this._currentChapter=n,this._chapters=i,this._hooks=o,this._emitter=new Te.EventEmitter,this._interval=void 0,this._player=void 0}return Object(o.a)(e,[{key:"chapters",get:function(){return this._chapters?this._chapters.filter((function(e){return!!e&&Object(Le.e)(e)})).toList():Object(Ne.List)()}},{key:"nextChapter",get:function(){if(!this._currentChapter)return null;var e=this.chapters,t=e.indexOf(this._currentChapter),n=t+1;return-1===t||n>=e.size?null:e.get(n)}},{key:"prevChapter",get:function(){if(!this._currentChapter)return null;var e=this.chapters,t=e.indexOf(this._currentChapter)-1;return t<0?void 0:e.get(t)}},{key:"hasNextChapter",get:function(){return!!this.nextChapter}},{key:"hasPrevChapter",get:function(){return!!this.prevChapter}},{key:"destroy",value:function(){this._dispatch(new h.V),this.clearInterval()}},{key:"setRefs",value:function(e){e&&(this._player=e)}},{key:"updateProps",value:function(e,t){this._currentChapter=e,this._chapters=t}},{key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearInterval(this._interval)}))},{key:"onPlayerPlaying",value:function(e){this._emitter.addListener(ze,e)}},{key:"onPlayerTimeUpdated",value:function(e){this._emitter.addListener(Fe,e)}},{key:"onPlayerCompleted",value:function(e){this._emitter.addListener(Be,e)}},{key:"onPause",value:function(){this._player&&(clearInterval(this._interval),this._emitter.emit(ze,!1),this._player.pause())}},{key:"onPlay",value:function(){var e=this;if(this._player){clearInterval(this._interval);var t=this._player.play();t?t.then(this._onSuccessfulPlay).catch((function(){e._emitter.emit(ze,!1)})):this._onSuccessfulPlay()}}},{key:"onPlaybackRateChange",value:function(e){this._player&&this._player.changePlaybackRate(e)}},{key:"onSeek",value:function(e){this._player&&(this._emitter.emit(Fe,e),this._player.setCurrentTime(e))}},{key:"onForward",value:function(){this.nextChapter&&this._selectChapter(this.nextChapter)}},{key:"onBackward",value:function(){this.prevChapter&&this._selectChapter(this.prevChapter)}},{key:"_selectChapter",value:function(e){this._dispatch(new h.jb(e)),this._emitter.emit(Fe,0)}},{key:"_onSuccessfulPlay",value:function(){this._emitter.emit(ze,!0),clearInterval(this._interval),this._interval=setInterval(this._emitPlayerTimeAndPauses,50),this._hooks.onPlay&&this._hooks.onPlay()}},{key:"_emitPlayerTimeAndPauses",value:function(){this._player&&(this._emitter.emit(Fe,this._player.currentTime),this._player.currentTime===this._player.duration&&this._player.canPlay?(this.onPause(),this._emitter.emit(Be)):this._player.playing||this.onPause())}}]),e}(),Object(S.a)(Pe.prototype,"onPause",[E.a],Object.getOwnPropertyDescriptor(Pe.prototype,"onPause"),Pe.prototype),Object(S.a)(Pe.prototype,"onPlay",[E.a],Object.getOwnPropertyDescriptor(Pe.prototype,"onPlay"),Pe.prototype),Object(S.a)(Pe.prototype,"onPlaybackRateChange",[E.a],Object.getOwnPropertyDescriptor(Pe.prototype,"onPlaybackRateChange"),Pe.prototype),Object(S.a)(Pe.prototype,"onSeek",[E.a],Object.getOwnPropertyDescriptor(Pe.prototype,"onSeek"),Pe.prototype),Object(S.a)(Pe.prototype,"onForward",[E.a],Object.getOwnPropertyDescriptor(Pe.prototype,"onForward"),Pe.prototype),Object(S.a)(Pe.prototype,"onBackward",[E.a],Object.getOwnPropertyDescriptor(Pe.prototype,"onBackward"),Pe.prototype),Object(S.a)(Pe.prototype,"_onSuccessfulPlay",[E.a],Object.getOwnPropertyDescriptor(Pe.prototype,"_onSuccessfulPlay"),Pe.prototype),Object(S.a)(Pe.prototype,"_emitPlayerTimeAndPauses",[E.a],Object.getOwnPropertyDescriptor(Pe.prototype,"_emitPlayerTimeAndPauses"),Pe.prototype),Pe)},1118:function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var i=n(16),r=n.n(i),o=n(25),a=n(4),s=n(14),c=n(36),l=n(37),u=n(65),d=n.n(u),p=n(3),h=n(94),f=n(1013),b=n(1034),v=n(168),m="application/zip",y=function(){function e(t,n,i,r,o,s){Object(a.a)(this,e),this._guac=t,this._tunnelUUID=n,this._authToken=i,this._protocol=r,this._host=o,this._file=s,this._emitter=new h.EventEmitter,this._xhr=void 0}return Object(s.a)(e,[{key:"start",value:function(){var e=this,t=this._guac.createFileStream(m,this._file.name);t.onack=function(){e._uploadFile(t),t.onack=null}}},{key:"onProgress",value:function(e){this._emitter.on(v.a.Progress,e)}},{key:"onCompleted",value:function(e){this._emitter.on(v.a.Completed,e)}},{key:"onError",value:function(e){this._emitter.on(v.a.Error,e)}},{key:"destroy",value:function(){this._emitter.off(v.a.Error),this._emitter.off(v.a.Completed),this._emitter.off(v.a.Progress),this._cancel()}},{key:"_uploadFile",value:function(e){var t=this,n=this._protocol+"://"+this._host+"/api/session/tunnels/"+this._tunnelUUID+"/streams/"+encodeURIComponent(e.index)+"/"+encodeURIComponent(Object(f.c)(this._file.name))+"?token="+encodeURIComponent(this._authToken),i=new XMLHttpRequest;i.withCredentials=!0,this._xhr=i,i.upload&&i.upload.addEventListener("progress",(function(e){t._emitter.emit(v.a.Progress,{current:e.loaded,total:t._file.size})})),i.onreadystatechange=function(){4===i.readyState&&(i.status>=200&&i.status<300?(t._guac.endStream(e.index),t._emitter.emit(v.a.Completed)):"application/json"===i.getResponseHeader("Content-Type")?t._emitter.emit(v.a.Error,i.responseText):i.status>=400&&i.status<500?t._emitter.emit(v.a.Error,"Stream error"):t._emitter.emit(v.a.Error,"HTTP "+i.status))},i.open("POST",n,!0),i.setRequestHeader("content-type",m),i.send(this._file)}},{key:"_cancel",value:function(){this._xhr&&this._xhr.abort()}}]),e}(),j=function(){var e=Object(o.a)(r.a.mark((function e(t,n,i){var o,a,s,c,l,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)(t);case 2:return o=e.sent,a=o.client,s=o.tunnel,c=o.token,(l=new y(a,s.uuid,c,t.protocol,t.host,n)).onProgress(i||d.a),l.start(),u=new Promise((function(e,t){l.onCompleted((function(){a.disconnect(),e()})),l.onError((function(e){a.disconnect(),t(new Error(e))}))})),e.abrupt("return",{promise:u,abort:function(){return l.destroy()}});case 11:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),g=n(0),O=n(990),x=n(215),w=n(1035),k=(n(1004),n(1007)),C=(n(1094),n(10)),_=Object(p.forwardRef)((function(e,t){var n=e.isDone?"All files uploaded":e.label;return Object(C.jsx)("div",{className:"file-uploader"+(e.isDisabled?" disabled":""),children:Object(C.jsx)(k.a,{ref:t,isDisabled:e.isDisabled,allowSameFileSelection:!0,uploadIcon:e.uploadIcon,filters:e.filters,fileLimit:e.fileLimit,onFiles:e.onFiles,onCancel:e.onCancel,children:e.totalFiles&&!e.isDone?Object(C.jsxs)("div",{"aria-label":"Uploading file ".concat(e.currentFile," of ").concat(e.totalFiles),children:[Object(C.jsxs)("span",{"aria-hidden":!0,children:["File ",e.currentFile,"/",e.totalFiles]}),Object(C.jsx)(w.a,{htmlAttributes:{"aria-label":"Upload progress for the current file."},progress:e.currentProgress}),Object(C.jsx)(x.a,{"aria-label":"Cancel uploading all files",onClick:e.onCancel,className:"cancel",children:Object(C.jsx)("i",{className:"fa fa-times","aria-hidden":!0})})]}):Object(C.jsx)("div",{"aria-label":n+". Click to choose a file for uploading.",children:n})})})})),A=n(32),S=n(1006),P=Object(A.c)("VmFileUploader",!0).log,E={files:[],currentFile:0,currentProgress:0,isInProgress:!1,isDone:!1,abortUpload:d.a},R=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state=E,e.uploadAreaRef=Object(p.createRef)(),e.onFiles=function(t){var n,i;P("Uploading %d files",t.length),null===(n=(i=e.props).onStart)||void 0===n||n.call(i),e.setState({files:e.state.files.concat(t)},(function(){e.state.isInProgress||e.nextFile()}))},e.nextFile=function(){var t=e.state.currentFile;if(t<e.state.files.length){var n=function(){return e.uploadFile(e.state.files[t]).then((function(){setTimeout((function(){return e.nextFile()}),1e3)}))};e.state.isDone?e.setState({isDone:!1},n):n()}else{var i,r,o;e.setState({isDone:!0,files:[],currentFile:0,currentProgress:0,isInProgress:!1}),null===(i=e.uploadAreaRef.current)||void 0===i||i.reset(),null===(r=(o=e.props).onCompleted)||void 0===r||r.call(o),e.props.showNotification({type:g.I.Success,title:"Files uploaded",text:"Your files were successfully uploaded"})}},e.onUploadError=function(){var t,n;e.props.showNotification({type:g.I.Error,ttl:1e4,title:"Error",text:'Something went wrong while uploading your files. Please, try again. If the issue persists, you can try [ufile.io](https://ufile.io){target="_blank" rel="noopener noreferrer"}'}),null===(t=(n=e.props).onError)||void 0===t||t.call(n)},e.uploadFile=function(){var t=Object(o.a)(r.a.mark((function t(n){var i,o,a,s,c,l,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.props.vm){t.next=3;break}return t.abrupt("return");case 3:return o=e.state.files.length,a=e.state.currentFile,s=a/o,c=(a+.9)/o,l=function(t){var i=Object(S.b)(s,c,t.current/t.total);P("[".concat(n.name,"] Upload progress: ").concat(t.current," / ").concat(t.total," -> overall progress: ").concat(i," ")),e.setState({currentProgress:i})},t.prev=8,P("[".concat(n.name,"] Initiating upload")),e.setState({currentProgress:s,isInProgress:!0,currentFile:a+1}),t.next=13,j(i.connection,n,l);case 13:return u=t.sent,P("[".concat(n.name,"] Start uploading")),e.setState({abortUpload:function(){return u.abort()}}),t.next=18,u.promise;case 18:P("[".concat(n.name,"] Finished uploading")),e.setState({isInProgress:!1,abortUpload:d.a}),t.next=26;break;case 22:t.prev=22,t.t0=t.catch(8),P("[".concat(n.name,"] Upload error: ").concat(t.t0)),e.onUploadError();case 26:case"end":return t.stop()}}),t,null,[[8,22]])})));return function(e){return t.apply(this,arguments)}}(),e.cancel=function(){var t,n,i;e.state.abortUpload(),e.setState({files:[],isInProgress:!1,currentFile:0,currentProgress:0}),null===(t=e.uploadAreaRef.current)||void 0===t||t.reset(),null===(n=(i=e.props).onCompleted)||void 0===n||n.call(i)},e}return Object(s.a)(n,[{key:"render",value:function(){return Object(C.jsx)(_,{ref:this.uploadAreaRef,currentFile:this.state.currentFile,currentProgress:this.state.currentProgress,uploadIcon:this.props.uploadIcon,isDone:this.state.isDone,totalFiles:this.state.files.length,label:this.props.label,isDisabled:this.props.isDisabled,filters:{maxSize:104857600,minSize:1},onCancel:this.cancel,onFiles:this.onFiles})}}]),n}(p.PureComponent),D=Object(O.b)(R)},1119:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i,r=n(3),o=n(65),a=n.n(o),s=n(349),c=["title","titleId"];function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},l.apply(this,arguments)}function u(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d(e,t){var n=e.title,o=e.titleId,a=u(e,c);return r.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",viewBox:"3 3 18 18",ref:t,"aria-labelledby":o},a),n?r.createElement("title",{id:o},n):null,i||(i=r.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}var p,h=r.forwardRef(d),f=(n.p,["title","titleId"]);function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},b.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m(e,t){var n=e.title,i=e.titleId,o=v(e,f);return r.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",viewBox:"3 3 18 18",ref:t,"aria-labelledby":i},o),n?r.createElement("title",{id:i},n):null,p||(p=r.createElement("path",{d:"M19 3H5a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2V5a2 2 0 00-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))}var y=r.forwardRef(m),j=(n.p,n(1096),n(10)),g=Object(r.memo)((function(e){var t=e.children,n=e.onChange,i=void 0===n?a.a:n,o=e.checked,c=void 0!==o&&o,l=e.name,u=void 0===l?"checkbox":l,d=function(){var e=Object(r.useRef)("");return e.current=e.current||Object(s.a)(),e.current}(),p=Object(r.useCallback)((function(e){var t={checked:e.target.checked,name:e.target.name,value:e.target.value};i(t)}),[i]);return Object(j.jsxs)("span",{className:"coursera-checkbox",children:[Object(j.jsx)("input",{type:"checkbox",id:"".concat(d,"-input"),"aria-labelledby":d,onChange:p,checked:c,name:u}),Object(j.jsxs)("label",{htmlFor:"".concat(d,"-input"),"aria-hidden":"true",id:d,children:[Object(j.jsx)(h,{className:"checkbox-icon checkbox-outline"}),Object(j.jsx)(y,{className:"checkbox-icon checkbox-solid"}),t]})]})}))},1317:function(e,t,n){},1318:function(e,t,n){},1319:function(e,t,n){},1320:function(e,t,n){},1321:function(e,t,n){},1322:function(e,t,n){},1323:function(e,t,n){},1324:function(e,t,n){},1325:function(e,t,n){},1326:function(e,t,n){},1327:function(e,t,n){},1328:function(e,t,n){},1329:function(e,t,n){},1330:function(e,t,n){},1331:function(e,t,n){},1332:function(e,t,n){},1333:function(e,t,n){},1334:function(e,t,n){},1335:function(e,t,n){},1336:function(e,t,n){},1337:function(e,t,n){},1338:function(e,t,n){},1340:function(e,t,n){},1341:function(e,t,n){},1342:function(e,t,n){},1343:function(e,t,n){},1344:function(e,t,n){},1345:function(e,t,n){},1346:function(e,t,n){},1347:function(e,t,n){},1351:function(e,t,n){},1352:function(e,t,n){},1353:function(e,t,n){},1354:function(e,t,n){},1355:function(e,t,n){},1356:function(e,t,n){},1357:function(e,t,n){},1358:function(e,t,n){},1375:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return wo}));var i=n(11),r=n(4),o=n(14),a=n(36),s=n(37),c=n(3),l=n.n(c),u=n(60),d=n(1),p=n(0),h=n(97),f=n(19),b=n(253),v=n(79),m=n(181),y=n(27),j=n(33),g=n(1025),O=n(65),x=n.n(O),w=n(10),k=Object(c.createContext)({isConnected:!1,isUploadingFiles:!1,update:x.a}),C=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).update=function(t){e.setState(t)},e.state={isConnected:e.props.isConnected||!1,isUploadingFiles:e.props.isUploadingFiles||!1,update:e.update},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(w.jsx)(k.Provider,{value:this.state,children:this.props.children})}}]),n}(c.Component),_=n(112),A=n.n(_),S=n(989),P=n(350),E=(n(1317),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._onToggleFromEsc=function(){var t=e.props.data,n=t.choices.get(t.cancelChoiceIndex);n&&!n.disabled&&n.callback()},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.visible;return Object(w.jsxs)(P.a,{className:A()("room-modal",t.id),"data-e2e":"room-modal",visible:n,onToggle:this._onToggleFromEsc,title:t.title,size:"tiny",closeWithEsc:!0,children:[Object(w.jsx)("p",{className:"text",children:t.message}),Object(w.jsx)("div",{className:"button-sequence",children:t.choices.filter((function(e){return e.visible})).map((function(e){return Object(w.jsx)(S.a,{className:"modal-button",onClick:e.callback,kind:e.type,disabled:e.disabled,loading:e.loading,children:e.label},e.id)}))})]})}}]),n}(c.Component));function R(){var e=Object(u.e)((function(e){return e.sessionApp.modals}));return Object(w.jsx)(w.Fragment,{children:e.map((function(e){return Object(w.jsx)(E,{data:e,visible:!0},e.id)}))})}var D=n(1015),I=n(1014),M=(n(1318),function(e){switch(e){case p.S.RoomNotFound:return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:"Invalid invite code"}),Object(w.jsx)("p",{children:"We could not find a project with this invite code"})]});case p.S.OnlyLtiAttendeesAllowed:return Object(w.jsxs)("h1",{children:["This project can only be accessed through ",Object(w.jsx)("a",{href:f.d,children:"Coursera"})]});case p.S.RoomMaxCapacityReached:return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:"Maximum project capacity reached"}),Object(w.jsx)("p",{children:"You cannot join as the project is full"})]});case p.S.AttendeeIsGuide:return Object(w.jsx)("h1",{children:"Joining room as guide is no longer supported"});case p.S.NotRecordedSession:return Object(w.jsx)("h1",{children:"Live and Collaboration sessions are no longer supported"});case p.S.RoomExpired:return Object(w.jsx)("h1",{children:"This Guided Project is no longer available"});case p.S.Unknown:default:return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h1",{children:"Initialization error"}),Object(w.jsx)("p",{children:"Error initializing the application. Please try again in a few minutes or contact us at help@rhyme.com"})]})}}),V=function(e){var t=e.error;return Object(w.jsxs)("div",{className:"room-init-error page-wrapper",children:[Object(w.jsx)(I.a,{overflow:"hidden"}),Object(w.jsx)(D.a,{}),Object(w.jsx)("div",{className:"error-message",children:M(t)})]})};var T,N,L=n(537),z=n(94),F=n(26),B=F.a.InactivityLimitInMinutes,U=60*B*1e3,H=60*F.a.InactivityInModalLimitInMinutes*1e3,W=Symbol("VmInteraction"),K=Symbol("InactivityLimitReached"),X=function(){function e(){var t=this;Object(r.a)(this,e),this._emitter=new z.EventEmitter,this._lastVMInteraction=new Date,this._lastAppInteraction=new Date,this._updateActivityInterval=null,this._lastLoggedVMInteraction=this._lastVMInteraction,this.logVmInteraction=function(){t._lastVMInteraction=new Date,t._onAppInteraction()},this._onAppInteraction=function(){return t._lastAppInteraction=new Date}}return Object(o.a)(e,[{key:"lastVmInteraction",get:function(){return this._lastVMInteraction}},{key:"hasTrackingStarted",get:function(){return!!this._updateActivityInterval}},{key:"onVmInteraction",value:function(e){var t=this;return this._emitter.addListener(W,e),function(){return t._emitter.removeListener(W,e)}}},{key:"onInactivityLimitReached",value:function(e){var t=this;return this._emitter.addListener(K,e),function(){return t._emitter.removeListener(K,e)}}},{key:"startTracking",value:function(){var e=this;this.hasTrackingStarted||(document.addEventListener("mousemove",this._onAppInteraction),document.addEventListener("keyup",this._onAppInteraction),this._updateActivityInterval=setInterval((function(){e._lastLoggedVMInteraction!==e._lastVMInteraction&&(e._emitter.emit(W,e._lastVMInteraction),e._lastLoggedVMInteraction=e._lastVMInteraction),Date.now()-e._lastAppInteraction.getTime()>U&&e._emitter.emit(K)}),5e3))}},{key:"stopTracking",value:function(){document.removeEventListener("mousemove",this._onAppInteraction),document.removeEventListener("keyup",this._onAppInteraction),clearInterval(this._updateActivityInterval),this._updateActivityInterval=null}}]),e}(),q=(n(1319),function(e){return Object(w.jsxs)("div",{className:"inactive-student-view page-wrapper",children:[Object(w.jsx)(I.a,{overflow:"hidden"}),Object(w.jsx)(D.a,{}),Object(w.jsxs)("div",{className:"message",children:[Object(w.jsx)("div",{className:"top-spacer"}),Object(w.jsxs)("p",{children:["We noticed you were inactive for more than ",B," minutes. We have put your cloud workspace on hold in order to save resources."]}),Object(w.jsx)(L.a,{onClick:e.onActiveUser,children:"Continue with the project"}),Object(w.jsx)("div",{className:"bottom-spacer"})]})]})}),Y=n(348),Q=n(268),G=n(1005),Z=n(347),J=n(1001),$=n(269),ee=n.n($),te=["title","titleId"];function ne(){return ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ne.apply(this,arguments)}function ie(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function re(e,t){var n=e.title,i=e.titleId,r=ie(e,te);return c.createElement("svg",ne({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,T||(T=c.createElement("defs",null,c.createElement("polygon",{id:"close-a",points:"40.069 6.222 24 22.291 7.931 6.222 6.222 7.931 22.291 23.999 6.222 40.069 7.931 41.778 24 25.709 40.069 41.778 41.778 40.069 25.709 23.999 41.778 7.931"}))),N||(N=c.createElement("use",{fill:"#1F1F1F",fillRule:"evenodd",xlinkHref:"#close-a"})))}var oe,ae=c.forwardRef(re),se=(n.p,n(215)),ce=n(355);n(1320);(null===(oe=document)||void 0===oe?void 0:oe.getElementById("root"))&&ee.a.setAppElement("#root");var le=function(e){var t=e.showUnderHeader,n=void 0===t||t,i=e.closeWithEsc,r=void 0===i||i,o=e.visible,a=e.title,s=e.onToggle,l=e.children,u=Object(c.useRef)(null),d="Side screen modal: ".concat(a);return Object(w.jsxs)(ee.a,{isOpen:o,contentRef:function(e){return u.current=e},shouldCloseOnOverlayClick:r,overlayClassName:A()("slide-in-modal-backdrop",n&&"under-header"),className:A()("slide-in-modal",n&&"under-header"),aria:{label:d},role:"document",onRequestClose:s,shouldCloseOnEsc:r,closeTimeoutMS:400,onAfterOpen:function(){v.b.say("".concat(d," is opened."));var e=Object(ce.b)(u.current);null===e||void 0===e||e.focus()},children:[Object(w.jsxs)("div",{className:"header",children:[Object(w.jsx)("h2",{children:a}),Object(w.jsx)(se.a,{"aria-label":"Close",className:"close",onClick:s,children:Object(w.jsx)(ae,{})})]}),l]})},ue=n(72),de=(n(1321),F.a.AttendeeConnectionExtendWindowInMinutes*ue.a.Min),pe=30*ue.a.Sec,he=60*ue.a.Sec,fe={expireStyle:!1,countdownLabel:""},be=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state=fe,e.expireStyleTimer=0,e.setCountdownLabel=function(){var t="Cloud Workspace time left: ".concat(Object(ue.f)(e.props.timeLeft));e.setState({countdownLabel:t})},e.toggleExpireStyle=function(){e.setState({expireStyle:!e.state.expireStyle})},e.clearExpireStyleInterval=function(){e.expireStyleTimer&&(clearInterval(e.expireStyleTimer),e.expireStyleTimer=0)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setCountdownLabel()}},{key:"componentWillUnmount",value:function(){this.clearExpireStyleInterval()}},{key:"componentDidUpdate",value:function(e){e.timeLeft!==this.props.timeLeft&&this.didUpdateTimeLeft()}},{key:"render",value:function(){var e=this.props.timeLeft;return e<=0||e>de?null:Object(w.jsxs)("div",{className:A()("countdown-timer tooltip rel b la",this.state.expireStyle&&"expires"),"data-tooltip":"Time remaining before session ends",children:[Object(w.jsx)("span",{className:"stopwatch-icon","aria-hidden":!0}),Object(w.jsx)("span",{className:"time-left","aria-hidden":!0,children:Object(ue.d)(this.props.timeLeft)}),Object(w.jsx)("span",{className:"a11y-visually-hidden","aria-live":"polite","aria-atomic":"true",children:this.state.countdownLabel})]})}},{key:"didUpdateTimeLeft",value:function(){var e=this.props.timeLeft;e<=he&&!this.expireStyleTimer&&(this.expireStyleTimer=setInterval(this.toggleExpireStyle,300)),e>he&&this.expireStyleTimer&&(this.clearExpireStyleInterval(),this.setState({expireStyle:!1})),e%pe===0&&this.setCountdownLabel(),0===e&&this.clearExpireStyleInterval()}}]),n}(c.PureComponent),ve=Object(u.c)((function(e){return{timeLeft:e.sessionApp.timeLeft}}))(be),me=n(149),ye=["isDisabled"];function je(e){return Object(c.forwardRef)((function(t,n){var r=t.isDisabled,o=Object(me.a)(t,ye),a=Object(c.useContext)(Y.a).isDisabled||!!r;return Object(c.createElement)(e,Object(i.a)(Object(i.a)({ref:n},o),{},{tabIndex:a?void 0:o.tabIndex,"aria-hidden":!!a||o["aria-hidden"]}))}))}var ge=je("div"),Oe=je("section"),xe=je("footer"),we=n(1018),ke=n(1038),Ce=n(1020),_e=n(31),Ae=(n(1322),Object(c.memo)((function(){var e=function(){var e=Object(u.e)(y.x).status,t=Object(c.useState)(!1),n=Object(_e.a)(t,2),i=n[0],r=n[1];Object(c.useEffect)((function(){e===p.sb.KeyboardFocused||e===p.sb.KeyboardActive?!i&&r(!0):r(!1)}),[e]);var o=Object(c.useState)(!1),a=Object(_e.a)(o,2),s=a[0],l=a[1];return{showHint:i&&!s,dismiss:function(){return l(!0)},isActive:e>=p.sb.MouseActive}}(),t=e.showHint,n=e.dismiss,i=e.isActive;return t?Object(w.jsxs)("div",{className:"focus-vm-hint",onClick:n,children:[i?Object(w.jsxs)("span",{children:["Press ",Object(w.jsx)("strong",{children:"Ctrl-Ctrl"})," to detach keyboard from the workspace"]}):Object(w.jsxs)("span",{children:["Press ",Object(w.jsx)("strong",{children:"Enter"})," to attach keyboard to the workspace"]}),Object(w.jsx)(se.a,{"aria-label":"Got it. Don't show keyboard navigation hint in this session",onClick:n,title:"Don't show it again in this session",children:"Got it"})]}):null}))),Se=(n(1323),{width:400,height:400,scaleX:1,scaleY:1}),Pe=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).context=void 0,e.state=Se,e.onConnect=function(){var t,n;e.context.update({isConnected:!0}),null===(t=(n=e.props).onConnect)||void 0===t||t.call(n)},e.onDisconnect=function(){var t,n;e.context.update({isConnected:!1}),null===(t=(n=e.props).onDisconnect)||void 0===t||t.call(n)},e.onContainerMousedown=function(t){t.target===e._leftCont&&t.preventDefault()},e.onContainerFocus=function(t){e.props.vmActiveStatus===p.sb.Inactive&&t.target===e._leftCont&&e.props.setVmActiveStatus(p.sb.KeyboardFocused)},e.onBlur=function(t){var n;e.props.vmActiveStatus!==p.sb.KeyboardFocused&&e.props.vmActiveStatus!==p.sb.MouseFocused||(null===(n=e._leftCont)||void 0===n?void 0:n.contains(t.relatedTarget))||e.props.setVmActiveStatus(p.sb.Inactive)},e.onKeyPress=function(t){"Enter"===t.key&&t.target===e._leftCont&&e.props.setVmActiveStatus(p.sb.KeyboardActive)},e.focusContainer=function(){e._leftCont&&e._leftCont.focus()},e}return Object(o.a)(n,[{key:"_screenWidth",get:function(){return this.props.vm?this.props.vm.width:F.a.DefaultScreenWidth}},{key:"_screenHeight",get:function(){return this.props.vm?this.props.vm.height:F.a.DefaultScreenHeight}},{key:"_horizontalPadding",get:function(){return 10}},{key:"_verticalPadding",get:function(){return 10}},{key:"componentDidUpdate",value:function(e){var t=this.props.vm,n=e.vm;(t&&!n||t&&n&&(t.width!==n.width||t.height!==n.height))&&this.adjustLayout();var i=this.props.vmActiveStatus;i===e.vmActiveStatus||i!==p.sb.KeyboardFocused&&i!==p.sb.MouseFocused||this.focusContainer()}},{key:"render",value:function(){return Object(w.jsxs)(ge,{className:A()("focus-vm",this.props.isVmActive&&"vm-active",this.context.isConnected&&"connected"),tabIndex:0,ref:this.onLeftContRef,onFocus:this.onContainerFocus,onBlur:this.onBlur,onKeyPress:this.onKeyPress,onMouseDown:this.onContainerMousedown,role:"application",children:[Object(w.jsx)(Ae,{}),Object(w.jsx)(we.a,{originalWidth:this.props.vm.width,originalHeight:this.props.vm.height,scaledWidth:this.state.width-4,children:Object(w.jsx)(ke.a,{active:this.props.isVmActive,onKeyDown:this.props.onEvent,onKeyUp:this.props.onEvent,onMouseEvent:this.props.onEvent,vm:this.props.vm,template:this.props.focusVmTemplate,isViewExpanded:this.props.rightPanelExpandedForStudents,showViewbox:this.props.showViewbox,viewboxSize:this.props.viewboxSize,width:this.props.vm.width,height:this.props.vm.height,scaleRatio:{scaleX:this.state.scaleX,scaleY:this.state.scaleY},onConnect:this.onConnect,onDisconnect:this.onDisconnect,dispatch:this.props.dispatch,vmAccessLimitReached:this.props.vmAccessLimitReached})})]})}}]),n}(Ce.a);Pe.contextType=k;var Ee,Re=Object(u.c)((function(e){var t;return{vm:Object(y.m)(e)||Object(p.rb)(),focusVmTemplate:Object(y.n)(e),vmAccessLimitReached:null===(t=Object(y.e)(e))||void 0===t?void 0:t.vmAccessLimitReached,rightPanelExpandedForStudents:e.rightPanelExpandedForStudents,vmActiveStatus:e.vmActiveState.status,isVmActive:Object(y.p)(e)}}),(function(e){return{setVmActiveStatus:function(t){return e(new d.Fb(t))},dispatch:e}}))(Pe),De=n(1086),Ie=n(1040),Me=n(1370),Ve=n(1371),Te=function(e,t){var n=Object(u.d)();return Object(c.useCallback)((function(){n(new d.w(e,t))}),[e,n])},Ne=Object(c.memo)((function(e){var t=e.panel,n=e.panelAriaName,i=Te(p.C.None),r=Te(t,n),o=n||(t===p.C.Left?"left":"right"),a=Object(u.e)((function(e){return e.expandedPanel.mode})),s=Object(u.e)(y.A);return Object(w.jsx)("div",{className:"panel-mode-toggle",children:a===t?Object(w.jsxs)(Ie.a,{children:[Object(w.jsx)(Ie.b,{size:"small",theme:"dark",children:"Collapse ".concat(o," window")}),Object(w.jsx)(se.a,{className:"split-screen",disabled:s,onClick:i,children:Object(w.jsx)(Me.a,{size:"small"})})]}):Object(w.jsxs)(Ie.a,{children:[Object(w.jsx)(Ie.b,{size:"small",theme:"dark",children:"Expand ".concat(o," window")}),Object(w.jsx)(se.a,{className:"full-screen",disabled:s,onClick:r,children:Object(w.jsx)(Ve.a,{size:"small"})})]})})})),Le=n(1089),ze=(n(1324),Object(c.memo)((function(e){var t=e.isBroadcastingCamera,n=Object(u.e)(y.m);return Object(w.jsxs)("div",{className:"focus-vm-header",children:[Object(w.jsx)("h2",{className:"title",children:"My Cloud Workspace"}),Object(w.jsx)("p",{className:"a11y-visually-hidden",children:"The cloud workspace cannot be accessed or announced by assistive technologies and screen readers. You can disable the cloud workspace from the settings panel by enabling the accessible mode."}),n&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Le.a,{vm:n,className:"connection-quality"}),Object(w.jsxs)("div",{className:"controls",children:[Object(w.jsx)(De.a,{disabled:t,vm:n}),Object(w.jsx)(Ne,{panelAriaName:"Cloud workspace",panel:p.C.Left})]})]})]})}))),Fe=(n(1325),function(e){return Object(w.jsxs)(se.a,{className:A()("header-button",e.selected&&"selected"),disabled:e.disabled,onClick:e.onClick,tooltip:e.tooltip,children:[Object(w.jsx)("img",{alt:"",src:e.iconSrc}),Object(w.jsx)("span",{children:e.text})]})}),Be=n.p+"static/media/setting.1fbe6883.svg",Ue=function(e){return Object(w.jsx)(Fe,{text:"Settings",selected:e.selected,iconSrc:Be,onClick:e.onToggleSettings})},He=n.p+"static/media/leave-session.a71c3c4e.svg",We=function(e){return Object(w.jsx)(Fe,{text:"Leave Session",iconSrc:He,onClick:e.onLeave})},Ke=(n(1326),function(){var e=Object(u.e)(y.t);if(e.type!==p.x.Recorded)return null;var t=e.chapters.count(),n=e.chapters.filter((function(e){return e.state===p.e.Completed||e.state===p.e.Approved})).count(),i=Math.round(n/t*100),r={width:"".concat(i,"%")},o="".concat(i,"% of tasks completed");return Object(w.jsxs)("div",{className:"project-progress-container",title:"Progress: ".concat(o),children:["Progress ",Object(w.jsx)("span",{className:"a11y-visually-hidden",children:o}),Object(w.jsx)("div",{className:"progress",children:Object(w.jsx)("span",{className:"completed",style:r})})]})}),Xe=n.p+"static/media/help.ec7f345b.svg",qe=function(e){return Object(w.jsx)(Fe,{text:"Help",selected:e.selected,iconSrc:Xe,onClick:e.onToggleHelp})},Ye=n(32),Qe=n(240),Ge=n(56),Ze=n(1009),Je=["title","titleId"];function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$e.apply(this,arguments)}function et(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tt(e,t){var n=e.title,i=e.titleId,r=et(e,Je);return c.createElement("svg",$e({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,Ee||(Ee=c.createElement("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})))}var nt,it=c.forwardRef(tt),rt=(n.p,["title","titleId"]);function ot(){return ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ot.apply(this,arguments)}function at(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function st(e,t){var n=e.title,i=e.titleId,r=at(e,rt);return c.createElement("svg",ot({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,nt||(nt=c.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})))}var ct,lt,ut=c.forwardRef(st),dt=(n.p,n(1327),function(e){var t=e.value,n=e.checked,i=e.name,r=e.className,o=e.onChange,a=e.children;return Object(w.jsxs)("label",{className:A()("radio-button",r),children:[Object(w.jsxs)("span",{className:"radio-button__input",children:[Object(w.jsx)("input",{type:"radio",value:t,name:i,checked:n,onChange:o}),Object(w.jsx)("span",{className:"radio-button__container",children:n?Object(w.jsx)(it,{"aria-hidden":"true",focusable:"false"}):Object(w.jsx)(ut,{"aria-hidden":"true",focusable:"false"})})]}),Object(w.jsx)("span",{className:"radio-button__label",children:a})]})}),pt=["title","titleId"];function ht(){return ht=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ht.apply(this,arguments)}function ft(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bt(e,t){var n=e.title,i=e.titleId,r=ft(e,pt);return c.createElement("svg",ht({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,ct||(ct=c.createElement("defs",null,c.createElement("polygon",{id:"check2-a",points:"19.803 31.303 7.545 19.608 4 23.522 19.803 39.429 44 12.119 40.063 8"}))),lt||(lt=c.createElement("use",{fill:"#1F1F1F",fillRule:"evenodd",xlinkHref:"#check2-a"})))}var vt,mt,yt,jt=c.forwardRef(bt),gt=(n.p,n.p+"static/media/flag.94a7aea1.svg"),Ot=(n(1328),Object(Ye.c)("SendFeedbackButton",!0).log),xt=["Instructional video","Cloud Workspace"],wt={category:"",placeholderText:""},kt=[{category:"Closed caption issues",placeholderText:"Example: Closed captions are inaccurate or missing"},{category:"Outdated video content",placeholderText:"Example: Features the instructor mentions aren\u2019t available in my Cloud Workspace"},{category:"Video streaming",placeholderText:"Example: Video takes a long time to load or is choppy"},{category:"Poor audio quality",placeholderText:"Example: The volume is too low"},{category:"Other",placeholderText:"Describe the issue you\u2019re experiencing"}],Ct=[{category:"Cloud Workspace isn\u2019t set up as demonstrated in the video",placeholderText:"Example: Application is missing or is a different version than what\u2019s shown in the video"},{category:"Software is unusable",placeholderText:"Example: Unable to get access to the software because I don\u2019t have an account"},{category:"Instructor files are missing or inaccessible",placeholderText:"Example: Unable to open a specific file"},{category:"Cloud Workspace isn\u2019t connecting",placeholderText:"Example: Cloud Workspace isn\u2019t loading"},{category:"Cloud Workspace isn\u2019t responding or is lagging",placeholderText:"Example: Cloud Workspace doesn\u2019t respond or takes a long time to respond when I perform an action"},{category:"Keyboard issues",placeholderText:"Example: I cannot type a special character within the workspace"},{category:"Other",placeholderText:"Describe the issue you\u2019re experiencing"}],_t=Object(c.memo)((function(){var e=Object(c.useState)(!1),t=Object(_e.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)(""),o=Object(_e.a)(r,2),a=o[0],s=o[1],l=Object(c.useState)(wt),d=Object(_e.a)(l,2),h=d[0],f=d[1],b=Object(c.useState)(""),v=Object(_e.a)(b,2),m=v[0],j=v[1],g=Object(c.useState)(!1),O=Object(_e.a)(g,2),x=O[0],k=O[1],C=Object(c.useRef)(!0),_=Object(u.d)(),A=(Object(u.e)(y.s)||new Qe.d({})).id,S=(Object(u.e)(y.m)||new p.rb({})).id,E=Object(u.e)(y.g)||new p.m({}),R=E.time,D=E.chapterId,I={category:h.category,chapterId:D,courseId:A,description:m,videoTimestamp:Math.trunc(1e3*R),vmId:S};Object(c.useEffect)((function(){n||(s(""),k(!1)),C.current||Ot((n?"Opening":"Closing")+" feedback modal")}),[n]),Object(c.useEffect)((function(){f(wt),j("")}),[a]),Object(c.useEffect)((function(){x&&Ot("Submitting user feedback: ",I)}),[x]),Object(c.useEffect)((function(){C.current&&(C.current=!1)}),[]);var M=xt.map((function(e){return Object(w.jsx)(dt,{value:e,name:"group",className:"feedback__option",checked:a===e,onChange:function(e){return s(e.target.value)},children:e},e)})),V=kt.map((function(e){return Object(w.jsx)(dt,{value:e.category,name:"issue",className:"feedback__option",checked:h.category===e.category,onChange:function(){return f(e)},children:e.category},e.category)})),T=Ct.map((function(e){return Object(w.jsx)(dt,{value:e.category,name:"issue",className:"feedback__option",checked:h.category===e.category,onChange:function(){return f(e)},children:e.category},e.category)}));return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)(P.a,{title:x?void 0:"Report an issue",visible:n,size:"tiny",className:"feedback",onToggle:i,hideClose:x,"data-e2e":"feedback-modal",children:[!x&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("p",{children:["Submit an issue you\u2019re experiencing with the Instructional Video or Cloud Workspace. If you need to get in touch, visit the"," ",Object(w.jsx)("a",{href:"https://learner.coursera.help/hc/en-us/articles/360044549452",target:"_blank",rel:"noopener noreferrer",children:"Learner Help Centre"})," ","for more information."]}),Object(w.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[Object(w.jsxs)("fieldset",{className:"feedback__section",children:[Object(w.jsx)("legend",{className:"feedback__section-title",children:"What aspect of the guided project are you experiencing issues with?"}),M]}),""!==a&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsxs)("fieldset",{className:"feedback__section feedback__section--lonely",children:[Object(w.jsx)("legend",{className:"feedback__section-title",children:"Select an issue you'd like to report:"}),a===xt[0]&&V,a===xt[1]&&T]}),Object(w.jsxs)("div",{className:"feedback__section",children:[Object(w.jsx)("label",{className:"feedback__section-title",children:"Describe the issue (optional)"}),Object(w.jsx)("textarea",{placeholder:h.placeholderText,value:m,onChange:function(e){return j(e.target.value)},className:"feedback__description"})]})]}),Object(w.jsxs)("div",{className:"button-sequence",children:[Object(w.jsx)(Ze.a,{className:"modal-button",kind:"secondary",onClick:function(){return i(!1)},children:"Cancel"}),Object(w.jsx)(Ze.a,{className:"modal-button",kind:"primary",disabled:h.category===wt.category,onClick:function(){_(Ge.a.sendCourseFeedback(new p.v(I))),k(!0)},children:"Submit"})]})]})]}),x&&Object(w.jsxs)("div",{className:"feedback__success",children:[Object(w.jsx)(jt,{className:"feedback__check-icon"}),Object(w.jsx)("p",{children:"Your report has been submitted successfully"}),Object(w.jsx)(Ze.a,{htmlAttributes:{ref:function(e){return null===e||void 0===e?void 0:e.focus()}},kind:"primary",onClick:function(){return i(!1)},children:"Close"})]})]}),Object(w.jsx)(Fe,{text:"Report an issue",selected:n,iconSrc:gt,onClick:function(){return i(!0)}})]})})),At=(n(1329),function(e){return Object(w.jsxs)("div",{className:"session-view",children:[e.header,Object(w.jsx)("main",{"aria-label":"Main panels",children:e.content}),e.footer]})}),St=n(1041),Pt=(n(1330),["className"]),Et=function(e){var t=e.className,n=Object(me.a)(e,Pt),r=Object(c.useCallback)((function(e){e.preventDefault();var t=Object(ce.b)(document.querySelector("main"));null===t||void 0===t||t.focus()}),[]);return Object(w.jsx)("a",Object(i.a)(Object(i.a)({},n),{},{tabIndex:0,className:A()("skip-link","a11y-visually-hidden",t),href:"#",onClick:r,children:"Skip to main content"}))},Rt=(n(1331),function(e){var t=Object(u.e)(y.q);return Object(w.jsxs)("section",{className:"session-header","aria-label":"Coursera header",children:[Object(w.jsx)("h1",{className:"a11y-visually-hidden",children:t}),Object(w.jsx)(Et,{}),Object(w.jsx)(St.a,{className:"logo"}),e.children]})}),Dt=n(995),It=(n(1332),n(179)),Mt=n(1042),Vt=["title","titleId"];function Tt(){return Tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Tt.apply(this,arguments)}function Nt(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Lt(e,t){var n=e.title,i=e.titleId,r=Nt(e,Vt);return c.createElement("svg",Tt({fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 4 24",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,vt||(vt=c.createElement("circle",{cx:2,cy:2,r:2,fill:"currentColor"})),mt||(mt=c.createElement("circle",{cx:2,cy:12,r:2,fill:"currentColor"})),yt||(yt=c.createElement("circle",{cx:2,cy:22,r:2,fill:"currentColor"})))}var zt=c.forwardRef(Lt),Ft=(n.p,"hidden"),Bt=function(e){var t=e.ariaLabel?"section":"div";return Object(w.jsxs)(t,{"data-onboarding-step":e["data-onboarding-step"],className:A()("splitter-panel",e.className),"aria-label":e.ariaLabel,children:[Object(w.jsx)("header",{children:e.header}),Object(w.jsx)("section",{children:e.content})]})},Ut=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state={isDragging:!1},e.splitter=void 0,e.panelsResizeObserver=void 0,e.onDragStart=function(){e.setState({isDragging:!0},(function(){e.props.expandedPanelMode!==p.C.None&&e.props.changeExpandedPanel(p.C.None)}))},e.onDragEnd=function(){e.setState({isDragging:!1},(function(){if(e.splitter){var t=e.splitter,n=t.rightPanel,i=t.splitter,r=t.wrapper;n.clientWidth+i.clientWidth>=r.clientWidth?e.props.changeExpandedPanel(p.C.Right):0===n.clientWidth&&e.props.changeExpandedPanel(p.C.Left)}}))},e.onSplitterLayoutRef=function(t){if(t){var n=Object(It.findDOMNode)(t);if(n instanceof Element){var i=n.querySelector(".layout-splitter"),r=n.querySelector(".layout-pane:not(.layout-pane-primary)"),o=n.querySelector(".layout-pane.layout-pane-primary");e.splitter=n&&i&&r&&o?{wrapper:n,splitter:i,rightPanel:r,leftPanel:o}:null,e.observePanelsResize()}}else e.panelsResizeObserver&&e.panelsResizeObserver.disconnect(),e.splitter=null},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.leftPanel||this.expandRightPanel()}},{key:"componentDidUpdate",value:function(e){!this.props.leftPanel&&e.leftPanel&&this.expandRightPanel()}},{key:"componentWillUnmount",value:function(){this.panelsResizeObserver.disconnect()}},{key:"render",value:function(){return Object(w.jsx)("div",{className:A()("splitter",this.props.className,{"disable-animation":this.state.isDragging||!this.props.leftPanel,disabled:this.props.isMovingSplitterDisabled}),children:Object(w.jsxs)(Mt.a,{ref:this.onSplitterLayoutRef,percentage:!0,secondaryInitialSize:this.props.leftPanel?40:100,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,collapsed:this.props.expandedPanelMode,handle:Object(w.jsx)(zt,{width:4,height:24,"aria-hidden":"true",className:"splitter-icon"}),children:[Object(w.jsxs)("section",{className:"left-panel",children:[this.state.isDragging?Object(w.jsx)("div",{className:"dragging-overlay"}):null,this.props.leftPanel]}),Object(w.jsx)("section",{className:"right-panel",children:this.props.rightPanel})]})})}},{key:"expandRightPanel",value:function(){this.props.changeExpandedPanel(p.C.Right)}},{key:"observePanelsResize",value:function(){this.splitter&&(this.panelsResizeObserver=new Dt.a(this.onPanelResize),this.panelsResizeObserver.observe(this.splitter.leftPanel),this.panelsResizeObserver.observe(this.splitter.rightPanel))}},{key:"onPanelResize",value:function(e){e.forEach((function(e){if(e.target.firstElementChild){var t=Math.floor(e.contentRect.width),n=e.target.firstElementChild.classList;0!==t||n.contains(Ft)?t>0&&n.contains(Ft)&&n.remove(Ft):n.add(Ft)}}))}}]),n}(c.PureComponent),Ht=Object(u.c)((function(e){return{expandedPanelMode:e.expandedPanel.mode,isMovingSplitterDisabled:Object(y.A)(e)}}),(function(e){return{changeExpandedPanel:function(t){return e(new d.w(t))}}}))(Ut),Wt={none:{display:"none"},block:{display:"block"}},Kt=function(e){var t=e.visible,n=e.id,r=e.children;return Object(w.jsx)("div",Object(i.a)(Object(i.a)({},Object(m.d)(n)),{},{tabIndex:-1,style:t?Wt.block:Wt.none,children:c.Children.map(r,(function(e){return Object(c.cloneElement)(e,{tabVisible:t})}))}))},Xt=(n(1333),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.visibleViewId,i=new Set(t.map((function(e){return e.props.id})));if(t.length!==i.size)throw new Error("Views component: The views should have unique tab IDs. IDs: ".concat(i));return Object(w.jsx)("section",{className:"rhyme-views",children:t.map((function(e){return Object(c.cloneElement)(e,{visible:n===e.props.id})}))})}}]),n}(c.PureComponent)),qt=n(5),Yt=n(150);var Qt=function(e){return function(t){var n=t.reduce((function(e,t){var n=t.target,r=n.dataset.id,o=void 0===r?"":r;if(!o)throw Error("useElementsRectRelativeToParent: measured element ".concat(n," should have a 'data-id' attribute."));var a=n.getBoundingClientRect(),s=n.parentElement?n.parentElement.getBoundingClientRect():null;return Object(i.a)(Object(i.a)({},e),{},Object(qt.a)({},o,{left:a.left-(s?s.left:0),right:a.right-(s?s.left:0),top:a.top-(s?s.top:0),bottom:a.bottom-(s?s.top:0),width:a.width,height:a.height}))}),{});e(n)}},Gt=n(1098);n(1334);function Zt(e){var t=e.tabConfig,n=e.onTabClick,r=e.className,o=e.selectedId,a=e.tabIds,s=e.badgeTabIds,l=function(e){var t=Object(Gt.a)(e)||e,n=Object(c.useState)(Jt),i=Object(_e.a)(n,2),r=i[0],o=i[1],a=function(){var e=Object(c.useRef)(),t=Object(c.useState)({}),n=Object(_e.a)(t,2),i=n[0],r=n[1];return Object(c.useEffect)((function(){return function(){e.current&&e.current.disconnect()}}),[]),[i,Object(c.useCallback)((function(t){e.current||(e.current=new Dt.a(Qt(r))),t instanceof Element&&e.current.observe(t)}),[])]}(),s=Object(_e.a)(a,2),l=s[0],u=s[1];return Object(c.useEffect)((function(){var n=l[e];o(n?{left:n.left,width:n.width,animated:t!==e}:Jt)}),[l,e]),[r,u]}(o),u=Object(_e.a)(l,2),d=u[0],p=u[1],h=Object(c.useCallback)((function(e){if(["ArrowLeft","ArrowRight"].includes(e.key)){var t=a.findIndex((function(e){return o===e})),i="ArrowLeft"===e.key,r=Object(Yt.a)(0,a.length-1,t+(i?-1:1));n(a[r])}}),[o,a,n]);return Object(c.useEffect)((function(){if(o){var e=document.getElementById(Object(m.e)(o));null===e||void 0===e||e.focus()}}),[o]),Object(w.jsxs)("div",{onKeyUp:h,role:"tablist",className:A()("room-tab-bar",r),children:[a.map((function(e){return Object(w.jsxs)("button",Object(i.a)(Object(i.a)({"data-id":e},Object(m.c)(e,o)),{},{ref:p,onClick:function(){return n(e)},"data-onboarding-step":t[e]["data-onboarding-step"],tabIndex:o===e?0:-1,className:A()("button-".concat(e),o===e&&"selected",(null===s||void 0===s?void 0:s.includes(e))&&"badge"),children:[Object(w.jsx)("img",{alt:"",src:t[e].icon}),Object(w.jsx)("span",{children:t[e].title})]}),e)})),Object(w.jsx)("div",{className:"selected-tab-underline",style:{left:d.left,width:d.width,transitionDuration:$t(d.animated)}})]})}var Jt={left:0,width:0,animated:!1},$t=function(e){return e?"0.3s":"0s"};var en=n(1024),tn=(n(1335),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).context=void 0,e._onChange=function(t){e.context.update({zoomLevel:t})},e}return Object(o.a)(n,[{key:"render",value:function(){var e="Video zoom control",t="Video size:";return Object(w.jsxs)("div",{className:"zoom-controls",children:[Object(w.jsx)("span",{className:"a11y-visually-hidden","aria-atomic":"true","aria-live":this.context.zoomLevel===G.a.Fit?"polite":"off",children:"".concat(e,". ").concat(t," ").concat(G.a.Fit)}),"Zoom:",Object(w.jsx)(en.b,{value:this.context.zoomLevel,onChange:this._onChange,ariaLabel:e,children:Object.keys(G.a).map((function(e){var n=G.a[e];return Object(w.jsx)(en.a,{value:n,ariaLabel:"".concat(t," ").concat(n,"."),children:n},e)}))})]})}}]),n}(c.PureComponent));tn.contextType=G.b;n(1336);var nn,rn,on,an,sn,cn,ln,un,dn,pn,hn,fn,bn,vn=n(1023),mn=n(152),yn=n(1030),jn="instructor panel",gn="student panel",On="files",xn={width:"20rem",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.13)"},wn=[{headerImage:Object(w.jsx)("img",{src:yn.a,style:{width:"14.875rem"},alt:""}),title:"Welcome to your cloud workspace",content:Object(w.jsx)("p",{children:"Here are a few quick tips on how to get the most of out of your hands-on learning experience."})},{anchor:'[data-onboarding-step="'.concat(jn,'"]'),headerImage:Object(w.jsx)("img",{src:"data:image/png;base64,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",style:xn,alt:""}),title:"Guided instruction",content:Object(w.jsx)("p",{children:"A pre-recorded video of your instructor will guide you step-by-step through each task. You can resize the video by changing the zoom."})},{anchor:'[data-onboarding-step="'.concat(gn,'"]'),headerImage:Object(w.jsx)("img",{src:"data:image/png;base64,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",style:xn,alt:""}),title:"Your cloud workspace",content:Object(w.jsx)("p",{children:"This is your hands-on area, it will have all the tools you\u2019ll need. Here, you can easily practice each task as you follow along with your instructor."})},{anchor:'[data-onboarding-step="'.concat(On,'"]'),headerImage:Object(w.jsx)("img",{src:"data:image/png;base64,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",style:xn,alt:""}),title:"Download your project files",content:Object(w.jsxs)("p",{children:["You can download all your files from the cloud workspace by accessing the ",Object(w.jsx)("strong",{children:"Files"})," tab."]})}],kn=Object(c.memo)((function(){var e=Object(u.e)(y.v),t=Object(u.e)((function(e){return e.onboardingSettings})),n=Object(u.d)(),i=Object(u.e)(y.y),r=i?mn.d:mn.e,o=t[mn.d]&&!t[mn.e],a=wn;i?a=a.slice(0,a.length-1):o&&(a=a.slice(a.length-1));var s=Object(c.useCallback)((function(){i||n(new d.nb(Object(qt.a)({},mn.d,!0)))}),[n,i]);return e.a11yDisableVM?null:Object(w.jsx)(vn.a,{steps:a,storeKey:r,onComplete:s})})),Cn=n.p+"static/media/rectangle-play.8b6bff6c.svg",_n=n.p+"static/media/stackedfile.c92b3868.svg",An=(nn={},Object(qt.a)(nn,p.Z.Host,{icon:Cn,title:"Instructions"}),Object(qt.a)(nn,p.Z.FilesSettings,{icon:_n,title:"Files","data-onboarding-step":On}),nn),Sn=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onTabClick,n=e.selectedTabId,i=e.visibleTabIds,r=An[n].title;return Object(w.jsxs)("div",{className:"student-right-panel-header",children:[Object(w.jsx)(Zt,{className:"tab-bar",tabConfig:An,onTabClick:t,selectedId:n,tabIds:i}),this.props.selectedTabId===p.Z.Host?Object(w.jsx)(tn,{}):null,!this.props.a11yDisableVM&&Object(w.jsx)(Ne,{panelAriaName:r,panel:p.C.Right})]})}}]),n}(c.PureComponent),Pn=Object(u.c)((function(e){return{a11yDisableVM:Object(y.v)(e).a11yDisableVM}}))(Sn),En=(n(1337),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._timeout=void 0,e.stay=function(){e._clearTimeout(),e.props.onToggle(!1)},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.visible&&!e.visible&&(this._timeout=setTimeout(this.props.onConfirmInactivity,H),Object(b.a)()&&"hidden"===document.visibilityState&&Object(b.b)("Are you still here?","Your cloud workspace will be put on hold"))}},{key:"render",value:function(){return Object(w.jsxs)(P.a,{title:"Are you still here?",visible:this.props.visible,onToggle:this.props.onToggle,size:"tiny",id:"inactivity-modal",closeWithEsc:!1,hideClose:!0,children:[Object(w.jsxs)("p",{children:["We noticed you were inactive for the last ",B," minutes.",Object(w.jsx)("br",{}),"We are going to put your cloud workspace on hold in order to save resources.",Object(w.jsx)("br",{}),"You will be able to continue the project when you are back."]}),Object(w.jsx)("div",{className:"button-sequence",children:Object(w.jsx)(L.a,{onClick:this.stay,children:"Wait, I am still here"})})]})}},{key:"_clearTimeout",value:function(){clearTimeout(this._timeout)}}]),n}(c.PureComponent)),Rn=n.p+"static/media/Certificate-2x.f3b97863.jpg",Dn=n.p+"static/media/Certificate.83ce3a57.jpg",In=["title","titleId"];function Mn(){return Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mn.apply(this,arguments)}function Vn(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tn(e,t){var n=e.title,i=e.titleId,r=Vn(e,In);return c.createElement("svg",Mn({width:138,height:98,viewBox:"0 0 138 98",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,rn||(rn=c.createElement("path",{d:"M93.4 52.4V27.6H56.6v24.8",fill:"#F2D049"})),on||(on=c.createElement("path",{d:"M93.4 52.4V27.6H56.6v24.8",stroke:"#fff",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),an||(an=c.createElement("path",{d:"M56.6 52c0 8.834 8.24 16 18.4 16 10.16 0 18.4-7.166 18.4-16",fill:"#F2D049"})),sn||(sn=c.createElement("path",{d:"M56.6 52c0 8.834 8.24 16 18.4 16 10.16 0 18.4-7.166 18.4-16M93.667 44.667c6.626 0 12-7.027 12-13.334h-12M56.333 44.667c-6.626 0-12-7.027-12-13.334h12M63.893 83.333l-2.226 5.334M88.333 88.667H61.667M64.333 83.373c4.414 0 8-4.746 8-8.946v-5.72M86.107 83.333l2.227 5.334M85.667 83.373c-4.414 0-8-4.746-8-8.946v-5.72",stroke:"#fff",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),cn||(cn=c.createElement("path",{d:"M75 36.667l2.467 5.266 5.533.854-4 4.093.947 5.787L75 49.933l-4.947 2.734L71 46.88l-4-4.093 5.533-.854L75 36.667z",stroke:"#fff",strokeWidth:2,strokeMiterlimit:10,strokeLinecap:"round",strokeLinejoin:"round"})),ln||(ln=c.createElement("rect",{x:107,width:9,height:7.935,rx:1,fill:"#D78AE1"})),un||(un=c.createElement("rect",{x:30,y:57.529,width:8,height:7.935,rx:1,fill:"#8875ED"})),dn||(dn=c.createElement("path",{d:"M125.749 78.458a1 1 0 011.689.37l3.373 10.577a1.003 1.003 0 01-1.17 1.282l-10.923-2.39a.997.997 0 01-.518-1.652l7.549-8.187z",fill:"#A4CA67"})),pn||(pn=c.createElement("path",{d:"M26.707 82.864v9.631a.503.503 0 01-.753.434l-8.41-4.816a.497.497 0 01.003-.863l8.41-4.816a.5.5 0 01.75.43z",stroke:"#F2D049"})),hn||(hn=c.createElement("ellipse",{cx:5.5,cy:43.147,rx:5.5,ry:5.455,fill:"#60CAF7"})),fn||(fn=c.createElement("path",{d:"M137.5 43.147c0 2.732-2.235 4.955-5 4.955s-5-2.223-5-4.955c0-2.733 2.235-4.956 5-4.956s5 2.223 5 4.956z",stroke:"#60CAF7"})),bn||(bn=c.createElement("ellipse",{cx:43,cy:4.959,rx:5,ry:4.959,fill:"#F7A360"})))}var Nn=c.forwardRef(Tn),Ln=(n.p,n(1338),{hideImage:!1}),zn=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).state=Ln,e.overlayRef=void 0,e.resizeObserver=new Dt.a((function(t){e.setState({hideImage:t[0].contentRect.height<=525})})),e.renderCertificateContents=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h3",{className:"title",children:"You've almost earned your certificate"}),Object(w.jsx)("img",{alt:"Example of certificate",hidden:e.state.hideImage,className:"certificate",srcSet:"".concat(Dn,", ").concat(Rn," 2x"),src:Dn}),Object(w.jsxs)("p",{className:"message",children:["Take a short quiz on your project home so you can receive",Object(w.jsx)("br",{}),"your certificate of completion."]})]})},e.renderNoCertificateContents=function(){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(Nn,{className:"congrats"}),Object(w.jsx)("h3",{className:"title",children:"Great Job!"}),Object(w.jsxs)("p",{className:"message",children:["You\u2019ve completed this Guided Project!",Object(w.jsx)("br",{})," Continue learning from your course home"]})]})},e.renderButtons=function(){return Object(w.jsxs)("div",{className:"buttons",children:[Object(w.jsx)(S.a,{onClick:e.props.leave,kind:"primary",className:"session-completed-overlay-leave-button",children:e.props.course.skipCertificateScreen?"Go to course home":"Go to project home"},"leave-button"),Object(w.jsx)(S.a,{kind:"secondary",onClick:e.props.stay,children:"Stay"},"stay-button")]})},e.handleOverlayRef=function(t){e.overlayRef=t},e.handleContentRef=function(t){t?e.resizeObserver.observe(t):e.resizeObserver.disconnect()},e}return Object(o.a)(n,[{key:"componentWillUnmount",value:function(){this.resizeObserver.disconnect()}},{key:"render",value:function(){var e,t=this;return Object(w.jsx)("div",{ref:this.handleOverlayRef,className:"session-completed-overlay",children:Object(w.jsxs)(ee.a,Object(i.a)(Object(i.a)({isOpen:this.props.visible,shouldCloseOnOverlayClick:!1,className:"content",contentRef:this.handleContentRef,overlayClassName:A()("session-completed-overlay-backdrop"),aria:{label:this.title},onAfterOpen:function(){var e=Object(ce.b)(t.overlayRef);null===e||void 0===e||e.focus()}},this.overlayRef&&{parentSelector:function(){return t.overlayRef},appElement:null===(e=this.overlayRef)||void 0===e?void 0:e.nextSibling}),{},{children:[this.props.course.skipCertificateScreen?this.renderNoCertificateContents():this.renderCertificateContents(),this.renderButtons()]}))})}}]),n}(c.PureComponent),Fn=n(13),Bn=n(990),Un=n(519),Hn=n.n(Un),Wn=n(466),Kn=n.n(Wn),Xn=new(n(1339).Converter)({strikethrough:!0,tables:!0,simplifiedAutoLink:!0}),qn=Hn()((function(e){return Kn()(Xn.makeHtml(e))})),Yn=n(358),Qn=n(133),Gn=(n(1340),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).onValueChange=function(t){var n=e.chapters.find((function(e){return e.id===t}));Object(Qn.e)(n)&&e.props.setCurrentChapter(n)},e.renderDetails=function(e){return e.type===p.n.Instruction?Object(ue.e)(e.duration):Object(Qn.a)(e.type)},e}return Object(o.a)(n,[{key:"chapters",get:function(){return this.props.course.chapters}},{key:"render",value:function(){var e=this;return Object(w.jsx)(en.b,{id:"chapters-selector",value:this.props.currentChapter.id,onChange:this.onValueChange,selectedElement:this.renderSelectedItem(),ariaLabel:"Project overview",children:this.chapters.toJS().map((function(t){var n=Object(Qn.e)(t),i=Object(Qn.d)(t,e.chapters),r=!n||i;return Object(w.jsx)(en.a,{className:e.getChapterItemClassName(t),disabled:r,value:t.id,ariaLabel:e.getAriaLabel(t),tooltip:i?"Complete the preceding challenge first":void 0,children:e.renderItemContents(t,!1)},t.id)}))})}},{key:"renderItemContents",value:function(e,t){var n=Object(Qn.f)(e);return Object(w.jsxs)(w.Fragment,{children:[n&&Object(w.jsx)("span",{className:"badge",children:"Extra Practice"}),Object(w.jsx)("span",{className:"chapter-title","data-name":e.name,children:e.name}),!n&&Object(w.jsxs)("span",{className:"chapter-details",children:["(",this.renderDetails(e),")"]}),Object(w.jsx)("span",{className:"flex-separator"}),t?Object(w.jsx)("span",{className:"arrow"}):this.renderStatus(e)]})}},{key:"getAriaLabel",value:function(e){return"".concat(e.name,". ").concat(this.renderDetails(e),". ").concat(this.renderStatusLabel(e))}},{key:"getChapterItemClassName",value:function(e){return A()("chapter-item",this.props.currentChapter.id===e.id&&"selected")}},{key:"renderSelectedItem",value:function(){return Object(w.jsxs)("div",{className:A()(this.getChapterItemClassName(this.props.currentChapter),"selected-chapter-item"),"aria-label":this.getAriaLabel(this.props.currentChapter),children:[Object(w.jsx)("span",{className:"chapter-label",children:"Project overview:"}),this.renderItemContents(this.props.currentChapter,!0)]})}},{key:"renderStatus",value:function(e){switch(e.state){case p.e.Completed:case p.e.Approved:return Object(w.jsx)(Yn.a,{className:"completed"});default:return null}}},{key:"renderStatusLabel",value:function(e){switch(e.state){case p.e.Completed:case p.e.Approved:return"Completed";default:return""}}}]),n}(c.Component)),Zn=Object(u.c)((function(e){return{course:Object(y.t)(e),currentChapter:Object(y.f)(e)}}),(function(e){return{setCurrentChapter:function(t){return e(new d.jb(t))},showNotification:function(t){return e(new d.j(t))}}}))(Gn),Jn=(n(1341),Object(c.memo)((function(e){var t=Object(Qn.a)(e.chapter.type),n=["".concat(t," Instructions"),"Video Instructions"],i=e.isDescriptionVisible?n:n.reverse(),r=Object(_e.a)(i,2),o=r[0],a=r[1];return Object(w.jsxs)("div",{className:"challenge-controls",children:[Object(w.jsx)("h2",{role:"region","aria-live":"polite",children:Object(w.jsx)("span",{children:o},o)}),e.chapter.description&&Object(w.jsxs)(S.a,{sizeClass:"small",kind:"secondary",onClick:e.onToggleView,children:["See ",a]})]})}))),$n=n(1031),ei=(n(1342),{isSubmitting:!1}),ti=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).context=void 0,e.state=ei,e.submitChallenge=function(){e.setState({isSubmitting:!0}),e.props.onChallengeSubmission().finally((function(){return e.setState({isSubmitting:!1})}))},e.renderApproved=function(){return Object(w.jsxs)("div",{className:"challenge-actions",children:[e.props.chapter.type!==p.n.Practice&&Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)($n.a,{"aria-hidden":"true",className:"trophy-icon"}),"Great Job!"]}),Object(w.jsx)("div",{className:"flex-separator"}),Object(w.jsx)(Yn.a,{"aria-hidden":"true",className:"approved-icon"}),Object(w.jsx)("span",{"aria-label":e.getAriaLabel(),className:"approved",children:"DONE"})]})},e.renderNotCompleted=function(){var t=e.props.chapter.type,n=t===p.n.Practice?"I\u2019m ready to move on":"Mark as completed";return Object(w.jsxs)("div",{className:"challenge-actions",children:[t!==p.n.Practice&&"Confirm completion to proceed",Object(w.jsx)("div",{className:"flex-separator"}),Object(w.jsx)(S.a,{htmlAttributes:{"aria-label":e.getAriaLabel()},sizeClass:"small",onClick:e.submitChallenge,loading:e.state.isSubmitting,children:n})]})},e.getAriaLabel=function(){var t=e.props.chapter,n=t.type,i=t.state;return e.state.isSubmitting?"".concat(Object(Qn.a)(n)," submission is in progress..."):i===p.e.Approved?"".concat(Object(Qn.a)(n)," is completed"):i===p.e.NotCompleted?"Mark ".concat(Object(Qn.a)(n).toLowerCase()," as completed"):""},e}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e,t){var n=this.props.chapter;!t.isSubmitting&&this.state.isSubmitting?v.b.say("Submitting ".concat(Object(Qn.a)(n.type).toLowerCase(),"...")):e.chapter.id===n.id&&e.chapter.state===p.e.NotCompleted&&n.state===p.e.Approved&&v.b.say("".concat(Object(Qn.a)(n.type)," submitted. Great job!"))}},{key:"render",value:function(){var e=this.props.chapter.state;return e===p.e.Approved?this.renderApproved():e===p.e.NotCompleted?this.renderNotCompleted():Object(w.jsx)("div",{className:"challenge-actions",children:"n/a"})}}]),n}(c.PureComponent);ti.contextType=k;var ni=Object(u.c)((function(e){return{chapter:Object(y.f)(e),vm:Object(y.m)(e)}}))(ti),ii=n(351),ri=n(354),oi=n(1103),ai=Object(c.memo)((function(){var e=Object(u.e)((function(e){return e.captions.activeCue})),t=Object(u.e)((function(e){return!e.captions.ccOn})),n=Object(u.e)(y.j);return Object(w.jsx)(oi.a,{autogenerated:n&&!n.edited,dir:Object(ri.a)(e),hidden:t,text:(null===e||void 0===e?void 0:e.text)||""})})),si=n(996),ci=n(1039),li=n(1011),ui=n(1099),di=n(147),pi=(n(1343),function(){var e=Object(u.e)(y.b);return Object(w.jsx)("div",{className:"autoplay-progress",style:{"--duration":"".concat(e,"ms")},children:Object(w.jsxs)("div",{className:"frame","data-anim":"base autoplay-progress",children:[Object(w.jsx)("div",{className:"circle","data-anim":"base left"}),Object(w.jsx)("div",{className:"circle","data-anim":"base right"})]})})}),hi=(n(1344),Object(c.memo)((function(e){var t=e.visible,n=void 0!==t&&t,i=e.parentElement,r=void 0===i?document.createElement("div"):i,o=e.ariaHiddenElement,a=void 0===o?document.createElement("div"):o,s=e.chapter,l=void 0===s?Object(p.l)():s,d=e.onPlay,h=void 0===d?di.noop:d,f=e.onCancel,b=void 0===f?di.noop:f,v=Object(u.e)(y.b),m=Object(c.useRef)(null),j=Object(c.useCallback)((function(e){return m.current=e}),[m]),g=Object(c.useCallback)((function(){var e=Object(ce.b)(m.current);null===e||void 0===e||e.focus()}),[]);return Object(w.jsxs)(ee.a,{className:"autoplay-controls",overlayClassName:"autoplay-controls-overlay",contentRef:j,contentLabel:"Playing next chapter in ".concat(v/1e3," seconds."),shouldCloseOnOverlayClick:!1,isOpen:n,parentSelector:function(){return r},appElement:a,onAfterOpen:g,children:[Object(w.jsx)("div",{className:"next-label",children:"Up Next"}),Object(w.jsxs)("div",{className:"chapter-name",children:[null===l||void 0===l?void 0:l.order,". ",null===l||void 0===l?void 0:l.name]}),Object(w.jsx)("div",{className:"buttons",children:Object(w.jsxs)("div",{className:"play",children:[Object(w.jsx)(pi,{}),Object(w.jsx)(se.a,{className:"play-button",onClick:h,"aria-label":"Play chapter ".concat(null===l||void 0===l?void 0:l.name," now")})]})}),Object(w.jsx)(se.a,{"aria-label":"Cancel autoplay",className:"cancel",onClick:b,children:"Cancel"})]})}))),fi=n(1116),bi=function(e){return parseInt((e||"").replace("px",""),10)},vi="update",mi=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).context=void 0,e._container=void 0,e._keyhole=void 0,e._resizeObserver=void 0,e._state={keyholeStyles:{},scaledVmWidth:0,scaledVmHeight:0},e._emitter=new z.EventEmitter,e._getAvailableHeight=function(){if(e._container){var t=window.getComputedStyle(e._container),n=bi(t.paddingTop),i=bi(t.paddingBottom);return e._container.clientHeight-n-i}return 0},e._getAvailableWidth=function(){if(e._container){var t=window.getComputedStyle(e._container),n=bi(t.paddingLeft),i=bi(t.paddingRight);return e._container.clientWidth-n-i}return 0},e}return Object(o.a)(n,[{key:"updateVmSize",value:function(){var e=this._calculateZoom(),t=this.screenWidth*e,n=this.screenHeight*e;this._state.scaledVmWidth=t,this._state.scaledVmHeight=n,this._emitter.emit(vi,this._state),this._keyhole&&this._keyhole.refresh()}},{key:"observeForSizeChanges",value:function(e){var t=this;if(this._container){this._resizeObserver=new Dt.a((function(){t._state.keyholeStyles={height:"auto",width:"auto",maxHeight:t._getAvailableHeight(),maxWidth:t._getAvailableWidth()},t._emitter.emit(vi,t._state),t.updateVmSize()}));var n=Object(It.findDOMNode)(this._container);if(!n)return void console.error("Element unavailable to observe");this._resizeObserver.observe(n)}this._emitter.on(vi,e)}},{key:"unobserveForSizeChanges",value:function(){if(this._container){var e=Object(It.findDOMNode)(this._container);if(!e)return void console.error("Element unavailable to unobserve");this._resizeObserver.unobserve(e)}this._emitter.off(vi)}},{key:"_calculateZoom",value:function(){if(this._container){var e=this._getAvailableHeight()/this.screenHeight,t=e<.3?.3:e;this.context.update({fitValue:t})}return Object(G.d)(this.zoomLevel)}}]),n}(c.PureComponent);mi.contextType=G.b;var yi,ji,gi=n(345),Oi=n(346),xi=n.n(Oi),wi=n(1131),ki=n.n(wi),Ci=(n(1345),/translate\((-?\d+\.?\d*)px,\s*(-?\d+\.?\d*)px\)/),_i=(yi=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e))._contentWrapper=void 0,i._container=void 0,i._timeout=void 0,i._dragging=!1,i.state={position:{x:0,y:0}},i}return Object(o.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.x===this.props.x&&e.y===this.props.y||this._dragging||this.setState({position:{x:e.x,y:e.y}})}},{key:"componentDidMount",value:function(){this.refresh()}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timeout)}},{key:"onStart",value:function(){this._dragging=!0}},{key:"onStop",value:function(){var e=this;this._timeout=setTimeout((function(){e._dragging=!1}),1500)}},{key:"onDrag",value:function(e,t){var n=t.x,i=t.y;this.setState({position:{x:n,y:i}})}},{key:"refresh",value:function(){this.setState({position:this._bound(this.state.position)})}},{key:"render",value:function(){var e=this;return this.props.children?Object(w.jsx)("div",{ref:function(t){return e._container=t},className:"keyhole-container",style:this.props.style,children:Object(w.jsx)(ki.a,{position:this.state.position,onStart:this.onStart,onStop:this.onStop,onDrag:this.onDrag,bounds:this._bounds,children:Object(w.jsx)("div",{ref:this._onKeyholeRef,className:"keyhole-content-wrapper",children:this.props.children})})}):null}},{key:"_onKeyholeRef",value:function(e){if(e&&!this._contentWrapper){var t=new Proxy(e.style,{set:function(e,t,n){if("transform"===t){var i=Ci.exec(n)||[];e.left=parseInt(i[1],10)+"px",e.top=parseInt(i[2],10)+"px",e.transform="none"}return!0}});Object.defineProperty(e,"style",{get:function(){return t}})}this._contentWrapper=e}},{key:"_bounds",get:function(){var e=this._contentWrapper,t=this._container,n={top:0,bottom:0,right:0,left:0};if(!e||!t)return n;var i=e.getBoundingClientRect(),r=i.width,o=i.height,a=t.offsetWidth,s=t.offsetHeight;return n.top=Math.min(s-o,0),n.bottom=Math.max(s-o,0),n.left=a-r,n}},{key:"_bound",value:function(e){var t=e.x,n=e.y,i=this._bounds;return void 0!==(t=t||0)&&(t=Math.max(i.left,Math.min(t,i.right))),void 0!==(n=n||0)&&(n=Math.max(i.top,Math.min(n,i.bottom))),{x:t,y:n}}}]),n}(c.PureComponent),Object(gi.a)(yi.prototype,"onStart",[xi.a],Object.getOwnPropertyDescriptor(yi.prototype,"onStart"),yi.prototype),Object(gi.a)(yi.prototype,"onStop",[xi.a],Object.getOwnPropertyDescriptor(yi.prototype,"onStop"),yi.prototype),Object(gi.a)(yi.prototype,"onDrag",[xi.a],Object.getOwnPropertyDescriptor(yi.prototype,"onDrag"),yi.prototype),Object(gi.a)(yi.prototype,"_onKeyholeRef",[xi.a],Object.getOwnPropertyDescriptor(yi.prototype,"_onKeyholeRef"),yi.prototype),yi),Ai=(ji=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._keyhole=void 0,e._keyholeNode=void 0,e._resizeObserver=void 0,e._lastParentSize=void 0,e._mouseDownTimestamp=0,e}return Object(o.a)(n,[{key:"refresh",value:function(){this._keyhole&&this._keyhole.refresh()}},{key:"componentDidMount",value:function(){if(this._keyhole){this._resizeObserver=new Dt.a(this._onParentResize);var e=this._keyholeNode;e?this._resizeObserver.observe(e):console.error("Screen keyhole element unavailable (observe)")}}},{key:"componentWillUnmount",value:function(){if(this._keyhole){var e=this._keyholeNode;e?this._resizeObserver.unobserve(e):console.error("Screen keyhole element unavailable (unobserve)")}}},{key:"componentDidUpdate",value:function(){this.refresh()}},{key:"render",value:function(){var e=this;return Object(w.jsx)(_i,{ref:this._onKeyholeRef,x:this._normalizeX(this.props.x),y:this._normalizeY(this.props.y),style:this.props.style,children:Object(w.jsx)("div",{onMouseDown:function(){return e._mouseDownTimestamp=Date.now()},onMouseUp:this._onMouseUp,onDoubleClick:this.props.onDoubleClick,style:{width:this.props.width,height:this.props.height},children:this.props.children})})}},{key:"_onMouseUp",value:function(){Date.now()-this._mouseDownTimestamp>500||this.props.onClick&&this.props.onClick()}},{key:"_onParentResize",value:function(){this._keyhole&&this._keyholeNode.offsetWidth!==this._lastParentSize&&this.refresh()}},{key:"_onKeyholeRef",value:function(e){this._keyhole=e,this._keyhole&&(this._keyholeNode=Object(It.findDOMNode)(this._keyhole))}},{key:"_normalizeX",value:function(e){if(void 0!==e&&this._keyhole){var t=this._keyholeNode;if(t){e/=this.props.originalWidth/this.props.width;var n=t.offsetWidth;if(!(n>this.props.width))return n/2-e}}}},{key:"_normalizeY",value:function(e){if(void 0!==e&&this._keyhole){var t=this._keyholeNode;if(t){e/=this.props.originalWidth/this.props.width;var n=t.offsetHeight;if(!(n>this.props.height))return n/2-e}}}}]),n}(c.PureComponent),Object(gi.a)(ji.prototype,"_onMouseUp",[xi.a],Object.getOwnPropertyDescriptor(ji.prototype,"_onMouseUp"),ji.prototype),Object(gi.a)(ji.prototype,"_onParentResize",[xi.a],Object.getOwnPropertyDescriptor(ji.prototype,"_onParentResize"),ji.prototype),Object(gi.a)(ji.prototype,"_onKeyholeRef",[xi.a],Object.getOwnPropertyDescriptor(ji.prototype,"_onKeyholeRef"),ji.prototype),ji),Si=(n(1346),function(e){switch(e.state){case p.e.Completed:case p.e.Approved:return"Completed";default:return""}}),Pi=Object(c.memo)((function(e){var t=e.visible,n=e.parentElement,r=e.ariaHiddenElement,o=e.chapter,a=e.nextChapter,s=e.onStart,c=e.onSkip,l=e.onCompleteSession,u=function(e){switch(e.state){case p.e.Completed:case p.e.Approved:return Object(w.jsx)(Yn.a,{className:"completed","aria-hidden":"true"});default:return null}}(o);return Object(w.jsx)(P.a,Object(i.a)(Object(i.a)({hideClose:!0,size:"fluid",visible:t,closeWithEsc:!1,id:"practice-controls-overlay",title:"Want to practice more?",parentSelector:n,className:"practice-controls-overlay"},r&&{appElement:r}),{},{children:Object(w.jsxs)("div",{className:"practice-controls",children:[Object(w.jsx)("div",{className:"practice-controls__body",children:Object(w.jsxs)("p",{className:"practice-chapter",children:[o.name,u&&Object(w.jsx)("span",{className:"practice-chapter__status","aria-label":"".concat(Si(o)),children:u})]})}),Object(w.jsxs)("div",{className:"practice-controls__actions",children:[Object(w.jsx)(S.a,{type:"button",onClick:function(){return s(o)},children:"Yes, start practice"}),a?Object(w.jsx)(S.a,{type:"button",kind:"secondary",onClick:function(){return c(a)},children:"No, continue to the next task"}):Object(w.jsx)(S.a,{type:"button",kind:"secondary",onClick:l,children:"No, complete the project"})]})]})}))})),Ei=n(16),Ri=n.n(Ei),Di=n(25),Ii=n(1377),Mi=n(1350),Vi=n.n(Mi),Ti=n(1348),Ni=n.n(Ti),Li=(n(1347),"How satisfied are you with the user interface of Guided Projects?"),zi={fontSize:"1.5rem"},Fi=Object(c.memo)((function(e){var t=e.visible,n=e.parentElement,r=e.ariaHiddenElement,o=e.onContinue,a=Object(u.d)(),s=Object(c.useState)(null),l=Object(_e.a)(s,2),d=l[0],h=l[1],f=Object(c.useState)(!1),b=Object(_e.a)(f,2),v=b[0],m=b[1],y=function(){var e=Object(Di.a)(Ri.a.mark((function e(t){var n;return Ri.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=null!==t?[Object(p.L)({question:Li,rating:t})]:[],m(!0),e.next=5,a(Ge.a.submitSurveyResult(n));case 5:return e.prev=5,m(!1),o(),e.finish(5);case 9:case"end":return e.stop()}}),e,null,[[0,,5,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(w.jsx)(P.a,Object(i.a)(Object(i.a)({size:"fluid",visible:t,closeWithEsc:!0,closeLabel:"Close",id:"platform-survey-overlay","data-e2e":"platform-survey-modal",title:"We'd like to hear your feedback",parentSelector:n,className:"platform-survey-overlay"},r&&{appElement:r}),{},{overrideClose:function(){return y(null)},children:Object(w.jsxs)("div",{className:"platform-survey",children:[Object(w.jsxs)("div",{className:"platform-survey__body",children:[Object(w.jsx)("p",{children:Li}),Object(w.jsx)(Ii.a,{name:"platform-survey-rating",size:"large",value:d,onChange:function(e,t){h(t)},icon:Object(w.jsx)(Ni.a,{style:zi}),emptyIcon:Object(w.jsx)(Vi.a,{style:zi})})]}),Object(w.jsx)(S.a,{type:"button",kind:"primary",onClick:function(){return y(d)},disabled:null===d,loading:v,children:"Submit and continue"})]})}))})),Bi=(n(1351),{keyholeCenter:{x:0,y:0},height:window.innerHeight-150,currentTime:0,playing:!1,scaledVmWidth:0,scaledVmHeight:0,playbackRate:J.a.x100,playerKeyhole:!0,visibleVideoControls:!0,canPlayVideo:!1,videoDimm:{width:F.a.DefaultScreenWidth,height:F.a.DefaultScreenHeight},keyholeStyles:{},videoOverlay:"none",disableVideoControls:!1}),Ui=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var i;Object(r.a)(this,n),(i=t.call(this,e)).vmContainer=void 0,i.vmKeyhole=void 0,i._container=void 0,i._keyhole=void 0,i._player=void 0,i._controlsService=void 0,i._nextChapterTimeout=void 0,i._chapterProgressInterval=void 0,i._resizeEntry=void 0,i._wasRequestedToPlay=void 0,i._onMouseFrame=Object(li.a)(Object(ii.a)(i)),i.play=function(){var e;null===(e=i._container)||void 0===e||e.style.setProperty("--unfocused-controls-opacity","0"),i._wasRequestedToPlay=!0,i.state.canPlayVideo&&i._controlsService.onPlay()},i.onPlaybackRateChange=function(e){i._controlsService.onPlaybackRateChange(e),i.props.onPlaybackRateChange&&i.props.onPlaybackRateChange(e),i.setState({playbackRate:e})},i.onAutoplayPlay=function(){clearTimeout(i._nextChapterTimeout),i._controlsService.onForward(),i.hideVideoOverlay()},i.onAutoplayCancel=function(){clearTimeout(i._nextChapterTimeout),i.hideVideoOverlay()},i.onVideoDimmensions=function(e,t){i.setState({videoDimm:{width:e,height:t}},(function(){i.updateVmSize()}))},i.onExpandModeChange=function(e){var t=e===si.e.Expand;i.props.dispatch(new d.U(t))},i.onCanPlay=function(e){e&&i._wasRequestedToPlay&&i._controlsService.onPlay(),i.setState({canPlayVideo:e})},i.onForward=function(){i._controlsService.onForward()},i.onSeek=function(e){i._controlsService.onSeek(e)},i.onPause=function(){i._controlsService.onPause()},i._onContainerRef=function(e){i._container=e},i._onPauseToggle=function(){i.state.playing?i.pause():i.play()},i._onPlayerCompleted=function(){var e=i.props.currentChapter;if(e.canSubmit&&e.state===p.e.NotCompleted)i.props.onReadyToSubmitChallenge();else{var t=i._controlsService.nextChapter;if(t)t.type===p.n.Practice?i.setState({videoOverlay:"practice-controls"}):i.props.showPlatformSurvey&&t.order>2&&!Object(j.d)(j.a.SuppressPlatformSurvey)?i.setState({videoOverlay:"platform-survey"}):(i.setState({videoOverlay:"auto-play"}),clearTimeout(i._nextChapterTimeout),i._nextChapterTimeout=setTimeout((function(){i._controlsService.onForward(),i.hideVideoOverlay()}),i.props.a11yAutoplayNextChapterDelay)),parseInt(l.a.version.split(".")[0],10)>=18&&(console.error('Make sure "this.setState({ disableVideoControls: true })" is not batched!'),console.error("Why - https://coursera.atlassian.net/browse/RHM-2048")),i.setState({disableVideoControls:!0});else i.onExpandModeChange(si.e.Collapse),i.props.onSessionCompleted()}},i._updateChapterProgress=function(){i._chapterProgressInterval=setInterval((function(){var e=i.props.currentChapter.chapterId,t=i.state.currentTime,n=i.props.currentAttendeeChapterProgress,r=n.chapterId,o=n.time;if(e!==r||t!==o){var a=Object(p.m)({chapterId:e,time:t});i.props.dispatch(new d.Pb(i.props.currentAttendee.id,a))}}),1e3)},i._onPlayerReadyMetadata=function(){var e=Object(j.e)(i.props.room.id);if(e&&e.chapterId===i.props.currentChapter.chapterId&&i._player){var t=e.time;if(i.props.currentChapter.canSkip&&i._player.duration>20&&e.time+20>=i._player.duration){var n=i._controlsService.nextChapter;if(n)return void i.props.dispatch(new d.jb(n));t=0}i._player.setCurrentTime(t)}},i._updateVideoControlsVisibility=function(){i.state.visibleVideoControls&&setTimeout((function(){i.setState({visibleVideoControls:!1})}),5e3)},i.onSetCurrentChapter=function(e){i.props.dispatch(new d.jb(e))},i.onGoToNextChapter=function(){var e=i.props.upcomingChapter;e?i.props.dispatch(new d.jb(e)):i.onCompleteSession()},i.onCompleteSession=function(){i.props.onSessionCompleted(),i.hideVideoOverlay()},i.hideVideoOverlay=function(){i.setState({videoOverlay:"none",disableVideoControls:!1})},i.state=Bi;var o={onPlay:i._updateVideoControlsVisibility};return i._controlsService=new fi.b(e.dispatch,i.props.currentChapter,i.props.course.chapters,o),i}return Object(o.a)(n,[{key:"zoomLevel",get:function(){return this.props.zoomLevel}},{key:"screenWidth",get:function(){return this.state.videoDimm.width}},{key:"screenHeight",get:function(){return this.state.videoDimm.height}},{key:"isForwardDisabled",get:function(){var e=this.props.currentChapter;return!this._controlsService.hasNextChapter||!e.canSkip}},{key:"isPlaying",get:function(){return this.state.playing}},{key:"componentDidMount",value:function(){var e=this;this._resizeEntry=ci.a.create({},(function(){e.setState({height:window.innerHeight-150})})),this.observeForSizeChanges(this.setState.bind(this)),this.updateVmSize(),this._controlsService.setRefs(this._player),this._controlsService.onPlayerPlaying((function(t){return e.setState({playing:t})})),this._controlsService.onPlayerTimeUpdated((function(t){return e.setState({currentTime:t})})),this._controlsService.onPlayerCompleted(this._onPlayerCompleted),this._updateChapterProgress()}},{key:"componentWillUnmount",value:function(){this._controlsService.destroy(),clearTimeout(this._nextChapterTimeout),clearTimeout(this._chapterProgressInterval),ci.a.destroy(this._resizeEntry),this.unobserveForSizeChanges()}},{key:"componentWillReceiveProps",value:function(e){e.currentChapter.id!==this.props.currentChapter.id&&(clearTimeout(this._nextChapterTimeout),this.pause(),this.setState({currentTime:0,playing:!0,videoOverlay:"none"}),this._wasRequestedToPlay=!0),this._controlsService.updateProps(e.currentChapter,e.course.chapters)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.expandedPanel,i=t.currentChapter;n!==e.expandedPanel&&!n.expandedByGuide&&this._player&&this._player.learnerChangedSidebarMode(),this.props.zoomLevel!==e.zoomLevel&&this.updateVmSize(),i.id!==e.currentChapter.id&&this.hideVideoOverlay()}},{key:"pause",value:function(){this._controlsService.onPause()}},{key:"complete",value:function(){this._onPlayerCompleted()}},{key:"render",value:function(){var e=this,t=this.props,n=t.upcomingChapter,i=t.nextChapter,r=this._player?this._player.duration:0,o="auto-play"===this.state.videoOverlay&&!!this._controlsService.nextChapter;return Object(w.jsxs)("div",{className:A()("session-player",this.props.hidden&&"hidden"),ref:this._onContainerRef,children:[Object(w.jsxs)("div",{className:"video-cont",ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){return e.vmKeyhole=t})),children:[Object(w.jsx)(hi,{visible:o,parentElement:this._container,ariaHiddenElement:this.vmKeyhole,chapter:this._controlsService.nextChapter,onPlay:this.onAutoplayPlay,onCancel:this.onAutoplayCancel}),Object(w.jsxs)(Y.b,{isDisabled:this.state.disableVideoControls,children:[Object(w.jsx)(Ai,{x:this.state.keyholeCenter.x,y:this.state.keyholeCenter.y,onClick:this._onPauseToggle,width:this.state.scaledVmWidth,height:this.state.scaledVmHeight,originalWidth:this.state.videoDimm.width,originalHeight:this.state.videoDimm.height,ref:function(t){return e._keyhole=t},style:this.state.keyholeStyles,children:Object(w.jsx)(ge,{ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(t){return e.vmContainer=t})),children:Object(w.jsx)(ui.a,{ref:function(t){return e._player=t},dispatch:this.props.dispatch,mouse:!0,showViewbox:!1,onMouseFrame:this._onMouseFrame,autoPlay:!1,chapter:this.props.currentChapter,controls:!1,onCanPlay:this.onCanPlay,language:this.props.course.language,onReadyMetadata:this._onPlayerReadyMetadata,onVideoDimmensions:this.onVideoDimmensions,onExpandModeChange:this.onExpandModeChange,errorContainer:this.vmKeyhole})})}),Object(w.jsxs)(xe,{className:"player-footer",children:[Object(w.jsx)(ai,{}),Object(w.jsx)(fi.a,{className:this.state.visibleVideoControls?"visible":"",controls:{viewbox:!1},playing:this.state.playing,duration:r,currentTime:this.state.currentTime,playerKeyhole:this.state.playerKeyhole,playbackRate:this.state.playbackRate,backwardDisabled:!this._controlsService.hasPrevChapter,forwardDisabled:this.isForwardDisabled,disableAll:!this.state.canPlayVideo,onPlay:this.play,onPause:this.onPause,onSeek:this.onSeek,onForward:this.onForward,onBackward:this._controlsService.onBackward,onPlaybackRateChange:this.onPlaybackRateChange})]})]})]}),n&&Object(w.jsx)(Pi,{visible:"practice-controls"===this.state.videoOverlay,parentElement:this._container,ariaHiddenElement:this.vmKeyhole,chapter:n,nextChapter:i,onStart:this.onSetCurrentChapter,onSkip:this.onSetCurrentChapter,onCompleteSession:this.onCompleteSession}),Object(w.jsx)(Fi,{visible:"platform-survey"===this.state.videoOverlay,parentElement:this._container,ariaHiddenElement:this.vmKeyhole,onContinue:this.onGoToNextChapter})]})}},{key:"videoWidth",get:function(){return this.state.height*(this.state.videoDimm.width/this.state.videoDimm.height)}}]),n}(mi),Hi=Object(y.a)(1),Wi=Object(y.a)(2),Ki=Object(u.c)((function(e){return{course:Object(y.t)(e),currentChapter:Object(y.f)(e),room:Object(y.l)(e),currentAttendee:Object(y.e)(e),currentAttendeeChapterProgress:Object(y.g)(e),expandedPanel:e.expandedPanel,upcomingChapter:Hi(e),nextChapter:Wi(e),showPlatformSurvey:Object(y.F)(e),a11yAutoplayNextChapterDelay:Object(y.b)(e)}}),null,null,{forwardRef:!0})(Ui),Xi=(n(1352),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var i;Object(r.a)(this,n),(i=t.call(this,e)).context=void 0,i.player=void 0,i._shouldPlayVideoOnActiveUser=!1,i.showChallengeDescription=function(){i.setState({isChallengeDescriptionVisible:!0})},i.hideChallengeDescription=function(){i.setState({isChallengeDescriptionVisible:!1})},i.toggleChallengeView=function(){i.state.isChallengeDescriptionVisible?i.hideChallengeDescription():i.showChallengeDescription(),i.player.pause()},i.onReadyToSubmitChallenge=function(){var e=i.props,t=e.currentChapter,n=e.showNotification;if(t.state===p.e.NotCompleted){i.player.pause();var r=t.id;if(!i.state.watchedChallenges.includes(r)){t.type===p.n.ChallengeSelfApproval?n(Object(p.H)({type:p.I.Info,title:"Solve the Challenge",text:'After you solve the challenge, click the "Mark as completed" button to proceed to next task'})):t.type===p.n.Practice&&n(Object(p.H)({type:p.I.Info,title:"Practice Exercise",text:'After you complete the practice exercise, click the "I\u2019m ready to move on" button to proceed to next task'}));var o=i.state.watchedChallenges.push(r),a=Date.now();i._storeWatchedChallengesData(o.toArray(),a),i.setState({watchedChallenges:o,lastChallengeStartTime:a})}t.description&&i.showChallengeDescription()}},i.onChallengeSubmission=function(){var e=i.props,t=e.room,n=e.currentAttendee,r=e.currentChapter,o=i.state.lastChallengeStartTime?Date.now()-i.state.lastChallengeStartTime:0,a=Object(p.j)({resourceUrl:"",screenshotUrl:"",duration:o,attendeeChapterId:r.id});return i.props.sendChallengeSubmission(t,n,r,a).then((function(){i.hideChallengeDescription(),i._clearLastChallengeStartTime()})).catch((function(){i.props.showNotification(Object(p.H)({type:p.I.Error,text:"Something went wrong. Please, try again"}))}))};var o=i._loadStoredWatchedChallengesData();return i.state={isChallengeDescriptionVisible:!1,watchedChallenges:Object(Fn.List)(o.challenges),lastChallengeStartTime:o.lastChallengeStartTime},i}return Object(o.a)(n,[{key:"shouldShowChallengeDescription",get:function(){var e=this.props.currentChapter;return this.state.isChallengeDescriptionVisible&&e.description&&e.type!==p.n.Instruction}},{key:"componentDidMount",value:function(){var e=this;window.onbeforeunload=function(){return e._storeLeaveTime()}}},{key:"componentDidUpdate",value:function(e){this.props.currentChapter&&e.currentChapter&&(this.props.currentChapter.id!==e.currentChapter.id&&this.state.isChallengeDescriptionVisible&&this.hideChallengeDescription(),this.props.currentChapter.id===e.currentChapter.id&&!this.props.currentChapter.canSubmit&&e.currentChapter.canSubmit&&this.player.complete());var t=this.props.isInactivityModalVisible;t!==e.isInactivityModalVisible&&(t&&this.player.isPlaying?(this.player.pause(),this._shouldPlayVideoOnActiveUser=!0):!t&&this._shouldPlayVideoOnActiveUser&&(this.player.play(),this._shouldPlayVideoOnActiveUser=!1))}},{key:"componentWillUnmount",value:function(){this._storeLeaveTime()}},{key:"render",value:function(){var e=this,t=this.props.currentChapter,n=t.type===p.n.ChallengeSelfApproval||t.type===p.n.Practice;return Object(w.jsxs)(Oe,{className:"recorded-session-content",children:[Object(w.jsx)(Zn,{}),n?Object(w.jsx)(Jn,{onToggleView:this.toggleChallengeView,chapter:t,isDescriptionVisible:this.state.isChallengeDescriptionVisible}):Object(w.jsx)("h2",{className:"a11y-visually-hidden",children:"Instructor Video"}),Object(w.jsxs)("div",{className:"expanded",children:[this.shouldShowChallengeDescription&&Object(w.jsx)("div",{className:"challenge-description",dangerouslySetInnerHTML:{__html:qn(t.description)}}),Object(w.jsx)(Ki,{ref:function(t){return e.player=t},zoomLevel:this.context.zoomLevel,hidden:this.state.isChallengeDescriptionVisible,onSessionCompleted:this.props.onSessionCompleted,onReadyToSubmitChallenge:this.onReadyToSubmitChallenge,onPlaybackRateChange:this.props.onPlaybackRateChange})]}),n&&Object(w.jsx)(ni,{onChallengeSubmission:this.onChallengeSubmission})]})}},{key:"_loadStoredWatchedChallengesData",value:function(){var e=Object(j.d)(j.a.WatchedChallenges);if(e&&e[this.props.room.id]){var t=e[this.props.room.id].lastChallengeStartTime;if(t){var n=Object(j.d)(j.a.LeftSession);if(n&&n[this.props.room.id]){var i=n[this.props.room.id];Date.now()-i>=6e5&&(t=Date.now(),e[this.props.room.id].lastChallengeStartTime=t,Object(j.h)(j.a.WatchedChallenges,e))}}return{challenges:e[this.props.room.id].challenges||[],lastChallengeStartTime:t||null}}return{challenges:[],lastChallengeStartTime:null}}},{key:"_clearLastChallengeStartTime",value:function(){var e=Object(j.d)(j.a.WatchedChallenges)||{};e[this.props.room.id]={challenges:this.state.watchedChallenges,lastChallengeStartTime:null},Object(j.h)(j.a.WatchedChallenges,e)}},{key:"_storeWatchedChallengesData",value:function(e,t){var n=Object(j.d)(j.a.WatchedChallenges)||{};n[this.props.room.id]={challenges:e,lastChallengeStartTime:t},Object(j.h)(j.a.WatchedChallenges,n)}},{key:"_storeLeaveTime",value:function(){var e=Object(j.d)(j.a.LeftSession)||{};e[this.props.room.id]=Date.now(),Object(j.h)(j.a.LeftSession,e)}}]),n}(c.PureComponent));Xi.contextType=G.b;var qi,Yi=function(e){var t={room:Object(u.e)(y.l),currentAttendee:Object(u.e)(y.i),currentChapter:Object(u.e)(y.f)},n=Object(u.d)(),r=Object(c.useCallback)((function(){return n(Ge.a.sendChallengeSubmission.apply(Ge.a,arguments))}),[n]),o=Object(Bn.a)(),a=Object(c.useContext)(k);return Object(w.jsx)(Xi,Object(i.a)(Object(i.a)({},t),{},{sendChallengeSubmission:r,showNotification:o,isVmConnected:a.isConnected},e))},Qi=n(141),Gi=["isDisabled"],Zi=Object(c.forwardRef)((function(e,t){var n=e.isDisabled,r=Object(me.a)(e,Gi),o=Object(c.useContext)(Y.a).isDisabled||!!n;return Object(w.jsx)("a",Object(i.a)(Object(i.a)({ref:t},r),{},{className:A()("rhyme-anchor",r.className),tabIndex:o?-1:r.tabIndex,"data-disabled":o||void 0}))})),Ji=n(54),$i=n(1013),er=n(1034),tr=function(){var e=Object(Di.a)(Ri.a.mark((function e(t,n){var i,r,o,a,s,c,l,u,d,p,h;return Ri.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.name.match(/(.*[\\/])?(.*)/)||[],r=Object(_e.a)(i,3),o=r[2]){e.next=3;break}throw new Error("Could not match filename ".concat(n.name));case 3:return e.next=5,Object(er.a)(t);case 5:return a=e.sent,s=a.tunnel,c=a.filesystem,l=a.token,u=a.client,d=function(){return u.disconnect()},e.next=13,new Promise((function(e){return c.object.requestInputStream(n.streamName,e)}));case 13:return(p=e.sent).onblob=function(){return p.sendAck("OK",Ji.Status.Code.SUCCESS)},p.onend=function(){return setTimeout(d,5e3)},h=t.protocol+"://"+t.host+"/api/session/tunnels/"+s.uuid+"/streams/"+encodeURIComponent(p.index)+"/"+encodeURIComponent(Object($i.c)(o))+"?token="+encodeURIComponent(l),e.prev=17,e.next=20,Object($i.b)(h,n.name,{credentials:"include"});case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(17),console.error(e.t0);case 25:return e.prev=25,d(),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[17,22,25,28]])})));return function(t,n){return e.apply(this,arguments)}}(),nr=n(363),ir=n(168),rr=n(183),or=(n(983),function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(w.jsxs)(P.a,{title:"Download File","data-e2e":"download-file-modal",className:"download-file-confirmation-modal form-styles",visible:this.props.isVisible,onToggle:this.props.onClose,size:"small",children:[Object(w.jsxs)("p",{className:"text",children:['Are you sure you want to download file "',this.props.file.name,'"?']}),Object(w.jsxs)("div",{className:"button-sequence",children:[Object(w.jsx)(S.a,{htmlAttributes:{"aria-label":"No, do not download file"},className:"modal-button",kind:"cancel",onClick:this.props.onClose,children:"No"}),Object(w.jsx)(S.a,{htmlAttributes:{"aria-label":"Yes, download file"},className:"modal-button",onClick:this.props.onDownload,children:"Yes"})]})]})}}]),n}(c.PureComponent)),ar=["title","titleId"];function sr(){return sr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},sr.apply(this,arguments)}function cr(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lr(e,t){var n=e.title,i=e.titleId,r=cr(e,ar);return c.createElement("svg",sr({width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,qi||(qi=c.createElement("path",{d:"M0 40h30V0H0v40zM28.333 1.667v36.666H1.667V1.667h26.666zM18.333 25h-10v1.667h10V25zm3.334-6.667H8.333V20h13.334v-1.667zm0-6.666H8.333v1.666h13.334v-1.666z"})))}var ur,dr=c.forwardRef(lr),pr=(n.p,["title","titleId"]);function hr(){return hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hr.apply(this,arguments)}function fr(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function br(e,t){var n=e.title,i=e.titleId,r=fr(e,pr);return c.createElement("svg",hr({width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,ur||(ur=c.createElement("path",{d:"M38.709 21.023v12.372c0 1.101-.9 2-2 2H12.091c-1.1 0-2-.899-2-2V21.023h28.616zM20.585 13l3.816 3.11h12.308c1.1 0 2 .9 2 2v1.588H10.093V15c0-1.1.899-2 2-2h8.492z"})))}var vr,mr,yr=c.forwardRef(br),jr=(n.p,function(e){var t=e.file,n=e.index,i=e.focusable,r=e.onClick,o=Object(c.useRef)(null);Object(c.useEffect)((function(){o.current&&i&&o.current.focus()}),[i]);var a=t.type===ir.c.DIRECTORY;return Object(w.jsxs)("li",{ref:o,className:"content-item",onClick:r,title:t.name,tabIndex:i?0:-1,"aria-label":"".concat(t.name,a?" folder. Press Enter to navigate to the contents of this folder.":" file. Press Enter to download this file")+" Press Up or Down to navigate in the list.",children:[a?Object(w.jsx)(yr,{"aria-hidden":!0,className:"file-browser-icon"}):Object(w.jsx)(dr,{"aria-hidden":!0,className:"file-browser-icon"}),Object(w.jsx)("span",{"aria-hidden":!0,children:t.name})]},"".concat(n,"-").concat(t.name))}),gr=(n(1353),["title","titleId"]);function Or(){return Or=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Or.apply(this,arguments)}function xr(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wr(e,t){var n=e.title,i=e.titleId,r=xr(e,gr);return c.createElement("svg",Or({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,vr||(vr=c.createElement("defs",null,c.createElement("polygon",{id:"chevronprevious-a",points:"18.074 24 28.878 35.852 29.925 34.804 20.169 24 29.925 13.196 28.878 12.148"}))),mr||(mr=c.createElement("use",{fill:"#1F1F1F",fillRule:"evenodd",xlinkHref:"#chevronprevious-a"})))}var kr,Cr=c.forwardRef(wr),_r=(n.p,["title","titleId"]);function Ar(){return Ar=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ar.apply(this,arguments)}function Sr(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Pr(e,t){var n=e.title,i=e.titleId,r=Sr(e,_r);return c.createElement("svg",Ar({width:"48px",height:"48px",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",ref:t,"aria-labelledby":i},r),void 0===n?c.createElement("title",{id:i},"RHYME/SHAPES/48x48/Folder Open Fill"):n?c.createElement("title",{id:i},n):null,kr||(kr=c.createElement("g",{id:"RHYME/SHAPES/48x48/Folder-Open-Fill",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},c.createElement("path",{d:"M16.4167,20.2781 L42.1637,20.3151 C42.8047,20.3961 43.3147,20.6871 43.5777,21.1661 C43.8867,21.7281 43.8147,22.4411 43.3827,23.1221 L43.3827,23.1221 L36.0647,34.6151 C35.3387,35.7561 33.7107,36.6491 32.3577,36.6491 L32.3577,36.6491 L8.9857,36.6491 C7.7597,36.6491 6.7297,35.8371 6.3767,34.7261 L6.3767,34.7261 L14.4557,21.4101 C14.7697,20.8921 15.6157,20.3671 16.2627,20.2881 C16.3147,20.2811 16.3657,20.2781 16.4167,20.2781 L16.4167,20.2781 Z M17.3625,12.9998 C17.3985,12.9998 17.4295,13.0158 17.4635,13.0208 C17.5145,13.0278 17.5615,13.0328 17.6105,13.0498 C17.6625,13.0688 17.7055,13.0958 17.7515,13.1238 C17.7785,13.1418 17.8105,13.1478 17.8365,13.1688 L17.8365,13.1688 L21.4035,16.0758 L33.2885,16.0758 C34.8055,16.0758 36.0385,17.2918 36.0385,18.7868 L36.0385,18.7868 L36.0385,18.8068 L16.4145,18.7778 C16.3075,18.7778 16.1975,18.7848 16.0825,18.7988 C14.9755,18.9348 13.7245,19.7228 13.1735,20.6328 L13.1735,20.6328 L6.2355,32.0668 L6.2355,15.7498 C6.2355,14.2338 7.4695,12.9998 8.9855,12.9998 L8.9855,12.9998 Z",id:"Folder-Open-Fill",fill:"#1F1F1F"}))))}var Er,Rr,Dr=c.forwardRef(Pr),Ir=(n.p,["title","titleId"]);function Mr(){return Mr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mr.apply(this,arguments)}function Vr(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Tr(e,t){var n=e.title,i=e.titleId,r=Vr(e,Ir);return c.createElement("svg",Mr({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,Er||(Er=c.createElement("defs",null,c.createElement("path",{id:"sync-a",d:"M7.97822556,24.0044444 C7.97822556,32.8933333 15.0197989,40.0026667 23.6760174,40.0026667 C31.5183283,40.0026667 35.1137451,35.4951111 38.5915097,31.1386667 C38.5985337,31.1288889 37.8223803,31.1155556 37.8302823,31.1155556 L32.1197594,31.1155556 L32.1197594,29.3377778 L41.7777778,29.3377778 L41.7777778,39.1155556 L40.0217744,39.1155556 L40.0217744,32.7155556 C36.5097678,37.0586667 32.2760437,41.7777778 23.8937618,41.7777778 C14.2699855,41.7777778 6.22222222,33.7822222 6.22222222,24.0044444 L6.22222222,24.0044444 Z M24.0518021,6.22222222 C33.7063084,6.22222222 41.342289,14.2266667 41.342289,24.0044444 L41.342289,24.0044444 L39.5862856,24.0044444 C39.5862856,15.1155556 32.5201282,8.00444444 23.8340577,8.00444444 C16.2430434,8.00444444 12.6352797,12.1370975 9.29888385,16.4173453 L8.92910137,16.8933333 L16.3157294,16.8933333 L16.3157294,18.6711111 L6.65771105,18.6711111 L6.65771105,8.89333333 L8.41371439,8.89333333 L8.41371439,15.2408889 C11.0477194,10.8844444 15.6818122,6.22222222 24.0518021,6.22222222 Z"}))),Rr||(Rr=c.createElement("use",{fill:"#1F1F1F",fillRule:"evenodd",xlinkHref:"#sync-a"})))}var Nr=c.forwardRef(Tr),Lr=(n.p,function(e){return e.split(/[\\, \/]+/).filter((function(e){return e}))}),zr=function(e,t){return e.type===ir.c.NORMAL&&t.type===ir.c.DIRECTORY?1:e.type===ir.c.DIRECTORY&&t.type===ir.c.NORMAL?-1:e.name>t.name?1:e.name<t.name?-1:0},Fr={startsWith:["."],endsWith:[".lnk",".desktop"]},Br=function(e){var t=e.name.toLowerCase();return!Fr.startsWith.map((function(e){return t.startsWith(e)})).reduce((function(e,t){return e||t}),!1)&&!Fr.endsWith.map((function(e){return t.endsWith(e)})).reduce((function(e,t){return e||t}),!1)},Ur=function(e){return!0},Hr={currentDirectory:null,fileToDownload:null,downloading:!1,isDownloadModalVisible:!1,isLoadingDirectory:!1,isMovingToInitialDirectory:!1,showAllFiles:!1,focusIndex:-1},Wr=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(r.a)(this,n);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).contextType=void 0,e.state=Hr,e.fileSystem=null,e.folderContentRef=Object(c.createRef)(),e.rootContentRef=Object(c.createRef)(),e.backRef=Object(c.createRef)(),e.currentRef=Object(c.createRef)(),e.fileIndexFocusable=function(t){return!e.isDisabled&&e.state.focusIndex-2===t},e.toggleDownloadModal=function(t){e.setState({isDownloadModalVisible:t})},e.onDownloadModalClose=function(){e.toggleDownloadModal(!1)},e.onDownload=function(){if(e.toggleDownloadModal(!1),e.props.vm&&e.state.fileToDownload){v.b.say("Downloading file...",v.a.Assertive),e.setState({downloading:!0});var t=function(){e.state.downloading&&(v.b.say("Finished downloading file.",v.a.Assertive),e.setState({downloading:!1,fileToDownload:null}))};tr(e.props.vm.connection,e.state.fileToDownload).then(t).catch(t)}},e.renderFolderContent=function(t){return Object(w.jsx)("ul",{ref:e.folderContentRef,className:"folder-content",children:t.map((function(t,n){return Object(w.jsx)(jr,{index:n,file:t,focusable:e.fileIndexFocusable(n),onClick:function(){return e.onFileClick(t)}},"".concat(n,"-").concat(t.name))}))})},e.fileSystemReadyHandler=function(){e.client&&(e.fileSystem=e.client.getFileSystem(),e.fileSystem&&(e.setState({currentDirectory:e.fileSystem.currentDirectory}),e.fileSystem.on(nr.b.Initialized,e.initializeHandler),e.fileSystem.on(nr.b.CurrentDirectoryUpdate,e.currentDirectoryUpdateHandler),e.fileSystem.on(nr.b.LoadDirectory,e.loadDirectoryHandler),e.fileSystem.isInitialized&&e.initializeHandler()))},e.initializeHandler=Object(Di.a)(Ri.a.mark((function t(){var n,i;return Ri.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.props.vm){t.next=2;break}return t.abrupt("return");case 2:if(!(n=e.props.vm.connection.options.fileSystemDefaultPath)){t.next=12;break}return t.prev=4,e.setState({isMovingToInitialDirectory:!0}),i=Lr(n),t.next=9,e.moveToDirectory(i);case 9:return t.prev=9,e.setState({isMovingToInitialDirectory:!1}),t.finish(9);case 12:case"end":return t.stop()}}),t,null,[[4,,9,12]])}))),e.currentDirectoryUpdateHandler=function(t){e.setState({currentDirectory:t,isLoadingDirectory:!1}),e.folderContentRef.current&&(e.folderContentRef.current.scrollTop=0),e.rootContentRef.current&&(e.rootContentRef.current.scrollTop=0)},e.loadDirectoryHandler=function(t){e.setState({isLoadingDirectory:!0})},e.onFileClick=function(){var t=Object(Di.a)(Ri.a.mark((function t(n){return Ri.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.type!==ir.c.DIRECTORY){t.next=6;break}return v.b.say("Navigating to the directory...",v.a.Assertive),t.next=4,e.changeDirectory(n);case 4:t.next=7;break;case 6:e.setState({fileToDownload:n},(function(){return e.toggleDownloadModal(!0)}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onBack=Object(Di.a)(Ri.a.mark((function t(){var n;return Ri.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e.state.currentDirectory)||!n.parent){t.next=5;break}return v.b.say("Navigating to parent directory...",v.a.Assertive),t.next=5,e.changeDirectory(n.parent);case 5:case"end":return t.stop()}}),t)}))),e._onRefresh=Object(Di.a)(Ri.a.mark((function t(){return Ri.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.state.currentDirectory){t.next=2;break}return t.abrupt("return");case 2:return v.b.say("Reloading current directory contents...",v.a.Assertive),t.next=5,e.changeDirectory(e.state.currentDirectory);case 5:v.b.say("Current directory contents was reloaded.",v.a.Assertive);case 6:case"end":return t.stop()}}),t)}))),e.toggleFilesFilter=function(){v.b.say(e.state.showAllFiles?"Hiding system files from the files list.":"Showing all files in the files list."),e.setState({showAllFiles:!e.state.showAllFiles})},e.handleKeyDown=function(t){if(console.log(t.key),!e.state.isLoadingDirectory){if("ArrowUp"===t.key||"ArrowDown"===t.key){t.preventDefault();var n=e.state.focusIndex+("ArrowUp"===t.key?-1:1);n<0?n=e.visibleFiles.count()-1+2:n>e.visibleFiles.count()-1+2&&(n=0),n=Object(Yt.a)(0,e.visibleFiles.count()-1+2,n),e.setState({focusIndex:n})}if("Enter"===t.key)if(t.preventDefault(),t.stopPropagation(),0===e.state.focusIndex)e.onBack();else if(1===e.state.focusIndex)e._onRefresh();else{var i=e.visibleFiles.get(e.state.focusIndex-2);i&&e.onFileClick(i)}}},e}return Object(o.a)(n,[{key:"isDisabled",get:function(){return this.context.isDisabled||!!this.props.isDisabled}},{key:"client",get:function(){return this.props.remoteClient}},{key:"backFocusable",get:function(){return!this.isDisabled&&0===this.state.focusIndex}},{key:"currentFocusable",get:function(){return!this.isDisabled&&1===this.state.focusIndex}},{key:"visibleFiles",get:function(){return this.state.currentDirectory?this.state.currentDirectory.files.toList().filter(this.state.showAllFiles?Ur:Br).sort(zr).toList():Object(Fn.List)([])}},{key:"componentDidMount",value:function(){this.client&&this.onRemoteClientInit()}},{key:"componentDidUpdate",value:function(e,t){this.props.remoteClient&&!e.remoteClient&&this.onRemoteClientInit(),this.state.focusIndex!==t.focusIndex&&(this.backFocusable&&this.backRef.current?this.backRef.current.focus():this.currentFocusable&&this.currentRef.current&&this.currentRef.current.focus())}},{key:"componentWillUnmount",value:function(){this.client&&this.client.off(rr.c,this.fileSystemReadyHandler),this.fileSystem&&(this.fileSystem.off(nr.b.Initialized,this.initializeHandler),this.fileSystem.off(nr.b.CurrentDirectoryUpdate,this.currentDirectoryUpdateHandler),this.fileSystem.off(nr.b.LoadDirectory,this.loadDirectoryHandler))}},{key:"render",value:function(){var e=this.state,t=e.downloading,n=e.currentDirectory,i=e.fileToDownload,r=e.isDownloadModalVisible,o=e.isMovingToInitialDirectory,a=this.isDisabled;return Object(w.jsx)("div",{"aria-disabled":a,className:A()("vm-file-browser",{disabled:a}),children:t?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"Your file is downloading"}),Object(w.jsx)("p",{className:"description",children:"If the file is large, it might take a while"}),Object(w.jsx)(Z.a,{theme:"dark",htmlAttributes:{"aria-label":"Downloading the file..."}})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)("h2",{children:"Download File"}),Object(w.jsx)("div",{className:"description",children:"Click on a file to download it"}),n&&!o?this.renderDirectory(n):Object(w.jsx)(Z.a,{theme:"dark",htmlAttributes:{"aria-label":"Loading the current directory files list..."}}),i&&Object(w.jsx)(or,{isVisible:r,file:i,onClose:this.onDownloadModalClose,onDownload:this.onDownload})]})})}},{key:"renderDirectory",value:function(e){return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(se.a,{disabled:this.isDisabled,className:"show-hide-btn",onClick:this.toggleFilesFilter,"aria-label":this.state.showAllFiles?"Hide system files from the folder contents list":"Show all files in the folder contents list",children:this.state.showAllFiles?"Hide":"Show All"}),Object(w.jsxs)("div",{className:A()("file-tree-root","one-item-list",this.state.isLoadingDirectory&&"loading"),"aria-label":"List of the files in the folder. Press Up or Down to navigate."+(this.state.isLoadingDirectory?" Loading directory contents.":""),tabIndex:this.isDisabled?void 0:-1===this.state.focusIndex?0:-1,onKeyDown:this.handleKeyDown,ref:this.rootContentRef,role:"application",children:[this.renderBackRowWithLoader(),this.renderCurrentDirectoryRow(e),this.renderFolderContent(this.visibleFiles)]})]})}},{key:"renderBackRowWithLoader",value:function(){return Object(w.jsxs)("div",{ref:this.backRef,className:A()("back",!parent&&"disabled"),onClick:this.onBack,title:parent?parent.name:"",tabIndex:this.backFocusable?0:-1,"aria-label":"Back button. Press Enter to goto the parent folder."+(parent&&parent.name?" Parent folder name: ".concat(parent.name):"")+" Press Up or Down to navigate the list.",children:[Object(w.jsx)(Cr,{"aria-hidden":!0}),parent?Object(w.jsx)("span",{className:"parent-folder",children:parent.name}):null,this.state.isLoadingDirectory?Object(w.jsx)(Z.a,{theme:"dark",htmlAttributes:{"aria-label":"Loading the directory files list..."}}):null]})}},{key:"renderCurrentDirectoryRow",value:function(e){var t=e.name?"".concat(e.name,". Current directory. "):"",n=1===this.visibleFiles.count()?"item":"items",i=this.visibleFiles?" ".concat(this.visibleFiles.count()," ").concat(n,". "):"",r="\n    ".concat(t).concat(i,"Press Enter to reload the contents. Press Up or Down to navigate the list.\n    ");return Object(w.jsxs)("div",{ref:this.currentRef,className:"current-folder",onClick:this._onRefresh,tabIndex:this.currentFocusable?0:-1,"aria-label":r,children:[Object(w.jsxs)("div",{"aria-hidden":!0,title:e.name,className:"content-item",children:[Object(w.jsx)(Dr,{className:"file-browser-icon"}),Object(w.jsx)("span",{children:e.name})]}),Object(w.jsx)(Nr,{className:"refresh-icon","aria-hidden":!0})]})}},{key:"onRemoteClientInit",value:function(){this.client&&(this.client.getFileSystem()?this.fileSystemReadyHandler():this.client.on(rr.c,this.fileSystemReadyHandler))}},{key:"changeDirectory",value:function(){var e=Object(Di.a)(Ri.a.mark((function e(t){return Ri.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.client.changeDirectory(t);case 4:(this.state.focusIndex>1||0===this.state.focusIndex)&&this.setState({focusIndex:1});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"moveToDirectory",value:function(){var e=Object(Di.a)(Ri.a.mark((function e(t){return Ri.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.client){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.client.moveToDirectory(t);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(c.PureComponent);Wr.contextType=Y.a;var Kr,Xr=n(1118),qr=["title","titleId"];function Yr(){return Yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Yr.apply(this,arguments)}function Qr(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gr(e,t){var n=e.title,i=e.titleId,r=Qr(e,qr);return c.createElement("svg",Yr({width:48,height:48,viewBox:"0 0 48 48",ref:t,"aria-labelledby":i},r),n?c.createElement("title",{id:i},n):null,Kr||(Kr=c.createElement("path",{d:"M22.222 9.777v1.778H8V40h28.445V25.778h1.778v16h-32v-32h16zm19.555-3.555v13.333h-1.776V9.257L20.184 29.073l-1.257-1.257L38.744 8h-10.3V6.222h13.333z"})))}var Zr=c.forwardRef(Gr),Jr=(n.p,n(1354),Object(c.memo)((function(){var e,t=Object(u.e)(y.D),n=Object(u.e)(y.m),i=n?Object(Qi.a)().getRemoteClient(n.id):void 0;return Object(w.jsxs)(Oe,{className:"files-settings",children:[Object(w.jsx)("h2",{children:"Upload File"}),Object(w.jsx)(Xr.a,{vm:n,isDisabled:!t,label:"Upload files to your cloud workspace"}),Object(w.jsxs)("p",{className:"upload-fallback",children:[Object(w.jsx)("span",{"aria-hidden":!0,children:"You can also use any upload service like "}),Object(w.jsxs)(Zi,{"aria-label":"You can also use any upload service like https://ufile.io, opens in new window",href:"https://ufile.io",target:"_blank",rel:"noopener noreferrer",children:["ufile.io",Object(w.jsx)(Zr,{"aria-hidden":!0,className:"external-link"})]})]}),Object(w.jsx)("div",{className:"separator"}),Object(w.jsx)(Wr,{isDisabled:!t,remoteClient:i,vm:n},null===i||void 0===i||null===(e=i.getFileSystem())||void 0===e?void 0:e.id)]})}))),$r=n(1372),eo=n(365),to=(n(1355),function(){var e=Object(u.d)(),t=Object(u.e)(y.y);return Object(w.jsxs)("div",{className:"student-help",children:[!t&&Object(w.jsxs)("section",{className:"student-help__tip student-help__highlight",children:[Object(w.jsx)("h4",{className:"student-help__tip-title",children:"Want to download your project files?"}),Object(w.jsx)("div",{className:"student-help__tip-content",children:"Access the Files tab next to the Instructor tab. Then click on the files you want to download."}),Object(w.jsx)("img",{className:"student-help__tip-image",src:"data:image/png;base64,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","aria-hidden":!0})]}),Object(w.jsxs)("section",{className:"student-help__section",children:[Object(w.jsx)("h3",{className:"student-help__section-title",children:"Troubleshooting"}),Object(w.jsx)("div",{className:"student-help__section-content",children:"Visit our learner support center to get answers to frequently asked questions."}),Object(w.jsxs)(L.a,{className:"student-help__section-button",component:"a",href:"https://learner.coursera.help/hc/en-us/articles/360044549452",target:"_blank",size:"small",variant:"secondary",children:["Visit Support Centre ",Object(w.jsx)($r.a,{className:"external-link"})]})]}),Object(w.jsxs)("section",{className:"student-help__section",children:[Object(w.jsx)("h3",{className:"student-help__section-title",children:"Keyboard shortcuts"}),Object(w.jsxs)("div",{className:"student-help__section-content",children:["To see a full list of shortcuts at any time, press ",Object(w.jsx)("kbd",{className:"student-help__highlight",children:"shift"})," ",Object(w.jsx)("kbd",{className:"student-help__highlight",children:"?"}),Object(w.jsx)(L.a,{className:"student-help__section-button student-help__section-button--block",size:"small",variant:"secondary",onClick:function(){return e(new eo.c)},children:"See shortcuts"})]})]})]})}),no=n(8),io=function e(t){Object(r.a)(this,e),this.settings=t,this.type=no.a.SetUserRoomSettings},ro=n(337),oo=n(359),ao="If any of your keys are stuck in the cloud desktop click this button to release them",so={"aria-label":"Release Keys. ".concat(ao)},co=function(){var e=Object(u.d)(),t=Object(u.e)(y.m),n=Object(c.useCallback)((function(){return e(new oo.d(t.id))}),[e,t]);return Object(w.jsx)(L.a,Object(i.a)(Object(i.a)({className:"coursera-tooltip","data-tooltip":ao,onClick:n,disabled:!t,variant:"secondary",size:"small"},so),{},{children:"Release Keys"}))},lo=n(1119);n(1356);function uo(e,t){t(new io(Object(qt.a)({},e.name,e.checked)))}var po=function(){var e=Object(u.e)(y.v),t=Object(u.d)(),n=Object(c.useCallback)((function(e){return uo(e,t)}),[t]),i=Object(c.useCallback)((function(e){return function(e,t){return ho.apply(this,arguments)}(e,t)}),[t]),r=Object(c.useCallback)((function(e){t(new io({a11yIncreaseTimeAdjustables:e.checked}))}),[t]);return Object(w.jsxs)("div",{className:"session-settings",children:[Object(w.jsxs)("fieldset",{className:"settings-group",children:[Object(w.jsx)("legend",{className:"settings-group-title",children:"Video playback"}),Object(w.jsx)(lo.a,{name:"playVideoInBackground",checked:e.playVideoInBackground,onChange:n,children:"Keep playing video when the web page is inactive"})]}),Object(w.jsxs)("fieldset",{className:"settings-group",children:[Object(w.jsx)("legend",{className:"settings-group-title",children:"Accessibility"}),Object(w.jsx)(lo.a,{name:"enableKeyboardShortcuts",checked:e.enableKeyboardShortcuts,onChange:n,children:"Enable keyboard shortcuts"}),Object(w.jsx)(lo.a,{name:"a11yDisableVM",checked:e.a11yDisableVM,onChange:i,children:"Accessible mode"}),Object(w.jsx)(lo.a,{name:"a11yTimeAdjustable",checked:e.a11yIncreaseTimeAdjustables,onChange:r,children:"Extend time-limited interactions"})]}),e.a11yDisableVM?null:Object(w.jsxs)("fieldset",{className:"settings-group",children:[Object(w.jsx)("legend",{className:"settings-group-title",children:"Controls"}),Object(w.jsx)("div",{className:"controls",children:Object(w.jsx)(co,{})})]})]})};function ho(){return(ho=Object(Di.a)(Ri.a.mark((function e(t,n){var i;return Ri.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.checked,e.next=3,n(Object(ro.a)(Object(p.V)({id:"confirm-disable-vm-checkbox",choices:Object(Fn.List)([Object(p.U)({id:"yes",label:i?"Enable and reload":"Disable and reload",type:"cancel"}),Object(p.U)({id:"no",label:"Cancel"})]),cancelChoiceIndex:1,title:i?"Enable accessible mode?":"Disable accessible mode?",message:Object(w.jsxs)(w.Fragment,{children:[i?"If you enable accessible mode, the cloud workspace will be turned off. You will be able to practice on your own computer by installing the needed software.":"If you disable accessible mode, the cloud workspace will be available and you will be able to practice on it.",Object(w.jsx)("br",{}),Object(w.jsx)("br",{}),"After ",i?"disabling":"enabling",", the page will reload to apply the change."]})}),{autoCloseOnButtonPress:!0}));case 3:"yes"===e.sent&&(uo(t,n),window.onbeforeunload=null,location.reload());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fo,bo=[p.Z.Host,p.Z.FilesSettings],vo=[p.Z.Host],mo={sessionCompletedOverlay:!1,isInactivityModalVisible:!1,isSettingsVisible:!1,isHelpVisible:!1,playbackRate:J.a.x100},yo=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state=mo,i._notifyEndIsNear=void 0,i._stayedInSessionAfterCompletingIt=!1,i._remoteTrackAddedUnsubscribe=x.a,i._remoteTrackRemovedUnsubscribe=x.a,i._onInactivityLimitReachedUnsubscriber=x.a,i._appInteractionTracker=new X,i._keyboardActionHandlers=void 0,i.onFocusVmConnect=function(){i._appInteractionTracker.startTracking()},i.onFocusVmDisconnect=function(){i._appInteractionTracker.stopTracking()},i.onToggleExpandRightPanel=function(){var e=i.props.expandedPanel.mode===p.C.Right?p.C.None:p.C.Right;i.props.changeExpandedPanel(e)},i.onViewChange=function(e){i.props.setVisibleView(e)},i.onSessionCompleted=function(){i.props.room.settings.timerSource!==p.X.ChapterDuration||i._stayedInSessionAfterCompletingIt||i.setState({sessionCompletedOverlay:!0})},i.onPlaybackRateChange=function(e){i.setState({playbackRate:e})},i.stayInSession=function(){i._stayedInSessionAfterCompletingIt=!0,i.setState({sessionCompletedOverlay:!1})},i.toggleInactivityModal=function(e){i.setState({isInactivityModalVisible:e})},i.toggleSettings=function(){i.setState({isSettingsVisible:!i.state.isSettingsVisible,isHelpVisible:!1})},i.toggleHelp=function(){i.setState({isHelpVisible:!i.state.isHelpVisible,isSettingsVisible:!1})},i.onConfirmInactivity=function(){i.toggleInactivityModal(!1),i.props.onConfirmInactivity()},i._onInactivityLimitReached=function(){i.state.isInactivityModalVisible||i.toggleInactivityModal(!0)},i._keyboardActionHandlers={"video.toggleExpand":i.onToggleExpandRightPanel},i}return Object(o.a)(n,[{key:"lastVMInteraction",get:function(){return this._appInteractionTracker.lastVmInteraction}},{key:"shouldRenderFilesView",get:function(){return!this.props.isVirtualBrowserTemplate&&!this.props.a11yDisableVM}},{key:"visibleViewIds",get:function(){return this.shouldRenderFilesView?bo:vo}},{key:"componentDidMount",value:function(){Object(ce.a)(!0),this._onInactivityLimitReachedUnsubscriber=this._appInteractionTracker.onInactivityLimitReached(this._onInactivityLimitReached)}},{key:"componentWillUnmount",value:function(){Object(ce.a)(!1),this._remoteTrackAddedUnsubscribe(),this._remoteTrackRemovedUnsubscribe(),this._onInactivityLimitReachedUnsubscriber(),this._appInteractionTracker.stopTracking()}},{key:"componentDidUpdate",value:function(e){var t=this.props.expandedPanel;t!==e.expandedPanel&&t.mode===p.C.Right&&t.expandedByGuide&&this.props.views&&this.props.setVisibleView(p.Z.Host)}},{key:"renderStudentUI",value:function(){var e,t;return Object(w.jsxs)(G.c,{children:[Object(w.jsx)(kn,{}),Object(w.jsx)(Q.c,{handlers:this._keyboardActionHandlers}),Object(w.jsx)(At,{header:Object(w.jsxs)(Rt,{children:[Object(w.jsx)(Ke,{}),Object(w.jsx)(ve,{}),Object(w.jsx)(_t,{}),Object(w.jsx)(qe,{onToggleHelp:this.toggleHelp,selected:this.state.isHelpVisible}),Object(w.jsx)(Ue,{onToggleSettings:this.toggleSettings,selected:this.state.isSettingsVisible}),Object(w.jsx)(We,{onLeave:this.props.onSessionLeave})]}),content:Object(w.jsx)(Ht,{leftPanel:this.props.a11yDisableVM?null:Object(w.jsx)(Bt,{className:A()((null===(e=this.props.currentChapter)||void 0===e?void 0:e.type)===p.n.Practice&&"splitter-panel--lightgray"),"data-onboarding-step":gn,header:Object(w.jsx)(ze,{}),content:Object(w.jsxs)(w.Fragment,{children:[this.renderScreenOverlays(),this._renderFocusVm()]}),ariaLabel:"Cloud Workspace"}),rightPanel:Object(w.jsx)(Bt,{className:A()((null===(t=this.props.currentChapter)||void 0===t?void 0:t.type)===p.n.Practice&&"splitter-panel--lightgray"),"data-onboarding-step":jn,header:Object(w.jsx)(Pn,{selectedTabId:this.props.visibleView,onTabClick:this.onViewChange,visibleTabIds:this.visibleViewIds}),content:this._renderViews(),ariaLabel:"Instructor's Panel"})})}),Object(w.jsx)(En,{visible:this.state.isInactivityModalVisible,onToggle:this.toggleInactivityModal,onConfirmInactivity:this.onConfirmInactivity}),Object(w.jsx)(le,{title:"Help",visible:this.state.isHelpVisible,onToggle:this.toggleHelp,children:Object(w.jsx)(to,{})}),Object(w.jsx)(le,{title:"Settings",visible:this.state.isSettingsVisible,onToggle:this.toggleSettings,children:Object(w.jsx)(po,{})})]})}},{key:"renderSidebarOverlay",value:function(){return this.renderSessionCompleteOverlay(this.state.sessionCompletedOverlay&&this.props.a11yDisableVM)}},{key:"renderScreenOverlays",value:function(){return this.renderSessionCompleteOverlay(this.state.sessionCompletedOverlay&&!this.props.a11yDisableVM)}},{key:"renderSessionCompleteOverlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(w.jsx)(zn,{visible:e,course:this.props.course,stay:this.stayInSession,leave:this.props.onSessionLeave})}},{key:"render",value:function(){return this.renderStudentUI()}},{key:"_renderFocusVm",value:function(){return Object(w.jsx)(Y.b,{isDisabled:this.state.sessionCompletedOverlay,children:Object(w.jsx)(Re,{onEvent:this._appInteractionTracker.logVmInteraction,onConnect:this.onFocusVmConnect,onDisconnect:this.onFocusVmDisconnect})})}},{key:"_renderViews",value:function(){return Object(w.jsxs)(w.Fragment,{children:[this.renderSidebarOverlay(),Object(w.jsx)(Xt,{ref:this.props.onViewsRef,visibleViewId:this.props.visibleView,onViewChange:this.onViewChange,children:this.shouldRenderFilesView?[this._renderHostView(),this._renderFilesView()]:[this._renderHostView()]})]})}},{key:"_renderHostView",value:function(){return this.props.currentChapter||console.error("There is no currentChapter in recorded session"),Object(w.jsx)(Kt,{id:p.Z.Host,landmarkAriaLabel:"Instructor (Video) tab",children:this.props.currentChapter?Object(w.jsx)(Yi,{isInactivityModalVisible:this.state.isInactivityModalVisible,onSessionCompleted:this.onSessionCompleted,onPlaybackRateChange:this.onPlaybackRateChange}):Object(w.jsx)(Z.a,{theme:"dark"})},p.Z.Host)}},{key:"_renderFilesView",value:function(){return Object(w.jsx)(Kt,{id:p.Z.FilesSettings,landmarkAriaLabel:"Files on your cloud workspace",children:Object(w.jsx)(Jr,{})},p.Z.FilesSettings)}}]),n}(c.PureComponent),jo=Object(u.c)((function(e){return{course:Object(y.t)(e),room:Object(y.l)(e),currentChapter:Object(y.f)(e),isVirtualBrowserTemplate:Object(y.y)(e),expandedPanel:e.expandedPanel,visibleView:e.sessionApp.visibleView||p.Z.Host,a11yDisableVM:Object(y.v)(e).a11yDisableVM}}),(function(e){return{changeExpandedPanel:function(t){return e(new d.w(t))},setVisibleView:function(t){return e(new d.wb(t))}}}))(yo),go=(n(1357),function(e){var t=e.redirecting?m.b.redirecting:m.b.inProgress;return Object(w.jsxs)("div",{className:"page-wrapper","aria-label":t,"aria-busy":"true",children:[Object(w.jsx)(I.a,{overflow:"hidden"}),Object(w.jsx)(D.a,{}),Object(w.jsxs)("div",{className:"room-loading",children:[Object(w.jsx)(Z.a,{theme:"dark"}),Object(w.jsx)("h1",{children:t})]})]})}),Oo=(n(1358),{sessionEndedAfterJoin:!1,views:null}),xo=function(e){Object(a.a)(n,e);var t=Object(s.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).state=Oo,i.onSessionLeave=function(){return i.endSession()},i.navigateToCoursera=function(){var e,t=null===(e=i.props.roomCourse)||void 0===e?void 0:e.courseraSlug,n=t?Object(f.Q)(t):f.d;location.href=n},i.onActiveUser=function(){Object(j.g)(i.props.currentRoomId),i.state.sessionEndedAfterJoin?(i.setState({sessionEndedAfterJoin:!1}),i.beginRoomInit()):i.beginEnterRoom()},i.onConfirmInactivity=function(){Object(j.k)(i.props.currentRoomId),i.endSession()},i.onViewsRef=function(e){i.setState({views:e})},i.renderContent=function(){var e=i.props.initRoomStatus;if(i.props.initRoomError)return Object(w.jsx)(V,{error:i.props.initRoomError});if(i.showInactiveView)return Object(w.jsx)(q,{onActiveUser:i.onActiveUser});if(e===p.T.RoomEntered&&i.props.currentAttendee)return Object(w.jsx)(jo,{views:i.state.views,onViewsRef:i.onViewsRef,onSessionLeave:i.onSessionLeave,onConfirmInactivity:i.onConfirmInactivity});var t=e===p.T.RoomExiting||e===p.T.RoomExited;return Object(w.jsx)(go,{redirecting:t})},i.endSession=function(){i.props.dispatch(new d.t),i.setState({sessionEndedAfterJoin:!0})},i.beginRoomInit=function(){return i.props.dispatch(new d.u(i.roomSecret))},i.beginEnterRoom=function(){return i.props.dispatch(new d.s(i.roomSecret))},Object(b.c)(),i}return Object(o.a)(n,[{key:"roomSecret",get:function(){return this.props.match.params.secret}},{key:"showInactiveView",get:function(){return this.props.currentRoomId&&Object(j.l)(this.props.currentRoomId)}},{key:"componentDidMount",value:function(){this.beginRoomInit()}},{key:"componentWillUnmount",value:function(){this.props.dispatch(new d.H)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,i=n.initRoomStatus,r=n.visibleView;if(i!==e.initRoomStatus&&(i!==p.T.LobbyLoaded||this.showInactiveView||this.beginEnterRoom(),i!==p.T.RoomExited||this.showInactiveView||this.navigateToCoursera(),i===p.T.RoomEntered&&v.b.say(m.b.success),i!==p.T.EnterRoomError&&i!==p.T.LobbyLoadError||v.b.say(m.b.error)),!t.views&&this.state.views&&!r){var o=this.state.views.props.children.filter(Boolean);if(o.length){var a=o[0].props.id;this.props.setVisibleView(a)}}!e.roomCourse&&this.props.roomCourse&&(document.title=Object(h.b)("Coursera",this.props.roomCourse))}},{key:"render",value:function(){return Object(w.jsxs)(C,{children:[Object(w.jsxs)("div",{className:"room-wrapper",children:[Object(w.jsx)(g.a,{}),this.renderContent()]}),Object(w.jsx)(R,{})]})}}]),n}(c.Component),wo=(fo=function(e){var t={currentRoomId:Object(u.e)((function(e){return e.currentRoom})),roomCourse:Object(u.e)(y.s),currentAttendee:Object(u.e)(y.e),initRoomStatus:Object(u.e)((function(e){return e.sessionApp.initStatus})),initRoomError:Object(u.e)((function(e){return e.sessionApp.initError})),visibleView:Object(u.e)((function(e){return e.sessionApp.visibleView}))},n=Object(u.d)(),r=Object(c.useCallback)((function(e){return n(new d.wb(e))}),[n]);return Object(w.jsx)(xo,Object(i.a)(Object(i.a)(Object(i.a)({},e),t),{},{dispatch:n,setVisibleView:r}))},function(e){var t=Object(u.e)(y.e);return Object(c.useEffect)((function(){}),[t]),Object(w.jsx)(fo,Object(i.a)({},e))})},994:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={encode:function(e){return atob(e.toDataURL("image/jpg").replace(/^data:image\/(png|jpg);base64,/,""))},decode:function(e,t){return"data:".concat(t,";base64,").concat(btoa(e))},toArrayBuffer:function(e){for(var t=(e=atob(e.split(",")[1])).length,n=new Uint8Array(t),i=0;i<t;++i)n[i]=e.charCodeAt(i);return n.buffer},fromArrayBuffer:function(e,t){return this.decode(String.fromCharCode.apply(null,Array.from(new Uint8Array(e))),t)},toBlob:function(e){for(var t=(e=atob(e.split(",")[1])).length,n=new Uint8Array(t),i=0;i<t;++i)n[i]=e.charCodeAt(i);return new Blob([n],{type:"image/png"})}}},996:function(e,t,n){"use strict";var i;n.d(t,"e",(function(){return i})),n.d(t,"i",(function(){return A})),n.d(t,"h",(function(){return M})),n.d(t,"g",(function(){return L})),n.d(t,"c",(function(){return z})),n.d(t,"j",(function(){return X})),n.d(t,"f",(function(){return G})),n.d(t,"b",(function(){return J})),n.d(t,"d",(function(){return te})),n.d(t,"a",(function(){return T.a})),function(e){e[e.Collapse=0]="Collapse",e[e.Expand=1]="Expand"}(i||(i={}));var r=n(16),o=n.n(r),a=n(25),s=n(4),c=n(14),l=n(349),u=n(5),d=Math.pow(2,32)-1,p=function(){function e(){Object(s.a)(this,e),this.version=new Uint8Array([0]),this.packetSize=5}return Object(c.a)(e,[{key:"encodeExpandModeEvent",value:function(e,t){if(e>d)throw new Error("Cannot encode time stamps bigger than 32bit");var n=new Uint32Array([e]),i=new Uint8Array([t]);return new Blob([n,i])}},{key:"decodeBuffer",value:function(e){for(var t=[],n=0;n+5<=e.byteLength;n+=5){var i=new DataView(e,n,5);t.push(this.decodePacket(i))}if(n!==e.byteLength)throw new Error("Invalid package size. It is not dividable by ".concat(5,"."));return t}},{key:"decodePacket",value:function(e){if(5===e.byteLength)return[e.getUint32(0,!0),e.getUint8(4)];throw new Error("Cannot decode packet with size "+e.byteLength)}},{key:"getPacketTimestamp",value:function(e,t){return e.getUint32(t,!0)}},{key:"setPacketTimestamp",value:function(e,t,n){return e.setUint32(t,n,!0)}}]),e}(),h=Object(u.a)({},0,(function(){return new p})),f=function(e){var t=Object(l.c)(e),n=h[t];if(!n)throw new Error("ExpandModeCodec with version ".concat(t," not supported"));return n()},b=function(){function e(){Object(s.a)(this,e),this._encoder=new p}return Object(c.a)(e,[{key:"trim",value:function(e,t){var n=Object(l.f)(e.expandTrackBuffer,f,t);return Promise.resolve(n)}},{key:"merge",value:function(e){var t=Object(l.e)(e,(function(e){return e.expandTrackBuffer}),this._encoder);return Promise.resolve(t)}}]),e}(),v=n(356),m=n(184),y=function(){function e(){Object(s.a)(this,e),this._encoder=new m.a}return Object(c.a)(e,[{key:"trim",value:function(e,t){var n=Object(l.f)(e.inputTrackBuffer,v.c,t);return Promise.resolve(n)}},{key:"merge",value:function(e){var t=Object(l.e)(e,(function(e){return e.inputTrackBuffer}),this._encoder);return Promise.resolve(t)}}]),e}(),j=n(361);new b,new y;var g,O=n(31),x=n(36),w=n(37),k=n(1157),C=n(151),_=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(s.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).notificationText="Recording too short",e}return n}(Object(k.a)(Error)),A=function(){function e(t,n,i){Object(s.a)(this,e),this._mediaRecorder=t,this._inputRecorder=n,this._expandModeRecorder=i,this._state="stopped",this._startTime=void 0,this._duration=0,this._recorders=void 0,this._recorders=[this._mediaRecorder,this._inputRecorder,this._expandModeRecorder]}return Object(c.a)(e,[{key:"size",get:function(){return this._recorders.reduce((function(e,t){return e+t.size}),0)}},{key:"duration",get:function(){return"recording"===this._state?Date.now()-this._startTime:this._duration}},{key:"isRecording",get:function(){return"recording"===this._state}},{key:"start",value:function(){"stopped"===this._state&&(this._startTime=Date.now(),this._duration=0,this._state="recording",this._recorders.forEach((function(e){return e.start()})))}},{key:"stop",value:function(){var e=Object(a.a)(o.a.mark((function e(){var t,n=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("recording"===this._state){e.next=2;break}return e.abrupt("return",Promise.reject("Cannot stop ScreenRecorder. Current state is ".concat(this._state)));case 2:return this._state="processing",t=Date.now()-this._startTime,this._duration=t,e.abrupt("return",Promise.all(this._recorders.map((function(e){return e.stop()}))).then(function(){var e=Object(a.a)(o.a.mark((function e(i){var r,a,s,c,u,d,p,h,f,b,m;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(O.a)(i,3),a=r[0],s=r[1],c=r[2],n._state="stopped",!(t<C.e)){e.next=4;break}throw new _;case 4:return e.next=6,Object(j.a)(a);case 6:return a=e.sent,u=URL.createObjectURL(a),e.next=10,Object(v.d)(s);case 10:return d=e.sent,e.next=13,Object(v.d)(c);case 13:return p=e.sent,e.next=16,Object(l.b)(u);case 16:return h=e.sent,f=n._recorders[0],b=f.videoWidth,m=f.videoHeight,e.abrupt("return",{id:Object(l.a)(),videoTrack:a,inputTrack:s,inputTrackBuffer:d,expandTrack:c,expandTrackBuffer:p,dataSize:a.size+s.size+c.size,mediaUrl:u,duration:h,videoWidth:b,videoHeight:m});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateStream",value:function(e){this._recorders.forEach((function(t){return t.updateStream(e)}))}}]),e}(),S=n(55),P=n(345),E=n(346),R=n.n(E);var D,I,M=(g=function(){function e(t,n,i){Object(s.a)(this,e),this._client=t,this._audioStream=n,this._resolution=i,this._state="stopped",this._config=function(){var e,t=[{mediaType:"video/webm;codecs=vp9,opus",audioBitRate:128e3,videoBitRate:2516582,frameRate:30,timeSlice:1e3},{mediaType:"video/webm;codecs=vp8,opus",audioBitRate:128e3,videoBitRate:2516582,frameRate:24,timeSlice:1e3}];return function(){if(e)return e;if(!(e=t.find((function(e){return MediaRecorder.isTypeSupported(e.mediaType)}))))throw new Error("No supported media codec found");return e}()}(),this._videoElement=document.createElement("video"),this._recorder=void 0,this._videoStreamCanvasContext=void 0,this._blobBuffer=[],this._pollingTimeout=void 0,this._pollingDuration=void 0,this._isUsingUpdatedVideoStream=!1,this._stopResolve=void 0,this._stopReject=void 0}return Object(c.a)(e,[{key:"videoWidth",get:function(){return this._resolution.width}},{key:"videoHeight",get:function(){return this._resolution.height}},{key:"start",value:function(){if("stopped"===this._state){this._pollingDuration=1e3/(this._config.frameRate||30);var e=this._createVideoStreamCanvas(),t=new MediaStream([].concat(Object(S.a)(e.getTracks()),Object(S.a)(this._audioStream.getAudioTracks())));this._recorder=new MediaRecorder(t,{mimeType:this._config.mediaType,audioBitsPerSecond:this._config.audioBitRate,videoBitsPerSecond:this._config.videoBitRate}),this._recorder.ondataavailable=this._onRecorderDataAvailable,this._recorder.onstop=this._onRecorderStopped,this._recorder.onerror=this._onRecorderError,this._recorder.start(this._config.timeSlice),this._poll(),this._state="recording",console.log("Recording started. MediaType: ".concat(this._config.mediaType," FrameRate: ").concat(this._config.frameRate," Resolution: ").concat(this._resolution.width,"/").concat(this._resolution.height))}}},{key:"stop",value:function(){var e=this;return this._stopPolling(),this._recorder.stop(),this._state="processing",new Promise((function(t,n){e._stopResolve=function(){e._state="stopped",t(new Blob(e._blobBuffer,{type:"video/webm"})),e._cleanUp()},e._stopReject=n}))}},{key:"updateStream",value:function(e){this._isUsingUpdatedVideoStream=!!e,e&&(this._videoElement.autoplay=!0,this._videoElement.srcObject=e,this._videoElement.height=this._resolution.height,this._videoElement.width=this._resolution.width)}},{key:"size",get:function(){return this._blobBuffer.reduce((function(e,t){return e+t.size}),0)}},{key:"_onRecorderDataAvailable",value:function(e){this._blobBuffer.push(e.data)}},{key:"_onRecorderStopped",value:function(e){this._stopResolve&&this._stopResolve()}},{key:"_onRecorderError",value:function(e){console.error("MediaRecorder error",e),this._state="error",this._stopReject&&this._stopReject(e),this._cleanUp()}},{key:"_poll",value:function(){this._refreshCanvas(),this._pollingTimeout=setTimeout(this._poll,this._pollingDuration)}},{key:"_cleanUp",value:function(){this._stopPolling(),this._blobBuffer=[],this._stopResolve=void 0,this._stopReject=void 0}},{key:"_stopPolling",value:function(){this._pollingTimeout&&(clearTimeout(this._pollingTimeout),this._pollingTimeout=void 0)}},{key:"_createVideoStreamCanvas",value:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n=e.captureStream(this._config.frameRate),i=this._resolution,r=i.width,o=i.height;if(e.width=r,e.height=o,!t)throw new Error("Cannot initialize the context");return this._videoStreamCanvasContext=t,n}},{key:"_refreshCanvas",value:function(){this._isUsingUpdatedVideoStream?this._drawVideoStream():this._drawVM()}},{key:"_drawVM",value:function(){var e=this._client.getDisplay(),t=this._client.getDisplayCanvas();if(t&&t.width&&t.height&&e){var n=this._resolution;this._videoStreamCanvasContext.drawImage(t,0,0,e?e.getWidth():0,e?e.getHeight():0,0,0,n.width,n.height);var i=this._client.getMouse();if(i){var r=this._client.getCursorCanvas();if(r){var o=i.currentState,a=t.width/n.width;this._videoStreamCanvasContext.drawImage(r,0,0,r.width,r.height,(o.x-e.cursorHotspotX)/a/this._client.scaleX||1,(o.y-e.cursorHotspotY)/a/this._client.scaleY||1,r.width/a,r.height/a)}}}}},{key:"_drawVideoStream",value:function(){this._videoStreamCanvasContext.drawImage(this._videoElement,0,0,this._videoElement.width,this._videoElement.height)}}]),e}(),Object(P.a)(g.prototype,"_onRecorderDataAvailable",[R.a],Object.getOwnPropertyDescriptor(g.prototype,"_onRecorderDataAvailable"),g.prototype),Object(P.a)(g.prototype,"_onRecorderStopped",[R.a],Object.getOwnPropertyDescriptor(g.prototype,"_onRecorderStopped"),g.prototype),Object(P.a)(g.prototype,"_onRecorderError",[R.a],Object.getOwnPropertyDescriptor(g.prototype,"_onRecorderError"),g.prototype),Object(P.a)(g.prototype,"_poll",[R.a],Object.getOwnPropertyDescriptor(g.prototype,"_poll"),g.prototype),g),V=n(183),T=n(134),N=n(124),L=(D=function(){function e(t,n){Object(s.a)(this,e),this._client=void 0,this._onKeyboardEventCallback=void 0,this._codec=new m.a,this._startedAt=0,this._disableClicks=void 0,this._blobs=[],this._lastMouseMoveUpdate=void 0,this._recordKeyUp=this._recordKey(!1),this._recordKeyDown=this._recordKey(!0),this._client=t,this._onKeyboardEventCallback=n}return Object(c.a)(e,[{key:"_isRecording",get:function(){return 0!==this._startedAt}},{key:"size",get:function(){return this._blobs.reduce((function(e,t){return e+t.size}),0)}},{key:"start",value:function(){this._isRecording||(this._startedAt=Date.now(),this._blobs=[new Blob([this._codec.version])],this._recordInitialMousePosition(),this._client.on(V.h,this._recordMouseUp),this._client.on(V.f,this._recordMouseDown),this._client.on(V.g,this._recordMouseMove),this._client.on(V.d,this._recordKeyDown),this._client.on(V.e,this._recordKeyUp))}},{key:"stop",value:function(){if(!this._isRecording)return Promise.reject(new Error("Cannot stop when not recording"));this._client.off(V.h,this._recordMouseUp),this._client.off(V.f,this._recordMouseDown),this._client.off(V.g,this._recordMouseMove),this._client.off(V.d,this._recordKeyDown),this._client.off(V.e,this._recordKeyUp);var e=new Blob(this._blobs);return this._startedAt=0,Promise.resolve(e)}},{key:"updateStream",value:function(e){this._disableClicks=!!e}},{key:"_recordMouseUp",value:function(e){this._isRecording&&!this._disableClicks&&this._encodeMouseEvent(Object(N.d)(e),e.x/this._client.scaleX,e.y/this._client.scaleY)}},{key:"_recordMouseDown",value:function(e){this._isRecording&&!this._disableClicks&&this._encodeMouseEvent(Object(N.d)(e),e.x/this._client.scaleX,e.y/this._client.scaleY)}},{key:"_recordMouseMove",value:function(e){this._isRecording&&(!this._lastMouseMoveUpdate||Math.abs(this._lastMouseMoveUpdate.x-e.x)>=5||Math.abs(this._lastMouseMoveUpdate.y-e.y)>=5)&&(this._disableClicks&&(e.left=!1,e.right=!1,e.middle=!1),this._lastMouseMoveUpdate={x:e.x,y:e.y},this._encodeMouseEvent(Object(N.d)(e),e.x/this._client.scaleX,e.y/this._client.scaleY))}},{key:"_recordInitialMousePosition",value:function(){var e=this._client.getMouse();e&&this._recordMouseMove(e.currentState)}},{key:"_recordKey",value:function(e){var t=this;return function(n){if(t._isRecording){var i=t._encodeKeyboardEvent(e?1:0,n).timestamp;t._onKeyboardEventCallback({type:T.a.Keyboard,timestamp:i,keyCode:n,down:e})}}}},{key:"_encodeKeyboardEvent",value:function(e,t){var n=Date.now()-this._startedAt;return this._blobs.push(this._codec.encodeKeyboardEvent(n,e,t)),{timestamp:n,down:e,keyCode:t}}},{key:"_encodeMouseEvent",value:function(e,t,n){var i=Date.now()-this._startedAt;this._blobs.push(this._codec.encodeMouseEvent(i,e,t,n))}}]),e}(),Object(P.a)(D.prototype,"_recordMouseUp",[R.a],Object.getOwnPropertyDescriptor(D.prototype,"_recordMouseUp"),D.prototype),Object(P.a)(D.prototype,"_recordMouseDown",[R.a],Object.getOwnPropertyDescriptor(D.prototype,"_recordMouseDown"),D.prototype),Object(P.a)(D.prototype,"_recordMouseMove",[R.a],Object.getOwnPropertyDescriptor(D.prototype,"_recordMouseMove"),D.prototype),D),z=(I=function(){function e(t){Object(s.a)(this,e),this._source=t,this._codec=new p,this._blobs=[],this._startedAt=0}return Object(c.a)(e,[{key:"_isRecording",get:function(){return 0!==this._startedAt}},{key:"size",get:function(){return this._blobs.reduce((function(e,t){return e+t.size}),0)}},{key:"start",value:function(){this._isRecording||(this._blobs=[new Blob([this._codec.version])],this._startedAt=Date.now(),this._recordInitialMode(this._source.currentMode),this._source.onCollapse(this._collapse),this._source.onExpand(this._expand))}},{key:"stop",value:function(){if(!this._isRecording)return Promise.reject(new Error("Cannot stop when not recording"));var e=new Blob(this._blobs);return this._source.offCollapse(this._collapse),this._source.offExpand(this._expand),this._startedAt=0,Promise.resolve(e)}},{key:"updateStream",value:function(e){}},{key:"_collapse",value:function(){this._recordExpandModeEvent(i.Collapse)}},{key:"_expand",value:function(){this._recordExpandModeEvent(i.Expand)}},{key:"_recordExpandModeEvent",value:function(e){this._isRecording&&this._blobs.push(this._codec.encodeExpandModeEvent(Date.now()-this._startedAt,e))}},{key:"_recordInitialMode",value:function(e){this._blobs.push(this._codec.encodeExpandModeEvent(0,e))}}]),e}(),Object(P.a)(I.prototype,"_collapse",[R.a],Object.getOwnPropertyDescriptor(I.prototype,"_collapse"),I.prototype),Object(P.a)(I.prototype,"_expand",[R.a],Object.getOwnPropertyDescriptor(I.prototype,"_expand"),I.prototype),Object(P.a)(I.prototype,"_recordExpandModeEvent",[R.a],Object.getOwnPropertyDescriptor(I.prototype,"_recordExpandModeEvent"),I.prototype),I),F=n(13),B=n(1),U=n(0),H="annotations-notification-contex",W=Object(F.List)([]),K=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e))._timeout=void 0,i._playbackRate=1,i._isPlaying=!1,i}return Object(c.a)(n,[{key:"play",value:function(e){this._isPlaying=!0,this._instance.props.dispatch(new B.F(H));var t=this._annotations.filter((function(t){return t.time>=e}));this._nextAnnotation(e,t)}},{key:"pause",value:function(){this._isPlaying=!1,this._timeout&&clearTimeout(this._timeout)}},{key:"destroy",value:function(){this.pause(),this._instance.props.dispatch(new B.F(H))}},{key:"setPlaybackRate",value:function(e,t){this._playbackRate=e,this._isPlaying&&(this.pause(),this.play(t))}},{key:"_nextAnnotation",value:function(e,t){var n=this;if(this._timeout&&clearTimeout(this._timeout),t.size){var i=t.first(),r=(i.time-e)/this._playbackRate;this._timeout=setTimeout((function(){n._instance.props.dispatch(new B.j(new U.H({type:U.I.Annotation,title:"Annotation",text:i.content,context:H,ttl:i.duration}))),n._nextAnnotation(i.time,t.delete(0))}),r)}}}]),n}(function(){function e(t){Object(s.a)(this,e),this._instance=t}return Object(c.a)(e,[{key:"_annotations",get:function(){return this._instance.props.annotations||W}}]),e}()),X=function(e){return new K(e)},q=n(94),Y=(n(357),Symbol("OnFrame")),Q=Symbol("Finish"),G=function(){function e(t){Object(s.a)(this,e),this._emitter=new q.EventEmitter,this._currentTime=0,this._startedFrom=0,this._playing=!1,this._view=void 0,this._iterator=void 0,this._lastMouseEvent=void 0,this._skipNextFrame=!1,this._startTime=0,this._currentTimeout=void 0,this._playbackRate=1,this._view=new v.b(t)}return Object(c.a)(e,[{key:"play",value:function(e){return clearTimeout(this._currentTimeout),this._startTime=Date.now(),this._startedFrom=e/this._playbackRate,this._currentTime=e/this._playbackRate,this._skipNextFrame=!1,this._iterator=this._view.getIteratorAt(e),this._playing=!0,this._nextFrame(),this._view.getKeyframeAt(e)}},{key:"setPlaybackRate",value:function(e){this._playbackRate=e}},{key:"getKeyframeAt",value:function(e){return this._view.getKeyframeAt(e)}},{key:"pause",value:function(){clearTimeout(this._currentTimeout),this._playing=!1}},{key:"resume",value:function(){this._playing||this._nextFrame()}},{key:"onFrame",value:function(e){var t=this;return this._emitter.on(Y,e),function(){return t._emitter.off(Y,e)}}},{key:"onFinish",value:function(e){var t=this;return this._emitter.on(Q,e),function(){return t._emitter.off(Q,e)}}},{key:"sync",value:function(e){Math.abs(e-this._currentTime)>150&&(console.log("Syncing the input player"),this.play(e))}},{key:"_nextFrame",value:function(){var e=this,t=this._iterator.next();if(!t.done&&t.value){var n=t.value,i=n.timestamp/this._playbackRate;if(this._skipNextFrame&&this._canSkip(n))return console.log("Skipping frame"),this._currentTime=i,this._nextFrame();var r=Date.now()-this._startTime,o=this._currentTime-this._startedFrom,a=i-this._currentTime,s=r-o,c=Math.max(0,a-s);0===c&&(this._skipNextFrame=!0),this._currentTimeout=setTimeout((function(){e._emitter.emit(Y,n),e._currentTime=i,e._nextFrame()}),c)}else this._emitter.emit(Q)}},{key:"_canSkip",value:function(e){if(e.type===v.a.Keyboard)return!1;var t=this._lastMouseEvent;return!!t&&(t.down===e.down&&t.left===e.left&&t.middle===e.middle&&t.right===e.right&&e.up===e.up)}}]),e}(),Z=function(){},J=function(){function e(t){Object(s.a)(this,e),this.codec=void 0,this.events=void 0,this.playbackRate=1,this.learnerSidebarModeChangeTimestamp=-1,this.isPlaying=!1,this.timeout=void 0,this.expandModeChangeCallback=Z,this.codec=f(t);var n=this.codec.decodeBuffer(t.slice(1));this.events=this.translate(n)}return Object(c.a)(e,[{key:"onExpandModeChange",value:function(e){this.expandModeChangeCallback=e}},{key:"play",value:function(e){this.isPlaying=!0;var t=this.events.filter((function(t){return t.timestamp<e}));if(t.length){var n=t[t.length-1];n.timestamp>this.learnerSidebarModeChangeTimestamp&&this.expandModeChangeCallback(n.type)}else-1===this.learnerSidebarModeChangeTimestamp&&this.expandModeChangeCallback(i.Collapse);var r=this.events.filter((function(t){return t.timestamp>=e}));this.nextExpandModeChange(e,r)}},{key:"pause",value:function(){this.isPlaying=!1,this.clearTimeout()}},{key:"destroy",value:function(){this.isPlaying=!1,this.clearTimeout()}},{key:"setPlaybackRate",value:function(e,t){this.playbackRate=e,this.isPlaying&&(this.pause(),this.play(t))}},{key:"learnerChangedSidebarMode",value:function(e){this.learnerSidebarModeChangeTimestamp=e}},{key:"nextExpandModeChange",value:function(e,t){var n=this;if(t.length){var i=t[0],r=(i.timestamp-e)/this.playbackRate;this.clearTimeout(),this.timeout=setTimeout((function(){n.expandModeChangeCallback(i.type),t.shift(),n.nextExpandModeChange(i.timestamp,t)}),r)}}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this.timeout&&clearTimeout(this.timeout)}))},{key:"translate",value:function(e){return e.map((function(e){return{timestamp:e[0],type:e[1]}})).filter((function(e,t,n){return 0===t||e.type!==n[t-1].type}))}}]),e}(),$=Symbol("Expand"),ee=Symbol("Collapse"),te=function(e){Object(x.a)(n,e);var t=Object(w.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o)))._currentMode=i.Collapse,e}return Object(c.a)(n,[{key:"currentMode",get:function(){return this._currentMode}},{key:"onExpand",value:function(e){return this.addListener($,e)}},{key:"onCollapse",value:function(e){return this.addListener(ee,e)}},{key:"offExpand",value:function(e){return this.removeListener($,e)}},{key:"offCollapse",value:function(e){return this.removeListener(ee,e)}},{key:"didExpand",value:function(){this._currentMode=i.Expand,this.emit($)}},{key:"didCollapse",value:function(){this._currentMode=i.Collapse,this.emit(ee)}}]),n}(q.EventEmitter)}}]);
//# sourceMappingURL=8.5ce9ecbe.chunk.js.map